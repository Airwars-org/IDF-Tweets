import{s as me,O as q,P as B,f as I,i as S,v as y,Q as Rt,k as N,R as Te,n as le,o as at,e as P,t as te,d as T,h as ne,S as tt,l as R,F as mi,T as yi,p as Re,U as De,V as wi,x as qt,b as X,W as ye,j as K,m as _e,X as Zt,A as Ei,Y as Zn,r as Xn,w as nt}from"../chunks/scheduler.CFfJM9d-.js";import{S as we,i as Ee,t as F,g as Me,a as O,c as Ie,b as pe,d as de,m as ge,e as ve}from"../chunks/index.vBYw-KPi.js";import{w as Kn}from"../chunks/index.B0GAXNr7.js";function x(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}class Le{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const i=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){const l=i[r],o=e+l,c=Math.abs(e)<Math.abs(l)?e-(o-l):l-(o-e);c&&(i[n++]=c),e=o}return i[n]=e,this._n=n+1,this}valueOf(){const e=this._partials;let i=this._n,n,r,l,o=0;if(i>0){for(o=e[--i];i>0&&(n=o,r=e[--i],o=n+r,l=r-(o-n),!l););i>0&&(l<0&&e[i-1]<0||l>0&&e[i-1]>0)&&(r=l*2,n=o+r,r==n-o&&(o=n))}return o}}function*Si(t){for(const e of t)yield*e}function Jn(t){return Array.from(Si(t))}var z=1e-6,ki=1e-12,j=Math.PI,re=j/2,Xt=j/4,se=j*2,oe=180/j,$=j/180,G=Math.abs,Qn=Math.atan,Ke=Math.atan2,Y=Math.cos,Ci=Math.exp,Di=Math.log,Z=Math.sin,bi=Math.sign||function(t){return t>0?1:t<0?-1:0},Ve=Math.sqrt,Ri=Math.tan;function Mi(t){return t>1?0:t<-1?j:Math.acos(t)}function Je(t){return t>1?re:t<-1?-re:Math.asin(t)}function ce(){}function ut(t,e){t&&Jt.hasOwnProperty(t.type)&&Jt[t.type](t,e)}var Kt={Feature:function(t,e){ut(t.geometry,e)},FeatureCollection:function(t,e){for(var i=t.features,n=-1,r=i.length;++n<r;)ut(i[n].geometry,e)}},Jt={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)t=i[n],e.point(t[0],t[1],t[2])},LineString:function(t,e){Mt(t.coordinates,e,0)},MultiLineString:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)Mt(i[n],e,0)},Polygon:function(t,e){Qt(t.coordinates,e)},MultiPolygon:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)Qt(i[n],e)},GeometryCollection:function(t,e){for(var i=t.geometries,n=-1,r=i.length;++n<r;)ut(i[n],e)}};function Mt(t,e,i){var n=-1,r=t.length-i,l;for(e.lineStart();++n<r;)l=t[n],e.point(l[0],l[1],l[2]);e.lineEnd()}function Qt(t,e){var i=-1,n=t.length;for(e.polygonStart();++i<n;)Mt(t[i],e,1);e.polygonEnd()}function je(t,e){t&&Kt.hasOwnProperty(t.type)?Kt[t.type](t,e):ut(t,e)}function It(t){return[Ke(t[1],t[0]),Je(t[2])]}function Fe(t){var e=t[0],i=t[1],n=Y(i);return[n*Y(e),n*Z(e),Z(i)]}function it(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ct(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function yt(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function rt(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Pt(t){var e=Ve(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Tt(t,e){function i(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(i.invert=function(n,r){return n=e.invert(n,r),n&&t.invert(n[0],n[1])}),i}function Nt(t,e){return G(t)>j&&(t-=Math.round(t/se)*se),[t,e]}Nt.invert=Nt;function $n(t,e,i){return(t%=se)?e||i?Tt(xt(t),en(e,i)):xt(t):e||i?en(e,i):Nt}function $t(t){return function(e,i){return e+=t,G(e)>j&&(e-=Math.round(e/se)*se),[e,i]}}function xt(t){var e=$t(t);return e.invert=$t(-t),e}function en(t,e){var i=Y(t),n=Z(t),r=Y(e),l=Z(e);function o(c,u){var f=Y(u),a=Y(c)*f,s=Z(c)*f,p=Z(u),_=p*i+a*n;return[Ke(s*r-_*l,a*i-p*n),Je(_*r+s*l)]}return o.invert=function(c,u){var f=Y(u),a=Y(c)*f,s=Z(c)*f,p=Z(u),_=p*r-s*l;return[Ke(s*r+p*l,a*i+_*n),Je(_*i-a*n)]},o}function Ii(t){t=$n(t[0]*$,t[1]*$,t.length>2?t[2]*$:0);function e(i){return i=t(i[0]*$,i[1]*$),i[0]*=oe,i[1]*=oe,i}return e.invert=function(i){return i=t.invert(i[0]*$,i[1]*$),i[0]*=oe,i[1]*=oe,i},e}function Pi(t,e,i,n,r,l){if(i){var o=Y(e),c=Z(e),u=n*i;r==null?(r=e+n*se,l=e-u/2):(r=tn(o,r),l=tn(o,l),(n>0?r<l:r>l)&&(r+=n*se));for(var f,a=r;n>0?a>l:a<l;a-=u)f=It([o,-c*Y(a),-c*Z(a)]),t.point(f[0],f[1])}}function tn(t,e){e=Fe(e),e[0]-=t,Pt(e);var i=Mi(-e[1]);return((-e[2]<0?-i:i)+se-z)%se}function xn(){var t=[],e;return{point:function(i,n,r){e.push([i,n,r])},lineStart:function(){t.push(e=[])},lineEnd:ce,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var i=t;return t=[],e=null,i}}}function st(t,e){return G(t[0]-e[0])<z&&G(t[1]-e[1])<z}function lt(t,e,i,n){this.x=t,this.z=e,this.o=i,this.e=n,this.v=!1,this.n=this.p=null}function ei(t,e,i,n,r){var l=[],o=[],c,u;if(t.forEach(function(d){if(!((h=d.length-1)<=0)){var h,g=d[0],m=d[h],v;if(st(g,m)){if(!g[2]&&!m[2]){for(r.lineStart(),c=0;c<h;++c)r.point((g=d[c])[0],g[1]);r.lineEnd();return}m[0]+=2*z}l.push(v=new lt(g,d,null,!0)),o.push(v.o=new lt(g,null,v,!1)),l.push(v=new lt(m,d,null,!1)),o.push(v.o=new lt(m,null,v,!0))}}),!!l.length){for(o.sort(e),nn(l),nn(o),c=0,u=o.length;c<u;++c)o[c].e=i=!i;for(var f=l[0],a,s;;){for(var p=f,_=!0;p.v;)if((p=p.n)===f)return;a=p.z,r.lineStart();do{if(p.v=p.o.v=!0,p.e){if(_)for(c=0,u=a.length;c<u;++c)r.point((s=a[c])[0],s[1]);else n(p.x,p.n.x,1,r);p=p.n}else{if(_)for(a=p.p.z,c=a.length-1;c>=0;--c)r.point((s=a[c])[0],s[1]);else n(p.x,p.p.x,-1,r);p=p.p}p=p.o,a=p.z,_=!_}while(!p.v);r.lineEnd()}}}function nn(t){if(e=t.length){for(var e,i=0,n=t[0],r;++i<e;)n.n=r=t[i],r.p=n,n=r;n.n=r=t[0],r.p=n}}function wt(t){return G(t[0])<=j?t[0]:bi(t[0])*((G(t[0])+j)%se-j)}function Ti(t,e){var i=wt(e),n=e[1],r=Z(n),l=[Z(i),-Y(i),0],o=0,c=0,u=new Le;r===1?n=re+z:r===-1&&(n=-re-z);for(var f=0,a=t.length;f<a;++f)if(p=(s=t[f]).length)for(var s,p,_=s[p-1],d=wt(_),h=_[1]/2+Xt,g=Z(h),m=Y(h),v=0;v<p;++v,d=C,g=M,m=D,_=w){var w=s[v],C=wt(w),E=w[1]/2+Xt,M=Z(E),D=Y(E),b=C-d,A=b>=0?1:-1,U=A*b,L=U>j,J=g*M;if(u.add(Ke(J*A*Z(U),m*D+J*Y(U))),o+=L?b+A*se:b,L^d>=i^C>=i){var H=ct(Fe(_),Fe(w));Pt(H);var W=ct(l,H);Pt(W);var k=(L^b>=0?-1:1)*Je(W[2]);(n>k||n===k&&(H[0]||H[1]))&&(c+=L^b>=0?1:-1)}}return(o<-z||o<z&&u<-ki)^c&1}function ti(t,e,i,n){return function(r){var l=e(r),o=xn(),c=e(o),u=!1,f,a,s,p={point:_,lineStart:h,lineEnd:g,polygonStart:function(){p.point=m,p.lineStart=v,p.lineEnd=w,a=[],f=[]},polygonEnd:function(){p.point=_,p.lineStart=h,p.lineEnd=g,a=Jn(a);var C=Ti(f,n);a.length?(u||(r.polygonStart(),u=!0),ei(a,Li,C,i,r)):C&&(u||(r.polygonStart(),u=!0),r.lineStart(),i(null,null,1,r),r.lineEnd()),u&&(r.polygonEnd(),u=!1),a=f=null},sphere:function(){r.polygonStart(),r.lineStart(),i(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function _(C,E){t(C,E)&&r.point(C,E)}function d(C,E){l.point(C,E)}function h(){p.point=d,l.lineStart()}function g(){p.point=_,l.lineEnd()}function m(C,E){s.push([C,E]),c.point(C,E)}function v(){c.lineStart(),s=[]}function w(){m(s[0][0],s[0][1]),c.lineEnd();var C=c.clean(),E=o.result(),M,D=E.length,b,A,U;if(s.pop(),f.push(s),s=null,!!D){if(C&1){if(A=E[0],(b=A.length-1)>0){for(u||(r.polygonStart(),u=!0),r.lineStart(),M=0;M<b;++M)r.point((U=A[M])[0],U[1]);r.lineEnd()}return}D>1&&C&2&&E.push(E.pop().concat(E.shift())),a.push(E.filter(Ni))}}return p}}function Ni(t){return t.length>1}function Li(t,e){return((t=t.x)[0]<0?t[1]-re-z:re-t[1])-((e=e.x)[0]<0?e[1]-re-z:re-e[1])}const rn=ti(function(){return!0},Ai,Ui,[-j,-re]);function Ai(t){var e=NaN,i=NaN,n=NaN,r;return{lineStart:function(){t.lineStart(),r=1},point:function(l,o){var c=l>0?j:-j,u=G(l-e);G(u-j)<z?(t.point(e,i=(i+o)/2>0?re:-re),t.point(n,i),t.lineEnd(),t.lineStart(),t.point(c,i),t.point(l,i),r=0):n!==c&&u>=j&&(G(e-n)<z&&(e-=n*z),G(l-c)<z&&(l-=c*z),i=Vi(e,i,l,o),t.point(n,i),t.lineEnd(),t.lineStart(),t.point(c,i),r=0),t.point(e=l,i=o),n=c},lineEnd:function(){t.lineEnd(),e=i=NaN},clean:function(){return 2-r}}}function Vi(t,e,i,n){var r,l,o=Z(t-i);return G(o)>z?Qn((Z(e)*(l=Y(n))*Z(i)-Z(n)*(r=Y(e))*Z(t))/(r*l*o)):(e+n)/2}function Ui(t,e,i,n){var r;if(t==null)r=i*re,n.point(-j,r),n.point(0,r),n.point(j,r),n.point(j,0),n.point(j,-r),n.point(0,-r),n.point(-j,-r),n.point(-j,0),n.point(-j,r);else if(G(t[0]-e[0])>z){var l=t[0]<e[0]?j:-j;r=i*l/2,n.point(-l,r),n.point(0,r),n.point(l,r)}else n.point(e[0],e[1])}function ji(t){var e=Y(t),i=2*$,n=e>0,r=G(e)>z;function l(a,s,p,_){Pi(_,t,i,p,a,s)}function o(a,s){return Y(a)*Y(s)>e}function c(a){var s,p,_,d,h;return{lineStart:function(){d=_=!1,h=1},point:function(g,m){var v=[g,m],w,C=o(g,m),E=n?C?0:f(g,m):C?f(g+(g<0?j:-j),m):0;if(!s&&(d=_=C)&&a.lineStart(),C!==_&&(w=u(s,v),(!w||st(s,w)||st(v,w))&&(v[2]=1)),C!==_)h=0,C?(a.lineStart(),w=u(v,s),a.point(w[0],w[1])):(w=u(s,v),a.point(w[0],w[1],2),a.lineEnd()),s=w;else if(r&&s&&n^C){var M;!(E&p)&&(M=u(v,s,!0))&&(h=0,n?(a.lineStart(),a.point(M[0][0],M[0][1]),a.point(M[1][0],M[1][1]),a.lineEnd()):(a.point(M[1][0],M[1][1]),a.lineEnd(),a.lineStart(),a.point(M[0][0],M[0][1],3)))}C&&(!s||!st(s,v))&&a.point(v[0],v[1]),s=v,_=C,p=E},lineEnd:function(){_&&a.lineEnd(),s=null},clean:function(){return h|(d&&_)<<1}}}function u(a,s,p){var _=Fe(a),d=Fe(s),h=[1,0,0],g=ct(_,d),m=it(g,g),v=g[0],w=m-v*v;if(!w)return!p&&a;var C=e*m/w,E=-e*v/w,M=ct(h,g),D=rt(h,C),b=rt(g,E);yt(D,b);var A=M,U=it(D,A),L=it(A,A),J=U*U-L*(it(D,D)-1);if(!(J<0)){var H=Ve(J),W=rt(A,(-U-H)/L);if(yt(W,D),W=It(W),!p)return W;var k=a[0],V=s[0],Q=a[1],ee=s[1],ae;V<k&&(ae=k,k=V,V=ae);var Oe=V-k,Se=G(Oe-j)<z,Pe=Se||Oe<z;if(!Se&&ee<Q&&(ae=Q,Q=ee,ee=ae),Pe?Se?Q+ee>0^W[1]<(G(W[0]-k)<z?Q:ee):Q<=W[1]&&W[1]<=ee:Oe>j^(k<=W[0]&&W[0]<=V)){var ke=rt(A,(-U+H)/L);return yt(ke,D),[W,It(ke)]}}}function f(a,s){var p=n?t:j-t,_=0;return a<-p?_|=1:a>p&&(_|=2),s<-p?_|=4:s>p&&(_|=8),_}return ti(o,c,l,n?[0,-t]:[-j,t-j])}function Wi(t,e,i,n,r,l){var o=t[0],c=t[1],u=e[0],f=e[1],a=0,s=1,p=u-o,_=f-c,d;if(d=i-o,!(!p&&d>0)){if(d/=p,p<0){if(d<a)return;d<s&&(s=d)}else if(p>0){if(d>s)return;d>a&&(a=d)}if(d=r-o,!(!p&&d<0)){if(d/=p,p<0){if(d>s)return;d>a&&(a=d)}else if(p>0){if(d<a)return;d<s&&(s=d)}if(d=n-c,!(!_&&d>0)){if(d/=_,_<0){if(d<a)return;d<s&&(s=d)}else if(_>0){if(d>s)return;d>a&&(a=d)}if(d=l-c,!(!_&&d<0)){if(d/=_,_<0){if(d>s)return;d>a&&(a=d)}else if(_>0){if(d<a)return;d<s&&(s=d)}return a>0&&(t[0]=o+a*p,t[1]=c+a*_),s<1&&(e[0]=o+s*p,e[1]=c+s*_),!0}}}}}var qe=1e9,ot=-qe;function Fi(t,e,i,n){function r(f,a){return t<=f&&f<=i&&e<=a&&a<=n}function l(f,a,s,p){var _=0,d=0;if(f==null||(_=o(f,s))!==(d=o(a,s))||u(f,a)<0^s>0)do p.point(_===0||_===3?t:i,_>1?n:e);while((_=(_+s+4)%4)!==d);else p.point(a[0],a[1])}function o(f,a){return G(f[0]-t)<z?a>0?0:3:G(f[0]-i)<z?a>0?2:1:G(f[1]-e)<z?a>0?1:0:a>0?3:2}function c(f,a){return u(f.x,a.x)}function u(f,a){var s=o(f,1),p=o(a,1);return s!==p?s-p:s===0?a[1]-f[1]:s===1?f[0]-a[0]:s===2?f[1]-a[1]:a[0]-f[0]}return function(f){var a=f,s=xn(),p,_,d,h,g,m,v,w,C,E,M,D={point:b,lineStart:J,lineEnd:H,polygonStart:U,polygonEnd:L};function b(k,V){r(k,V)&&a.point(k,V)}function A(){for(var k=0,V=0,Q=_.length;V<Q;++V)for(var ee=_[V],ae=1,Oe=ee.length,Se=ee[0],Pe,ke,et=Se[0],Ue=Se[1];ae<Oe;++ae)Pe=et,ke=Ue,Se=ee[ae],et=Se[0],Ue=Se[1],ke<=n?Ue>n&&(et-Pe)*(n-ke)>(Ue-ke)*(t-Pe)&&++k:Ue<=n&&(et-Pe)*(n-ke)<(Ue-ke)*(t-Pe)&&--k;return k}function U(){a=s,p=[],_=[],M=!0}function L(){var k=A(),V=M&&k,Q=(p=Jn(p)).length;(V||Q)&&(f.polygonStart(),V&&(f.lineStart(),l(null,null,1,f),f.lineEnd()),Q&&ei(p,c,k,l,f),f.polygonEnd()),a=f,p=_=d=null}function J(){D.point=W,_&&_.push(d=[]),E=!0,C=!1,v=w=NaN}function H(){p&&(W(h,g),m&&C&&s.rejoin(),p.push(s.result())),D.point=b,C&&a.lineEnd()}function W(k,V){var Q=r(k,V);if(_&&d.push([k,V]),E)h=k,g=V,m=Q,E=!1,Q&&(a.lineStart(),a.point(k,V));else if(Q&&C)a.point(k,V);else{var ee=[v=Math.max(ot,Math.min(qe,v)),w=Math.max(ot,Math.min(qe,w))],ae=[k=Math.max(ot,Math.min(qe,k)),V=Math.max(ot,Math.min(qe,V))];Wi(ee,ae,t,e,i,n)?(C||(a.lineStart(),a.point(ee[0],ee[1])),a.point(ae[0],ae[1]),Q||a.lineEnd(),M=!1):Q&&(a.lineStart(),a.point(k,V),M=!1)}v=k,w=V,C=Q}return D}}const Lt=t=>t;var Et=new Le,At=new Le,ni,ii,Vt,Ut,Ce={point:ce,lineStart:ce,lineEnd:ce,polygonStart:function(){Ce.lineStart=Hi,Ce.lineEnd=zi},polygonEnd:function(){Ce.lineStart=Ce.lineEnd=Ce.point=ce,Et.add(G(At)),At=new Le},result:function(){var t=Et/2;return Et=new Le,t}};function Hi(){Ce.point=Oi}function Oi(t,e){Ce.point=ri,ni=Vt=t,ii=Ut=e}function ri(t,e){At.add(Ut*t-Vt*e),Vt=t,Ut=e}function zi(){ri(ni,ii)}var He=1/0,ft=He,Qe=-He,ht=Qe,pt={point:qi,lineStart:ce,lineEnd:ce,polygonStart:ce,polygonEnd:ce,result:function(){var t=[[He,ft],[Qe,ht]];return Qe=ht=-(ft=He=1/0),t}};function qi(t,e){t<He&&(He=t),t>Qe&&(Qe=t),e<ft&&(ft=e),e>ht&&(ht=e)}var jt=0,Wt=0,Be=0,dt=0,gt=0,We=0,Ft=0,Ht=0,Ge=0,li,oi,fe,he,ue={point:Ae,lineStart:ln,lineEnd:on,polygonStart:function(){ue.lineStart=Yi,ue.lineEnd=Zi},polygonEnd:function(){ue.point=Ae,ue.lineStart=ln,ue.lineEnd=on},result:function(){var t=Ge?[Ft/Ge,Ht/Ge]:We?[dt/We,gt/We]:Be?[jt/Be,Wt/Be]:[NaN,NaN];return jt=Wt=Be=dt=gt=We=Ft=Ht=Ge=0,t}};function Ae(t,e){jt+=t,Wt+=e,++Be}function ln(){ue.point=Bi}function Bi(t,e){ue.point=Gi,Ae(fe=t,he=e)}function Gi(t,e){var i=t-fe,n=e-he,r=Ve(i*i+n*n);dt+=r*(fe+t)/2,gt+=r*(he+e)/2,We+=r,Ae(fe=t,he=e)}function on(){ue.point=Ae}function Yi(){ue.point=Xi}function Zi(){si(li,oi)}function Xi(t,e){ue.point=si,Ae(li=fe=t,oi=he=e)}function si(t,e){var i=t-fe,n=e-he,r=Ve(i*i+n*n);dt+=r*(fe+t)/2,gt+=r*(he+e)/2,We+=r,r=he*t-fe*e,Ft+=r*(fe+t),Ht+=r*(he+e),Ge+=r*3,Ae(fe=t,he=e)}function ai(t){this._context=t}ai.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,se);break}}},result:ce};var Ot=new Le,St,ui,ci,Ye,Ze,$e={point:ce,lineStart:function(){$e.point=Ki},lineEnd:function(){St&&fi(ui,ci),$e.point=ce},polygonStart:function(){St=!0},polygonEnd:function(){St=null},result:function(){var t=+Ot;return Ot=new Le,t}};function Ki(t,e){$e.point=fi,ui=Ye=t,ci=Ze=e}function fi(t,e){Ye-=t,Ze-=e,Ot.add(Ve(Ye*Ye+Ze*Ze)),Ye=t,Ze=e}let sn,vt,an,un;class cn{constructor(e){this._append=e==null?hi:Ji(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,i){switch(this._point){case 0:{this._append`M${e},${i}`,this._point=1;break}case 1:{this._append`L${e},${i}`;break}default:{if(this._append`M${e},${i}`,this._radius!==an||this._append!==vt){const n=this._radius,r=this._;this._="",this._append`m0,${n}a${n},${n} 0 1,1 0,${-2*n}a${n},${n} 0 1,1 0,${2*n}z`,an=n,vt=this._append,un=this._,this._=r}this._+=un;break}}}result(){const e=this._;return this._="",e.length?e:null}}function hi(t){let e=1;this._+=t[0];for(const i=t.length;e<i;++e)this._+=arguments[e]+t[e]}function Ji(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return hi;if(e!==sn){const i=10**e;sn=e,vt=function(r){let l=1;this._+=r[0];for(const o=r.length;l<o;++l)this._+=Math.round(arguments[l]*i)/i+r[l]}}return vt}function _t(t,e){let i=3,n=4.5,r,l;function o(c){return c&&(typeof n=="function"&&l.pointRadius(+n.apply(this,arguments)),je(c,r(l))),l.result()}return o.area=function(c){return je(c,r(Ce)),Ce.result()},o.measure=function(c){return je(c,r($e)),$e.result()},o.bounds=function(c){return je(c,r(pt)),pt.result()},o.centroid=function(c){return je(c,r(ue)),ue.result()},o.projection=function(c){return arguments.length?(r=c==null?(t=null,Lt):(t=c).stream,o):t},o.context=function(c){return arguments.length?(l=c==null?(e=null,new cn(i)):new ai(e=c),typeof n!="function"&&l.pointRadius(n),o):e},o.pointRadius=function(c){return arguments.length?(n=typeof c=="function"?c:(l.pointRadius(+c),+c),o):n},o.digits=function(c){if(!arguments.length)return i;if(c==null)i=null;else{const u=Math.floor(c);if(!(u>=0))throw new RangeError(`invalid digits: ${c}`);i=u}return e===null&&(l=new cn(i)),o},o.projection(t).digits(i).context(e)}function Bt(t){return function(e){var i=new zt;for(var n in t)i[n]=t[n];return i.stream=e,i}}function zt(){}zt.prototype={constructor:zt,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Gt(t,e,i){var n=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),n!=null&&t.clipExtent(null),je(i,t.stream(pt)),e(pt.result()),n!=null&&t.clipExtent(n),t}function pi(t,e,i){return Gt(t,function(n){var r=e[1][0]-e[0][0],l=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),l/(n[1][1]-n[0][1])),c=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,u=+e[0][1]+(l-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([c,u])},i)}function Qi(t,e,i){return pi(t,[[0,0],e],i)}function $i(t,e,i){return Gt(t,function(n){var r=+e,l=r/(n[1][0]-n[0][0]),o=(r-l*(n[1][0]+n[0][0]))/2,c=-l*n[0][1];t.scale(150*l).translate([o,c])},i)}function xi(t,e,i){return Gt(t,function(n){var r=+e,l=r/(n[1][1]-n[0][1]),o=-l*n[0][0],c=(r-l*(n[1][1]+n[0][1]))/2;t.scale(150*l).translate([o,c])},i)}var fn=16,er=Y(30*$);function hn(t,e){return+e?nr(t,e):tr(t)}function tr(t){return Bt({point:function(e,i){e=t(e,i),this.stream.point(e[0],e[1])}})}function nr(t,e){function i(n,r,l,o,c,u,f,a,s,p,_,d,h,g){var m=f-n,v=a-r,w=m*m+v*v;if(w>4*e&&h--){var C=o+p,E=c+_,M=u+d,D=Ve(C*C+E*E+M*M),b=Je(M/=D),A=G(G(M)-1)<z||G(l-s)<z?(l+s)/2:Ke(E,C),U=t(A,b),L=U[0],J=U[1],H=L-n,W=J-r,k=v*H-m*W;(k*k/w>e||G((m*H+v*W)/w-.5)>.3||o*p+c*_+u*d<er)&&(i(n,r,l,o,c,u,L,J,A,C/=D,E/=D,M,h,g),g.point(L,J),i(L,J,A,C,E,M,f,a,s,p,_,d,h,g))}}return function(n){var r,l,o,c,u,f,a,s,p,_,d,h,g={point:m,lineStart:v,lineEnd:C,polygonStart:function(){n.polygonStart(),g.lineStart=E},polygonEnd:function(){n.polygonEnd(),g.lineStart=v}};function m(b,A){b=t(b,A),n.point(b[0],b[1])}function v(){s=NaN,g.point=w,n.lineStart()}function w(b,A){var U=Fe([b,A]),L=t(b,A);i(s,p,a,_,d,h,s=L[0],p=L[1],a=b,_=U[0],d=U[1],h=U[2],fn,n),n.point(s,p)}function C(){g.point=m,n.lineEnd()}function E(){v(),g.point=M,g.lineEnd=D}function M(b,A){w(r=b,A),l=s,o=p,c=_,u=d,f=h,g.point=w}function D(){i(s,p,a,_,d,h,l,o,r,c,u,f,fn,n),g.lineEnd=C,C()}return g}}var ir=Bt({point:function(t,e){this.stream.point(t*$,e*$)}});function rr(t){return Bt({point:function(e,i){var n=t(e,i);return this.stream.point(n[0],n[1])}})}function lr(t,e,i,n,r){function l(o,c){return o*=n,c*=r,[e+t*o,i-t*c]}return l.invert=function(o,c){return[(o-e)/t*n,(i-c)/t*r]},l}function pn(t,e,i,n,r,l){if(!l)return lr(t,e,i,n,r);var o=Y(l),c=Z(l),u=o*t,f=c*t,a=o/t,s=c/t,p=(c*i-o*e)/t,_=(c*e+o*i)/t;function d(h,g){return h*=n,g*=r,[u*h-f*g+e,i-f*h-u*g]}return d.invert=function(h,g){return[n*(a*h-s*g+p),r*(_-s*h-a*g)]},d}function or(t){return sr(function(){return t})()}function sr(t){var e,i=150,n=480,r=250,l=0,o=0,c=0,u=0,f=0,a,s=0,p=1,_=1,d=null,h=rn,g=null,m,v,w,C=Lt,E=.5,M,D,b,A,U;function L(k){return b(k[0]*$,k[1]*$)}function J(k){return k=b.invert(k[0],k[1]),k&&[k[0]*oe,k[1]*oe]}L.stream=function(k){return A&&U===k?A:A=ir(rr(a)(h(M(C(U=k)))))},L.preclip=function(k){return arguments.length?(h=k,d=void 0,W()):h},L.postclip=function(k){return arguments.length?(C=k,g=m=v=w=null,W()):C},L.clipAngle=function(k){return arguments.length?(h=+k?ji(d=k*$):(d=null,rn),W()):d*oe},L.clipExtent=function(k){return arguments.length?(C=k==null?(g=m=v=w=null,Lt):Fi(g=+k[0][0],m=+k[0][1],v=+k[1][0],w=+k[1][1]),W()):g==null?null:[[g,m],[v,w]]},L.scale=function(k){return arguments.length?(i=+k,H()):i},L.translate=function(k){return arguments.length?(n=+k[0],r=+k[1],H()):[n,r]},L.center=function(k){return arguments.length?(l=k[0]%360*$,o=k[1]%360*$,H()):[l*oe,o*oe]},L.rotate=function(k){return arguments.length?(c=k[0]%360*$,u=k[1]%360*$,f=k.length>2?k[2]%360*$:0,H()):[c*oe,u*oe,f*oe]},L.angle=function(k){return arguments.length?(s=k%360*$,H()):s*oe},L.reflectX=function(k){return arguments.length?(p=k?-1:1,H()):p<0},L.reflectY=function(k){return arguments.length?(_=k?-1:1,H()):_<0},L.precision=function(k){return arguments.length?(M=hn(D,E=k*k),W()):Ve(E)},L.fitExtent=function(k,V){return pi(L,k,V)},L.fitSize=function(k,V){return Qi(L,k,V)},L.fitWidth=function(k,V){return $i(L,k,V)},L.fitHeight=function(k,V){return xi(L,k,V)};function H(){var k=pn(i,0,0,p,_,s).apply(null,e(l,o)),V=pn(i,n-k[0],r-k[1],p,_,s);return a=$n(c,u,f),D=Tt(e,V),b=Tt(a,D),M=hn(D,E),W()}function W(){return A=U=null,L}return function(){return e=t.apply(this,arguments),L.invert=e.invert&&J,H()}}function Yt(t,e){return[t,Di(Ri((re+e)/2))]}Yt.invert=function(t,e){return[t,2*Qn(Ci(e))-re]};function di(){return ar(Yt).scale(961/se)}function ar(t){var e=or(t),i=e.center,n=e.scale,r=e.translate,l=e.clipExtent,o=null,c,u,f;e.scale=function(s){return arguments.length?(n(s),a()):n()},e.translate=function(s){return arguments.length?(r(s),a()):r()},e.center=function(s){return arguments.length?(i(s),a()):i()},e.clipExtent=function(s){return arguments.length?(s==null?o=c=u=f=null:(o=+s[0][0],c=+s[0][1],u=+s[1][0],f=+s[1][1]),a()):o==null?null:[[o,c],[u,f]]};function a(){var s=j*n(),p=e(Ii(e.rotate()).invert([0,0]));return l(o==null?[[p[0]-s,p[1]-s],[p[0]+s,p[1]+s]]:t===Yt?[[Math.max(p[0]-s,o),c],[Math.min(p[0]+s,u),f]]:[[o,Math.max(p[1]-s,c)],[u,Math.min(p[1]+s,f)]])}return a()}function ur(t){return t}function cr(t){if(t==null)return ur;var e,i,n=t.scale[0],r=t.scale[1],l=t.translate[0],o=t.translate[1];return function(c,u){u||(e=i=0);var f=2,a=c.length,s=new Array(a);for(s[0]=(e+=c[0])*n+l,s[1]=(i+=c[1])*r+o;f<a;)s[f]=c[f],++f;return s}}function fr(t,e){for(var i,n=t.length,r=n-e;r<--n;)i=t[r],t[r++]=t[n],t[n]=i}function kt(t,e){return typeof e=="string"&&(e=t.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(i){return dn(t,i)})}:dn(t,e)}function dn(t,e){var i=e.id,n=e.bbox,r=e.properties==null?{}:e.properties,l=hr(t,e);return i==null&&n==null?{type:"Feature",properties:r,geometry:l}:n==null?{type:"Feature",id:i,properties:r,geometry:l}:{type:"Feature",id:i,bbox:n,properties:r,geometry:l}}function hr(t,e){var i=cr(t.transform),n=t.arcs;function r(a,s){s.length&&s.pop();for(var p=n[a<0?~a:a],_=0,d=p.length;_<d;++_)s.push(i(p[_],_));a<0&&fr(s,d)}function l(a){return i(a)}function o(a){for(var s=[],p=0,_=a.length;p<_;++p)r(a[p],s);return s.length<2&&s.push(s[0]),s}function c(a){for(var s=o(a);s.length<4;)s.push(s[0]);return s}function u(a){return a.map(c)}function f(a){var s=a.type,p;switch(s){case"GeometryCollection":return{type:s,geometries:a.geometries.map(f)};case"Point":p=l(a.coordinates);break;case"MultiPoint":p=a.coordinates.map(l);break;case"LineString":p=o(a.arcs);break;case"MultiLineString":p=a.arcs.map(o);break;case"Polygon":p=u(a.arcs);break;case"MultiPolygon":p=a.arcs.map(u);break;default:return null}return{type:s,coordinates:p}}return f(e)}const Ne=Kn(null),mt=Kn(null);function pr(t){let e,i,n,r,l;return{c(){e=q("circle"),this.h()},l(o){e=B(o,"circle",{class:!0,id:!0,r:!0,cx:!0,cy:!0}),I(e).forEach(S),this.h()},h(){y(e,"class","secondary svelte-tsyr9o"),y(e,"id",i=t[0]["Unmatched ID"]),y(e,"r",n=t[1]<=768?2.5:5),y(e,"cx",r=t[0].cx),y(e,"cy",l=t[0].cy)},m(o,c){N(o,e,c)},p(o,c){c&1&&i!==(i=o[0]["Unmatched ID"])&&y(e,"id",i),c&2&&n!==(n=o[1]<=768?2.5:5)&&y(e,"r",n),c&1&&r!==(r=o[0].cx)&&y(e,"cx",r),c&1&&l!==(l=o[0].cy)&&y(e,"cy",l)},d(o){o&&S(e)}}}function dr(t){let e,i,n,r,l,o,c,u,f,a,s,p,_,d,h,g,m,v,w;function C(D,b){return D[1]>768?vr:gr}let E=C(t),M=E(t);return{c(){e=q("line"),o=q("rect"),M.c(),f=q("foreignObject"),a=P("div"),s=P("video"),p=P("track"),_=P("source"),h=P("source"),m=te(`
                    Your browser does not support the video tag.`),this.h()},l(D){e=B(D,"line",{class:!0,x1:!0,y1:!0,x2:!0,y2:!0}),I(e).forEach(S),o=B(D,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,ry:!0}),I(o).forEach(S),M.l(D),f=B(D,"foreignObject",{x:!0,y:!0,width:!0,height:!0,class:!0});var b=I(f);a=T(b,"DIV",{class:!0});var A=I(a);s=T(A,"VIDEO",{"webkit-playsinline":!0,class:!0});var U=I(s);p=T(U,"TRACK",{kind:!0}),_=T(U,"SOURCE",{src:!0,type:!0}),h=T(U,"SOURCE",{src:!0,type:!0}),m=ne(U,`
                    Your browser does not support the video tag.`),U.forEach(S),A.forEach(S),b.forEach(S),this.h()},h(){y(e,"class","line svelte-tsyr9o"),y(e,"x1",i=t[0].cx-t[7]),y(e,"y1",n=t[0].cy-be),y(e,"x2",r=t[0].direction==="top"?t[0].cx-t[7]:t[0].cx+t[5]),y(e,"y2",l=t[0].cy-be+(t[0].direction==="top"?t[6]:0)),y(o,"class","box svelte-tsyr9o"),y(o,"x",c=t[0].cx+t[5]),y(o,"y",u=t[0].cy-be+t[6]-t[3]/2),y(o,"width",t[2]),y(o,"height",t[3]),y(o,"rx","10"),y(o,"ry","10"),y(p,"kind","captions"),tt(_.src,d="videos/"+t[0]["Reference Code"].trim()+".webm")||y(_,"src",d),y(_,"type","video/webm"),tt(h.src,g="videos/"+t[0]["Reference Code"].trim()+".mp4")||y(h,"src",g),y(h,"type","video/mp4"),s.autoplay=!0,s.loop=!0,s.muted=!0,y(s,"webkit-playsinline",""),s.playsInline=!0,y(s,"class","svelte-tsyr9o"),y(a,"class","svelte-tsyr9o"),y(f,"x",v=t[0].cx+t[5]),y(f,"y",w=t[0].cy-be+t[6]-t[3]/2),y(f,"width",t[2]),y(f,"height",t[3]),y(f,"class","svelte-tsyr9o")},m(D,b){N(D,e,b),N(D,o,b),M.m(D,b),N(D,f,b),R(f,a),R(a,s),R(s,p),R(s,_),R(s,h),R(s,m)},p(D,b){b&129&&i!==(i=D[0].cx-D[7])&&y(e,"x1",i),b&1&&n!==(n=D[0].cy-be)&&y(e,"y1",n),b&161&&r!==(r=D[0].direction==="top"?D[0].cx-D[7]:D[0].cx+D[5])&&y(e,"x2",r),b&65&&l!==(l=D[0].cy-be+(D[0].direction==="top"?D[6]:0))&&y(e,"y2",l),b&33&&c!==(c=D[0].cx+D[5])&&y(o,"x",c),b&73&&u!==(u=D[0].cy-be+D[6]-D[3]/2)&&y(o,"y",u),b&4&&y(o,"width",D[2]),b&8&&y(o,"height",D[3]),E===(E=C(D))&&M?M.p(D,b):(M.d(1),M=E(D),M&&(M.c(),M.m(f.parentNode,f))),b&1&&!tt(_.src,d="videos/"+D[0]["Reference Code"].trim()+".webm")&&y(_,"src",d),b&1&&!tt(h.src,g="videos/"+D[0]["Reference Code"].trim()+".mp4")&&y(h,"src",g),b&33&&v!==(v=D[0].cx+D[5])&&y(f,"x",v),b&73&&w!==(w=D[0].cy-be+D[6]-D[3]/2)&&y(f,"y",w),b&4&&y(f,"width",D[2]),b&8&&y(f,"height",D[3])},d(D){D&&(S(e),S(o),S(f)),M.d(D)}}}function gr(t){let e,i,n;return{c(){e=q("svg"),i=q("path"),n=q("circle"),this.h()},l(r){e=B(r,"svg",{x:!0,y:!0,width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var l=I(e);i=B(l,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0,class:!0}),I(i).forEach(S),n=B(l,"circle",{class:!0,cx:!0,cy:!0,fill:!0,stroke:!0}),I(n).forEach(S),l.forEach(S),this.h()},h(){y(i,"fill-rule","evenodd"),y(i,"clip-rule","evenodd"),y(i,"d","M20 0H0V15.6522L10 28.2609L20 15.6522V0ZM10 15.8967C13.1216 15.8967 15.6522 13.3266 15.6522 10.1562C15.6522 6.98586 13.1216 4.41576 10 4.41576C6.87839 4.41576 4.34783 6.98586 4.34783 10.1562C4.34783 13.3266 6.87839 15.8967 10 15.8967Z"),y(i,"fill","var(--primary-color)"),y(i,"class","svelte-tsyr9o"),y(n,"class","hide svelte-tsyr9o"),y(n,"cx","10"),y(n,"cy","10.1562"),y(n,"fill","var(--primary-color)"),y(n,"stroke","none"),y(e,"x",t[9]),y(e,"y",t[8]),y(e,"width","10"),y(e,"height","16"),y(e,"viewBox","0 0 20 29"),y(e,"fill","none"),y(e,"xmlns","http://www.w3.org/2000/svg"),y(e,"class","svelte-tsyr9o")},m(r,l){N(r,e,l),R(e,i),R(e,n)},p(r,l){l&512&&y(e,"x",r[9]),l&256&&y(e,"y",r[8])},d(r){r&&S(e)}}}function vr(t){let e,i,n;return{c(){e=q("svg"),i=q("path"),n=q("circle"),this.h()},l(r){e=B(r,"svg",{x:!0,y:!0,width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var l=I(e);i=B(l,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0,class:!0}),I(i).forEach(S),n=B(l,"circle",{class:!0,cx:!0,cy:!0,fill:!0,stroke:!0}),I(n).forEach(S),l.forEach(S),this.h()},h(){y(i,"fill-rule","evenodd"),y(i,"clip-rule","evenodd"),y(i,"d","M20 0H0V15.6522L10 28.2609L20 15.6522V0ZM10 15.8967C13.1216 15.8967 15.6522 13.3266 15.6522 10.1562C15.6522 6.98586 13.1216 4.41576 10 4.41576C6.87839 4.41576 4.34783 6.98586 4.34783 10.1562C4.34783 13.3266 6.87839 15.8967 10 15.8967Z"),y(i,"fill","var(--primary-color)"),y(i,"class","svelte-tsyr9o"),y(n,"class","hide svelte-tsyr9o"),y(n,"cx","10"),y(n,"cy","10.1562"),y(n,"fill","var(--primary-color)"),y(n,"stroke","none"),y(e,"x",t[9]),y(e,"y",t[8]),y(e,"width","15"),y(e,"height","24"),y(e,"viewBox","0 0 20 29"),y(e,"fill","none"),y(e,"xmlns","http://www.w3.org/2000/svg"),y(e,"class","svelte-tsyr9o")},m(r,l){N(r,e,l),R(e,i),R(e,n)},p(r,l){l&512&&y(e,"x",r[9]),l&256&&y(e,"y",r[8])},d(r){r&&S(e)}}}function _r(t){let e,i,n,r;function l(u,f){return u[0]["Reference Code"]&&u[0]["Show Tooltip"]=="TRUE"?dr:pr}let o=l(t),c=o(t);return{c(){e=q("g"),c.c(),this.h()},l(u){e=B(u,"g",{id:!0,class:!0});var f=I(e);c.l(f),f.forEach(S),this.h()},h(){y(e,"id",i=t[0]["Reference Code"]),y(e,"class","svelte-tsyr9o"),Rt(e,"selected",t[4])},m(u,f){N(u,e,f),c.m(e,null),n||(r=Te(e,"click",t[10]),n=!0)},p(u,[f]){o===(o=l(u))&&c?c.p(u,f):(c.d(1),c=o(u),c&&(c.c(),c.m(e,null))),f&1&&i!==(i=u[0]["Reference Code"])&&y(e,"id",i),f&16&&Rt(e,"selected",u[4])},i:le,o:le,d(u){u&&S(e),c.d(),n=!1,r()}}}let be=29;function mr(t,e,i){let n,r,l,o,c;at(t,mt,m=>i(12,o=m)),at(t,Ne,m=>i(11,c=m));let{point:u}=e,{w:f}=e,a=195,s=122,p="",_=0,d=0;function h(m){const v=u["Group ID"]||null,w=o.filter(C=>C["Group ID"]===v&&C["Unmatched ID"]!==u["Unmatched ID"]);Ne.set({...u,cx:u.cx,cy:u.cy,lat:u.lat,lon:u.lon,id:u["Unmatched ID"],related:w.map(C=>({...C,cx:C.cx,cy:C.cy,lat:C.lat,lon:C.lon,id:C["Unmatched ID"]}))}),g(m)}function g(m){let v;if(m instanceof Event&&(v=m.target.closest("g"),v&&v.parentNode&&v.parentNode.appendChild(v)),m!=null&&m["Unmatched ID"]){v=document.getElementById(u["Unmatched ID"]);const w=document.querySelector(".points");if(v&&v.parentNode){const C=v.parentNode;w.appendChild(C)}}}return t.$$set=m=>{"point"in m&&i(0,u=m.point),"w"in m&&i(1,f=m.w)},t.$$.update=()=>{t.$$.dirty&15&&(f<=768?(i(2,a=f/7.38),i(3,s=f/11.8),u.direction.startsWith("left")||u.direction.startsWith("right")?i(7,d=u.direction.startsWith("left")?1:9):i(7,d=5)):(i(2,a=195),i(3,s=122),u.direction.startsWith("left")||u.direction.startsWith("right")?i(7,d=u.direction.startsWith("left")?-4:9):i(7,d=2)),u.direction.startsWith("right")?u.direction==="right"?i(5,p=s/2):u.direction==="right-1"?i(5,p=s):u.direction==="right-2"&&i(5,p=s*2):u.direction.startsWith("left")?u.direction==="left"?i(5,p=-(a+s/2)):u.direction==="left-1"?i(5,p=-(a+s)):u.direction==="left-2"&&i(5,p=-(a+s*2)):u.direction==="top"&&(i(5,p=-(a/2)),i(6,_=-s/1.3))),t.$$.dirty&2049&&i(4,n=(c==null?void 0:c.cx)==u.cx&&(c==null?void 0:c.cy)==u.cy),t.$$.dirty&17&&n&&g(u),t.$$.dirty&1&&i(9,r=u.cx-10),t.$$.dirty&1&&i(8,l=u.cy-30)},[u,f,a,s,n,p,_,d,l,r,h,c]}class gi extends we{constructor(e){super(),Ee(this,e,mr,_r,me,{point:0,w:1})}}function gn(t,e,i){const n=t.slice();return n[17]=e[i],n[19]=i,n}function vn(t,e,i){const n=t.slice();return n[17]=e[i],n[19]=i,n}function _n(t,e,i){const n=t.slice();return n[21]=e[i],n[19]=i,n}function mn(t,e,i){const n=t.slice();return n[21]=e[i],n[19]=i,n}function yn(t){let e,i,n,r,l,o=t[6].length>0&&wn(t),c=x(t[1]),u=[];for(let h=0;h<c.length;h+=1)u[h]=Sn(_n(t,c,h));let f=x(t[7]),a=[];for(let h=0;h<f.length;h+=1)a[h]=Cn(vn(t,f,h));const s=h=>O(a[h],1,1,()=>{a[h]=null});let p=x(t[8]),_=[];for(let h=0;h<p.length;h+=1)_[h]=bn(gn(t,p,h));const d=h=>O(_[h],1,1,()=>{_[h]=null});return{c(){e=q("svg"),o&&o.c(),i=q("g");for(let h=0;h<u.length;h+=1)u[h].c();n=q("g");for(let h=0;h<a.length;h+=1)a[h].c();r=Re();for(let h=0;h<_.length;h+=1)_[h].c();this.h()},l(h){e=B(h,"svg",{width:!0,height:!0});var g=I(e);o&&o.l(g),i=B(g,"g",{class:!0});var m=I(i);for(let w=0;w<u.length;w+=1)u[w].l(m);m.forEach(S),n=B(g,"g",{class:!0});var v=I(n);for(let w=0;w<a.length;w+=1)a[w].l(v);r=Re();for(let w=0;w<_.length;w+=1)_[w].l(v);v.forEach(S),g.forEach(S),this.h()},h(){y(i,"class","streets svelte-6cbwzm"),y(n,"class","points"),y(e,"width",t[3]),y(e,"height",t[4])},m(h,g){N(h,e,g),o&&o.m(e,null),R(e,i);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(i,null);R(e,n);for(let m=0;m<a.length;m+=1)a[m]&&a[m].m(n,null);R(n,r);for(let m=0;m<_.length;m+=1)_[m]&&_[m].m(n,null);l=!0},p(h,g){if(h[6].length>0?o?o.p(h,g):(o=wn(h),o.c(),o.m(e,i)):o&&(o.d(1),o=null),g&34){c=x(h[1]);let m;for(m=0;m<c.length;m+=1){const v=_n(h,c,m);u[m]?u[m].p(v,g):(u[m]=Sn(v),u[m].c(),u[m].m(i,null))}for(;m<u.length;m+=1)u[m].d(1);u.length=c.length}if(g&129){f=x(h[7]);let m;for(m=0;m<f.length;m+=1){const v=vn(h,f,m);a[m]?(a[m].p(v,g),F(a[m],1)):(a[m]=Cn(v),a[m].c(),F(a[m],1),a[m].m(n,r))}for(Me(),m=f.length;m<a.length;m+=1)s(m);Ie()}if(g&257){p=x(h[8]);let m;for(m=0;m<p.length;m+=1){const v=gn(h,p,m);_[m]?(_[m].p(v,g),F(_[m],1)):(_[m]=bn(v),_[m].c(),F(_[m],1),_[m].m(n,null))}for(Me(),m=p.length;m<_.length;m+=1)d(m);Ie()}(!l||g&8)&&y(e,"width",h[3]),(!l||g&16)&&y(e,"height",h[4])},i(h){if(!l){for(let g=0;g<f.length;g+=1)F(a[g]);for(let g=0;g<p.length;g+=1)F(_[g]);l=!0}},o(h){a=a.filter(Boolean);for(let g=0;g<a.length;g+=1)O(a[g]);_=_.filter(Boolean);for(let g=0;g<_.length;g+=1)O(_[g]);l=!1},d(h){h&&S(e),o&&o.d(),De(u,h),De(a,h),De(_,h)}}}function wn(t){let e,i=x(t[6]),n=[];for(let r=0;r<i.length;r+=1)n[r]=En(mn(t,i,r));return{c(){e=q("g");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=B(r,"g",{class:!0});var l=I(e);for(let o=0;o<n.length;o+=1)n[o].l(l);l.forEach(S),this.h()},h(){y(e,"class","boundary svelte-6cbwzm")},m(r,l){N(r,e,l);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(r,l){if(l&96){i=x(r[6]);let o;for(o=0;o<i.length;o+=1){const c=mn(r,i,o);n[o]?n[o].p(c,l):(n[o]=En(c),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=i.length}},d(r){r&&S(e),De(n,r)}}}function En(t){let e,i;return{c(){e=q("path"),this.h()},l(n){e=B(n,"path",{d:!0,class:!0}),I(e).forEach(S),this.h()},h(){y(e,"d",i=t[5](t[21])),y(e,"class","boundary svelte-6cbwzm")},m(n,r){N(n,e,r)},p(n,r){r&96&&i!==(i=n[5](n[21]))&&y(e,"d",i)},d(n){n&&S(e)}}}function Sn(t){let e,i;return{c(){e=q("path"),this.h()},l(n){e=B(n,"path",{d:!0,class:!0}),I(e).forEach(S),this.h()},h(){y(e,"d",i=t[5](t[21])),y(e,"class","street")},m(n,r){N(n,e,r)},p(n,r){r&34&&i!==(i=n[5](n[21]))&&y(e,"d",i)},d(n){n&&S(e)}}}function kn(t){let e,i;return e=new gi({props:{point:t[17],w:t[0]}}),{c(){pe(e.$$.fragment)},l(n){de(e.$$.fragment,n)},m(n,r){ge(e,n,r),i=!0},p(n,r){const l={};r&128&&(l.point=n[17]),r&1&&(l.w=n[0]),e.$set(l)},i(n){i||(F(e.$$.fragment,n),i=!0)},o(n){O(e.$$.fragment,n),i=!1},d(n){ve(e,n)}}}function Cn(t){let e,i,n=t[17].cx&&t[17].cy&&kn(t);return{c(){n&&n.c(),e=Re()},l(r){n&&n.l(r),e=Re()},m(r,l){n&&n.m(r,l),N(r,e,l),i=!0},p(r,l){r[17].cx&&r[17].cy?n?(n.p(r,l),l&128&&F(n,1)):(n=kn(r),n.c(),F(n,1),n.m(e.parentNode,e)):n&&(Me(),O(n,1,1,()=>{n=null}),Ie())},i(r){i||(F(n),i=!0)},o(r){O(n),i=!1},d(r){r&&S(e),n&&n.d(r)}}}function Dn(t){let e,i;return e=new gi({props:{point:t[17],w:t[0]}}),{c(){pe(e.$$.fragment)},l(n){de(e.$$.fragment,n)},m(n,r){ge(e,n,r),i=!0},p(n,r){const l={};r&256&&(l.point=n[17]),r&1&&(l.w=n[0]),e.$set(l)},i(n){i||(F(e.$$.fragment,n),i=!0)},o(n){O(e.$$.fragment,n),i=!1},d(n){ve(e,n)}}}function bn(t){let e,i,n=t[17].cx&&t[17].cy&&Dn(t);return{c(){n&&n.c(),e=Re()},l(r){n&&n.l(r),e=Re()},m(r,l){n&&n.m(r,l),N(r,e,l),i=!0},p(r,l){r[17].cx&&r[17].cy?n?(n.p(r,l),l&256&&F(n,1)):(n=Dn(r),n.c(),F(n,1),n.m(e.parentNode,e)):n&&(Me(),O(n,1,1,()=>{n=null}),Ie())},i(r){i||(F(n),i=!0)},o(r){O(n),i=!1},d(r){r&&S(e),n&&n.d(r)}}}function yr(t){let e,i,n,r=t[1].length>0&&yn(t);return{c(){e=P("article"),r&&r.c(),this.h()},l(l){e=T(l,"ARTICLE",{class:!0});var o=I(e);r&&r.l(o),o.forEach(S),this.h()},h(){y(e,"class","map svelte-6cbwzm"),mi(()=>t[13].call(e))},m(l,o){N(l,e,o),r&&r.m(e,null),t[12](e),i=yi(e,t[13].bind(e)),n=!0},p(l,[o]){l[1].length>0?r?(r.p(l,o),o&2&&F(r,1)):(r=yn(l),r.c(),F(r,1),r.m(e,null)):r&&(Me(),O(r,1,1,()=>{r=null}),Ie())},i(l){n||(F(r),n=!0)},o(l){O(r),n=!1},d(l){l&&S(e),r&&r.d(),t[12](null),i()}}}function wr(t,e,i){let n,r,l;at(t,mt,w=>i(11,l=w));let{data:o}=e,c,u,f=0,a=0,s,p,_=[],d=[],h=[];function g(w){s=di().rotate([-48,48]).scale(1).translate([0,0]);const E=_t().projection(s).bounds({type:"FeatureCollection",features:_}),M=E[1][0]-E[0][0],D=E[1][1]-E[0][1],b=(E[0][0]+E[1][0])/2;E[0][1]+E[1][1];const A=[100,10,20],U=(w-A[0])/M,L=[w/2-U*b,(-U-A[1])*E[0][1]+E[1][1]];s=s.scale(U).translate(L),i(5,p=_t().projection(s)),i(3,f=w),i(4,a=U*D+A[2]),wi(mt,l=h.map(J=>{const[H,W]=s([J.lon,J.lat]);return{...J,cx:H,cy:W}}),l)}function m(w){qt[w?"unshift":"push"](()=>{c=w,i(2,c)})}function v(){u=this.clientWidth,i(0,u)}return t.$$set=w=>{"data"in w&&i(9,o=w.data)},t.$$.update=()=>{t.$$.dirty&2&&_.length===0&&(fetch("boundary.json").then(w=>w.json()).then(w=>{i(6,d=kt(w,w.objects.boundary).features)}),fetch("streets.json").then(w=>w.json()).then(w=>{i(1,_=kt(w,w.objects.streets).features)}),fetch("buildings2.json").then(w=>w.json()).then(w=>{kt(w,w.objects.test1).features})),t.$$.dirty&512&&i(10,h=o.map(w=>({...w,direction:w.Direction?w.Direction:Math.random()>.5?"left":"right",date:w["Date of incident"]}))),t.$$.dirty&3&&u&&_.length>0&&g(u),t.$$.dirty&1025&&h&&g(u),t.$$.dirty&2048&&i(8,n=l?l.filter(w=>w["Reference Code"]):[]),t.$$.dirty&2048&&i(7,r=l?l.filter(w=>!w["Reference Code"]):[])},[u,_,c,f,a,p,d,r,n,o,h,l,m,v]}let Er=class extends we{constructor(e){super(),Ee(this,e,wr,yr,me,{data:9})}};function Rn(t){let e,i,n="Date Posted",r,l,o=t[0]["Post date"]+"",c;return{c(){e=P("div"),i=P("h3"),i.textContent=n,r=X(),l=P("p"),c=te(o),this.h()},l(u){e=T(u,"DIV",{class:!0});var f=I(e);i=T(f,"H3",{class:!0,"data-svelte-h":!0}),ye(i)!=="svelte-gk40gb"&&(i.textContent=n),r=K(f),l=T(f,"P",{class:!0});var a=I(l);c=ne(a,o),a.forEach(S),f.forEach(S),this.h()},h(){y(i,"class","svelte-4qopg4"),y(l,"class","svelte-4qopg4"),y(e,"class","svelte-4qopg4")},m(u,f){N(u,e,f),R(e,i),R(e,r),R(e,l),R(l,c)},p(u,f){f&1&&o!==(o=u[0]["Post date"]+"")&&_e(c,o)},d(u){u&&S(e)}}}function Mn(t){let e,i,n="Location",r,l,o=t[0].Location+"",c;return{c(){e=P("div"),i=P("h3"),i.textContent=n,r=X(),l=P("p"),c=te(o),this.h()},l(u){e=T(u,"DIV",{class:!0});var f=I(e);i=T(f,"H3",{class:!0,"data-svelte-h":!0}),ye(i)!=="svelte-15gguv3"&&(i.textContent=n),r=K(f),l=T(f,"P",{class:!0});var a=I(l);c=ne(a,o),a.forEach(S),f.forEach(S),this.h()},h(){y(i,"class","svelte-4qopg4"),y(l,"class","svelte-4qopg4"),y(e,"class","svelte-4qopg4")},m(u,f){N(u,e,f),R(e,i),R(e,r),R(e,l),R(l,c)},p(u,f){f&1&&o!==(o=u[0].Location+"")&&_e(c,o)},d(u){u&&S(e)}}}function In(t){let e,i,n="Civilians Reported Killed",r,l,o=t[0]["Civilians reported killed"]+"",c;return{c(){e=P("div"),i=P("h3"),i.textContent=n,r=X(),l=P("p"),c=te(o),this.h()},l(u){e=T(u,"DIV",{class:!0});var f=I(e);i=T(f,"H3",{class:!0,"data-svelte-h":!0}),ye(i)!=="svelte-lcsnd8"&&(i.textContent=n),r=K(f),l=T(f,"P",{class:!0});var a=I(l);c=ne(a,o),a.forEach(S),f.forEach(S),this.h()},h(){y(i,"class","svelte-4qopg4"),y(l,"class","svelte-4qopg4"),y(e,"class","svelte-4qopg4")},m(u,f){N(u,e,f),R(e,i),R(e,r),R(e,l),R(l,c)},p(u,f){f&1&&o!==(o=u[0]["Civilians reported killed"]+"")&&_e(c,o)},d(u){u&&S(e)}}}function Pn(t){let e,i,n="Source",r,l,o,c;return{c(){e=P("div"),i=P("h3"),i.textContent=n,r=X(),l=P("a"),o=te("View Footage"),this.h()},l(u){e=T(u,"DIV",{class:!0});var f=I(e);i=T(f,"H3",{class:!0,"data-svelte-h":!0}),ye(i)!=="svelte-x8n8kl"&&(i.textContent=n),r=K(f),l=T(f,"A",{href:!0,target:!0,class:!0});var a=I(l);o=ne(a,"View Footage"),a.forEach(S),f.forEach(S),this.h()},h(){y(i,"class","svelte-4qopg4"),y(l,"href",c=t[0]["Footage link"]),y(l,"target","_blank"),y(l,"class","svelte-4qopg4"),y(e,"class","svelte-4qopg4")},m(u,f){N(u,e,f),R(e,i),R(e,r),R(e,l),R(l,o)},p(u,f){f&1&&c!==(c=u[0]["Footage link"])&&y(l,"href",c)},d(u){u&&S(e)}}}function Sr(t){let e,i,n="×",r,l,o=(t[0].Title||"No Title")+"",c,u,f,a,s,p,_,d=t[0]["Post date"]&&Rn(t),h=t[0].Location&&Mn(t),g=t[0]["Civilians reported killed"]&&In(t),m=t[0]["Footage link"]&&Pn(t);return{c(){e=P("div"),i=P("div"),i.textContent=n,r=X(),l=P("h1"),c=te(o),u=X(),d&&d.c(),f=X(),h&&h.c(),a=X(),g&&g.c(),s=X(),m&&m.c(),this.h()},l(v){e=T(v,"DIV",{class:!0});var w=I(e);i=T(w,"DIV",{class:!0,"data-svelte-h":!0}),ye(i)!=="svelte-1fkty7"&&(i.textContent=n),r=K(w),l=T(w,"H1",{class:!0});var C=I(l);c=ne(C,o),C.forEach(S),u=K(w),d&&d.l(w),f=K(w),h&&h.l(w),a=K(w),g&&g.l(w),s=K(w),m&&m.l(w),w.forEach(S),this.h()},h(){y(i,"class","close svelte-4qopg4"),y(l,"class","svelte-4qopg4"),y(e,"class","detail-panel svelte-4qopg4")},m(v,w){N(v,e,w),R(e,i),R(e,r),R(e,l),R(l,c),R(e,u),d&&d.m(e,null),R(e,f),h&&h.m(e,null),R(e,a),g&&g.m(e,null),R(e,s),m&&m.m(e,null),p||(_=Te(i,"click",t[1]),p=!0)},p(v,[w]){w&1&&o!==(o=(v[0].Title||"No Title")+"")&&_e(c,o),v[0]["Post date"]?d?d.p(v,w):(d=Rn(v),d.c(),d.m(e,f)):d&&(d.d(1),d=null),v[0].Location?h?h.p(v,w):(h=Mn(v),h.c(),h.m(e,a)):h&&(h.d(1),h=null),v[0]["Civilians reported killed"]?g?g.p(v,w):(g=In(v),g.c(),g.m(e,s)):g&&(g.d(1),g=null),v[0]["Footage link"]?m?m.p(v,w):(m=Pn(v),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},i:le,o:le,d(v){v&&S(e),d&&d.d(),h&&h.d(),g&&g.d(),m&&m.d(),p=!1,_()}}}function kr(t,e,i){let n=null;const r=()=>Ne.set(null);return t.$$.update=()=>{t.$$.dirty&1&&Ne.subscribe(l=>{i(0,n=l)})},[n,r]}class Cr extends we{constructor(e){super(),Ee(this,e,kr,Sr,me,{})}}function Tn(t,e,i){const n=t.slice();return n[15]=e[i],n[17]=i,n}function Nn(t){let e,i,n;return i=new Cr({}),{c(){e=P("div"),pe(i.$$.fragment),this.h()},l(r){e=T(r,"DIV",{class:!0});var l=I(e);de(i.$$.fragment,l),l.forEach(S),this.h()},h(){y(e,"class","svelte-101wu88")},m(r,l){N(r,e,l),ge(i,e,null),t[11](e),n=!0},p:le,i(r){n||(F(i.$$.fragment,r),n=!0)},o(r){O(i.$$.fragment,r),n=!1},d(r){r&&S(e),ve(i),t[11](null)}}}function Ln(t){let e,i,n=(t[15].Title||t[15]["Reference Code"])+"",r,l,o,c;function u(){return t[12](t[15])}return{c(){e=P("div"),i=P("p"),r=te(n),l=X(),this.h()},l(f){e=T(f,"DIV",{class:!0});var a=I(e);i=T(a,"P",{class:!0});var s=I(i);r=ne(s,n),s.forEach(S),l=K(a),a.forEach(S),this.h()},h(){y(i,"class","svelte-101wu88"),y(e,"class","svelte-101wu88"),Rt(e,"gray-background",t[17]%2===1)},m(f,a){N(f,e,a),R(e,i),R(i,r),R(e,l),o||(c=Te(e,"click",u),o=!0)},p(f,a){t=f,a&8&&n!==(n=(t[15].Title||t[15]["Reference Code"])+"")&&_e(r,n)},d(f){f&&S(e),o=!1,c()}}}function Dr(t){let e,i="Reset",n,r,l,o,c,u,f,a,s,p=t[1]&&Nn(t),_=x(t[3]),d=[];for(let h=0;h<_.length;h+=1)d[h]=Ln(Tn(t,_,h));return{c(){e=P("button"),e.textContent=i,n=X(),r=P("input"),l=X(),o=P("section"),p&&p.c(),c=X(),u=P("div");for(let h=0;h<d.length;h+=1)d[h].c();this.h()},l(h){e=T(h,"BUTTON",{class:!0,"data-svelte-h":!0}),ye(e)!=="svelte-c9xful"&&(e.textContent=i),n=K(h),r=T(h,"INPUT",{type:!0,placeholder:!0,class:!0}),l=K(h),o=T(h,"SECTION",{class:!0});var g=I(o);p&&p.l(g),c=K(g),u=T(g,"DIV",{class:!0});var m=I(u);for(let v=0;v<d.length;v+=1)d[v].l(m);m.forEach(S),g.forEach(S),this.h()},h(){y(e,"class","reset-button svelte-101wu88"),y(r,"type","text"),y(r,"placeholder","Search..."),y(r,"class","search-input svelte-101wu88"),y(u,"class","list-container svelte-101wu88"),y(o,"class","svelte-101wu88")},m(h,g){N(h,e,g),N(h,n,g),N(h,r,g),Zt(r,t[0]),N(h,l,g),N(h,o,g),p&&p.m(o,null),R(o,c),R(o,u);for(let m=0;m<d.length;m+=1)d[m]&&d[m].m(u,null);f=!0,a||(s=[Te(e,"click",t[5]),Te(r,"input",t[10]),Te(r,"keydown",t[4])],a=!0)},p(h,[g]){if(g&1&&r.value!==h[0]&&Zt(r,h[0]),h[1]?p?(p.p(h,g),g&2&&F(p,1)):(p=Nn(h),p.c(),F(p,1),p.m(o,c)):p&&(Me(),O(p,1,1,()=>{p=null}),Ie()),g&72){_=x(h[3]);let m;for(m=0;m<_.length;m+=1){const v=Tn(h,_,m);d[m]?d[m].p(v,g):(d[m]=Ln(v),d[m].c(),d[m].m(u,null))}for(;m<d.length;m+=1)d[m].d(1);d.length=_.length}},i(h){f||(F(p),f=!0)},o(h){O(p),f=!1},d(h){h&&(S(e),S(n),S(r),S(l),S(o)),p&&p.d(),De(d,h),a=!1,Ei(s)}}}function br(t,e,i){let n;at(t,mt,v=>i(9,n=v));const r=Zn();let{data:l}=e,o=null,c=!1,u,f="",a=[];function s(v){v.key==="Enter"&&r("updateFilteredData",a)}function p(){i(0,f=""),r("updateFilteredData",l)}Xn(()=>{document.addEventListener("click",_,!0)});function _(v){c&&u&&!u.contains(v.target)&&Ne.set(null)}function d(v){Ne.set(v)}function h(){f=this.value,i(0,f)}function g(v){qt[v?"unshift":"push"](()=>{u=v,i(2,u)})}const m=v=>d(v);return t.$$set=v=>{"data"in v&&i(7,l=v.data)},t.$$.update=()=>{t.$$.dirty&256&&Ne.subscribe(v=>{i(8,o=v),i(1,c=!!o)}),t.$$.dirty&513&&i(3,a=n.filter(v=>(v.Title||v["Reference Code"]).toLowerCase().includes(f.toLowerCase())))},[f,c,u,a,s,p,d,l,o,n,h,g,m]}class Rr extends we{constructor(e){super(),Ee(this,e,br,Dr,me,{data:7})}}function An(t,e,i){const n=t.slice();return n[18]=e[i],n[20]=i,n}function Vn(t,e,i){const n=t.slice();return n[21]=e[i],n[20]=i,n}function Un(t,e,i){const n=t.slice();return n[21]=e[i],n[20]=i,n}function jn(t){let e,i,n,r,l,o,c,u,f,a=x(t[2]),s=[];for(let g=0;g<a.length;g+=1)s[g]=Wn(Un(t,a,g));let p=x(t[6]),_=[];for(let g=0;g<p.length;g+=1)_[g]=Fn(Vn(t,p,g));let d=x(t[3]),h=[];for(let g=0;g<d.length;g+=1)h[g]=On(An(t,d,g));return{c(){e=q("svg"),i=q("g");for(let g=0;g<s.length;g+=1)s[g].c();n=q("g");for(let g=0;g<_.length;g+=1)_[g].c();r=q("g");for(let g=0;g<h.length;g+=1)h[g].c();l=q("rect"),this.h()},l(g){e=B(g,"svg",{width:!0,height:!0});var m=I(e);i=B(m,"g",{class:!0});var v=I(i);for(let E=0;E<s.length;E+=1)s[E].l(v);v.forEach(S),n=B(m,"g",{class:!0});var w=I(n);for(let E=0;E<_.length;E+=1)_[E].l(w);w.forEach(S),r=B(m,"g",{class:!0});var C=I(r);for(let E=0;E<h.length;E+=1)h[E].l(C);C.forEach(S),l=B(m,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0,class:!0}),I(l).forEach(S),m.forEach(S),this.h()},h(){y(i,"class","boundary svelte-12vxr0s"),y(n,"class","streets svelte-12vxr0s"),y(r,"class","legend-points svelte-12vxr0s"),y(l,"x",o=t[7].x),y(l,"y",c=t[7].y),y(l,"width",u=t[7].width),y(l,"height",f=t[7].height),y(l,"fill","var(--primary-color)"),y(l,"stroke","red"),y(l,"stroke-width","0.5"),y(l,"class","svelte-12vxr0s"),y(e,"width",t[0]),y(e,"height",t[1])},m(g,m){N(g,e,m),R(e,i);for(let v=0;v<s.length;v+=1)s[v]&&s[v].m(i,null);R(e,n);for(let v=0;v<_.length;v+=1)_[v]&&_[v].m(n,null);R(e,r);for(let v=0;v<h.length;v+=1)h[v]&&h[v].m(r,null);R(e,l)},p(g,m){if(m&36){a=x(g[2]);let v;for(v=0;v<a.length;v+=1){const w=Un(g,a,v);s[v]?s[v].p(w,m):(s[v]=Wn(w),s[v].c(),s[v].m(i,null))}for(;v<s.length;v+=1)s[v].d(1);s.length=a.length}if(m&96){p=x(g[6]);let v;for(v=0;v<p.length;v+=1){const w=Vn(g,p,v);_[v]?_[v].p(w,m):(_[v]=Fn(w),_[v].c(),_[v].m(n,null))}for(;v<_.length;v+=1)_[v].d(1);_.length=p.length}if(m&8){d=x(g[3]);let v;for(v=0;v<d.length;v+=1){const w=An(g,d,v);h[v]?h[v].p(w,m):(h[v]=On(w),h[v].c(),h[v].m(r,null))}for(;v<h.length;v+=1)h[v].d(1);h.length=d.length}m&128&&o!==(o=g[7].x)&&y(l,"x",o),m&128&&c!==(c=g[7].y)&&y(l,"y",c),m&128&&u!==(u=g[7].width)&&y(l,"width",u),m&128&&f!==(f=g[7].height)&&y(l,"height",f),m&1&&y(e,"width",g[0]),m&2&&y(e,"height",g[1])},d(g){g&&S(e),De(s,g),De(_,g),De(h,g)}}}function Wn(t){let e,i;return{c(){e=q("path"),this.h()},l(n){e=B(n,"path",{d:!0,class:!0}),I(e).forEach(S),this.h()},h(){y(e,"d",i=t[5](t[21])),y(e,"class","boundary svelte-12vxr0s")},m(n,r){N(n,e,r)},p(n,r){r&36&&i!==(i=n[5](n[21]))&&y(e,"d",i)},d(n){n&&S(e)}}}function Fn(t){let e,i;return{c(){e=q("path"),this.h()},l(n){e=B(n,"path",{d:!0,class:!0}),I(e).forEach(S),this.h()},h(){y(e,"d",i=t[5](t[21])),y(e,"class","street")},m(n,r){N(n,e,r)},p(n,r){r&96&&i!==(i=n[5](n[21]))&&y(e,"d",i)},d(n){n&&S(e)}}}function Hn(t){let e,i,n;return{c(){e=q("circle"),this.h()},l(r){e=B(r,"circle",{cx:!0,cy:!0,r:!0,class:!0}),I(e).forEach(S),this.h()},h(){y(e,"cx",i=t[18].cx),y(e,"cy",n=t[18].cy),y(e,"r",1),y(e,"class","svelte-12vxr0s")},m(r,l){N(r,e,l)},p(r,l){l&8&&i!==(i=r[18].cx)&&y(e,"cx",i),l&8&&n!==(n=r[18].cy)&&y(e,"cy",n)},d(r){r&&S(e)}}}function On(t){let e,i=t[18].cx&&t[18].cy&&Hn(t);return{c(){i&&i.c(),e=Re()},l(n){i&&i.l(n),e=Re()},m(n,r){i&&i.m(n,r),N(n,e,r)},p(n,r){n[18].cx&&n[18].cy?i?i.p(n,r):(i=Hn(n),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null)},d(n){n&&S(e),i&&i.d(n)}}}function Mr(t){let e,i=t[2].length>0&&jn(t);return{c(){e=P("article"),i&&i.c(),this.h()},l(n){e=T(n,"ARTICLE",{class:!0});var r=I(e);i&&i.l(r),r.forEach(S),this.h()},h(){y(e,"class","map")},m(n,r){N(n,e,r),i&&i.m(e,null),t[13](e)},p(n,[r]){n[2].length>0?i?i.p(n,r):(i=jn(n),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},i:le,o:le,d(n){n&&S(e),i&&i.d(),t[13](null)}}}function Ir(t,e,i){let{data:n}=e,{windowWidth:r}=e,{scrollPercentage:l}=e,{containerHeight:o}=e,{viewportHeight:c}=e,u,f=r>800?100:50,a=r>800?300:150,s=0,p=0,_,d,h=[],g=[],m=[],v={};function w(E,M){_=di().rotate([-48,48]).scale(1).translate([0,0]);const b=_t().projection(_).bounds({type:"FeatureCollection",features:h}),A=b[1][0]-b[0][0],U=b[1][1]-b[0][1],L=(b[0][0]+b[1][0])/2,J=(b[0][1]+b[1][1])/2,H=[10,10],W=Math.min((E-H[0])/A,(M-H[1])/U),k=[E/2-W*L,M/2-W*J];_=_.scale(W).translate(k),i(5,d=_t().projection(_)),i(3,g=g.map(V=>{const[Q,ee]=_([V.lon,V.lat]);return{...V,cx:Q,cy:ee}})),i(0,s=E),i(1,p=M)}function C(E){qt[E?"unshift":"push"](()=>{u=E,i(4,u)})}return t.$$set=E=>{"data"in E&&i(8,n=E.data),"windowWidth"in E&&i(9,r=E.windowWidth),"scrollPercentage"in E&&i(10,l=E.scrollPercentage),"containerHeight"in E&&i(11,o=E.containerHeight),"viewportHeight"in E&&i(12,c=E.viewportHeight)},t.$$.update=()=>{if(t.$$.dirty&4&&h.length==0&&(fetch("boundary.geojson").then(E=>E.json()).then(E=>{i(2,h=E.features)}),fetch("streets.geojson").then(E=>E.json()).then(E=>{i(6,m=E.features)})),t.$$.dirty&256&&i(3,g=n.map(E=>({...E,direction:E.Direction?E.Direction:Math.random()>.5?"left":"right",date:E["Date of incident"]}))),t.$$.dirty&8&&g&&w(f,a),t.$$.dirty&4&&f&&h.length>0&&w(f,a),t.$$.dirty&7171&&p&&o){const E=p/o,M=c*E;i(7,v={x:0,y:(p-M)*(l/100),width:s,height:M})}},[s,p,h,g,u,d,m,v,n,r,l,o,c,C]}class Pr extends we{constructor(e){super(),Ee(this,e,Ir,Mr,me,{data:8,windowWidth:9,scrollPercentage:10,containerHeight:11,viewportHeight:12})}}var zn={},Ct={},Dt=34,ze=10,bt=13;function vi(t){return new Function("d","return {"+t.map(function(e,i){return JSON.stringify(e)+": d["+i+'] || ""'}).join(",")+"}")}function Tr(t,e){var i=vi(t);return function(n,r){return e(i(n),r,t)}}function qn(t){var e=Object.create(null),i=[];return t.forEach(function(n){for(var r in n)r in e||i.push(e[r]=r)}),i}function ie(t,e){var i=t+"",n=i.length;return n<e?new Array(e-n+1).join(0)+i:i}function Nr(t){return t<0?"-"+ie(-t,6):t>9999?"+"+ie(t,6):ie(t,4)}function Lr(t){var e=t.getUTCHours(),i=t.getUTCMinutes(),n=t.getUTCSeconds(),r=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":Nr(t.getUTCFullYear())+"-"+ie(t.getUTCMonth()+1,2)+"-"+ie(t.getUTCDate(),2)+(r?"T"+ie(e,2)+":"+ie(i,2)+":"+ie(n,2)+"."+ie(r,3)+"Z":n?"T"+ie(e,2)+":"+ie(i,2)+":"+ie(n,2)+"Z":i||e?"T"+ie(e,2)+":"+ie(i,2)+"Z":"")}function Ar(t){var e=new RegExp('["'+t+`
\r]`),i=t.charCodeAt(0);function n(s,p){var _,d,h=r(s,function(g,m){if(_)return _(g,m-1);d=g,_=p?Tr(g,p):vi(g)});return h.columns=d||[],h}function r(s,p){var _=[],d=s.length,h=0,g=0,m,v=d<=0,w=!1;s.charCodeAt(d-1)===ze&&--d,s.charCodeAt(d-1)===bt&&--d;function C(){if(v)return Ct;if(w)return w=!1,zn;var M,D=h,b;if(s.charCodeAt(D)===Dt){for(;h++<d&&s.charCodeAt(h)!==Dt||s.charCodeAt(++h)===Dt;);return(M=h)>=d?v=!0:(b=s.charCodeAt(h++))===ze?w=!0:b===bt&&(w=!0,s.charCodeAt(h)===ze&&++h),s.slice(D+1,M-1).replace(/""/g,'"')}for(;h<d;){if((b=s.charCodeAt(M=h++))===ze)w=!0;else if(b===bt)w=!0,s.charCodeAt(h)===ze&&++h;else if(b!==i)continue;return s.slice(D,M)}return v=!0,s.slice(D,d)}for(;(m=C())!==Ct;){for(var E=[];m!==zn&&m!==Ct;)E.push(m),m=C();p&&(E=p(E,g++))==null||_.push(E)}return _}function l(s,p){return s.map(function(_){return p.map(function(d){return a(_[d])}).join(t)})}function o(s,p){return p==null&&(p=qn(s)),[p.map(a).join(t)].concat(l(s,p)).join(`
`)}function c(s,p){return p==null&&(p=qn(s)),l(s,p).join(`
`)}function u(s){return s.map(f).join(`
`)}function f(s){return s.map(a).join(t)}function a(s){return s==null?"":s instanceof Date?Lr(s):e.test(s+="")?'"'+s.replace(/"/g,'""')+'"':s}return{parse:n,parseRows:r,format:o,formatBody:c,formatRows:u,formatRow:f,formatValue:a}}var Vr=Ar(","),Ur=Vr.parse;function jr(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Wr(t,e){return fetch(t,e).then(jr)}function Fr(t){return function(e,i,n){return arguments.length===2&&typeof i=="function"&&(n=i,i=void 0),Wr(e,i).then(function(r){return t(r,n)})}}var Hr=Fr(Ur);function Xe(t,e,i){this.k=t,this.x=e,this.y=i}Xe.prototype={constructor:Xe,scale:function(t){return t===1?this:new Xe(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Xe(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Xe.prototype;const xe=t=>new Date(t),_i=t=>{const e=t.map(r=>xe(r["Post Date"])).filter(r=>r instanceof Date&&!isNaN(r)),i=new Date(Math.min(...e.map(r=>r.getTime()))),n=new Date(Math.max(...e.map(r=>r.getTime())));return{min:i,max:n}};function Or(t){let e,i="Loading date range...";return{c(){e=P("p"),e.textContent=i,this.h()},l(n){e=T(n,"P",{class:!0,"data-svelte-h":!0}),ye(e)!=="svelte-1ibifh0"&&(e.textContent=i),this.h()},h(){y(e,"class","tiny svelte-1vv8vsv")},m(n,r){N(n,e,r)},p:le,d(n){n&&S(e)}}}function zr(t){let e,i="Geolocated Israeli military strike footage in Gaza",n,r,l=t[0].min.toLocaleDateString("en-US",{month:"short",day:"numeric"})+"",o,c,u=t[0].max.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})+"",f;return{c(){e=P("p"),e.textContent=i,n=X(),r=P("p"),o=te(l),c=te(` –
            `),f=te(u),this.h()},l(a){e=T(a,"P",{class:!0,"data-svelte-h":!0}),ye(e)!=="svelte-1d8yc0y"&&(e.textContent=i),n=K(a),r=T(a,"P",{class:!0});var s=I(r);o=ne(s,l),c=ne(s,` –
            `),f=ne(s,u),s.forEach(S),this.h()},h(){y(e,"class","svelte-1vv8vsv"),y(r,"class","tiny svelte-1vv8vsv")},m(a,s){N(a,e,s),N(a,n,s),N(a,r,s),R(r,o),R(r,c),R(r,f)},p(a,s){s&1&&l!==(l=a[0].min.toLocaleDateString("en-US",{month:"short",day:"numeric"})+"")&&_e(o,l),s&1&&u!==(u=a[0].max.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})+"")&&_e(f,u)},d(a){a&&(S(e),S(n),S(r))}}}function qr(t){let e;function i(l,o){return l[0].min&&l[0].max?zr:Or}let n=i(t),r=n(t);return{c(){e=P("div"),r.c()},l(l){e=T(l,"DIV",{});var o=I(e);r.l(o),o.forEach(S)},m(l,o){N(l,e,o),r.m(e,null)},p(l,[o]){n===(n=i(l))&&r?r.p(l,o):(r.d(1),r=n(l),r&&(r.c(),r.m(e,null)))},i:le,o:le,d(l){l&&S(e),r.d()}}}function Br(t,e,i){let{data:n=[]}=e,r={min:null,max:null};return t.$$set=l=>{"data"in l&&i(1,n=l.data)},t.$$.update=()=>{t.$$.dirty&2&&n.length&&i(0,r=_i(n))},[r,n]}class Gr extends we{constructor(e){super(),Ee(this,e,Br,qr,me,{data:1})}}function Yr(t){var m;let e,i,n,r,l,o=((m=t[0])==null?void 0:m.length)+"",c,u,f,a=(t[1]?t[4](new Date(t[1])):t[4](new Date(t[3])))+"",s,p,_,d,h='<svg class="marker svelte-1ys8802" width=".8rem" height=".8rem" viewBox="0 0 20 29" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M20 0H0V15.6522L10 28.2609L20 15.6522V0ZM10 15.8967C13.1216 15.8967 15.6522 13.3266 15.6522 10.1562C15.6522 6.98586 13.1216 4.41576 10 4.41576C6.87839 4.41576 4.34783 6.98586 4.34783 10.1562C4.34783 13.3266 6.87839 15.8967 10 15.8967Z" fill="white" class="svelte-1ys8802"></path></svg> <p class="explore svelte-1ys8802">Strike footage matched with civilian harm allegation</p> <svg class="marker svelte-1ys8802" width=".8rem" height=".8rem" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><ellipse cx="10" cy="10" rx="4" ry="4" fill="white" class="svelte-1ys8802"></ellipse></svg> <p class="svelte-1ys8802">Geolocated Israeli military strike footage</p>',g;return n=new Gr({props:{data:t[2]}}),{c(){e=P("div"),i=P("div"),pe(n.$$.fragment),r=X(),l=P("div"),c=te(o),u=te(` incidents found from
        `),f=P("strong"),s=te(a),p=te(" onwards"),_=X(),d=P("div"),d.innerHTML=h,this.h()},l(v){e=T(v,"DIV",{class:!0});var w=I(e);i=T(w,"DIV",{class:!0});var C=I(i);de(n.$$.fragment,C),C.forEach(S),r=K(w),l=T(w,"DIV",{class:!0});var E=I(l);c=ne(E,o),u=ne(E,` incidents found from
        `),f=T(E,"STRONG",{});var M=I(f);s=ne(M,a),M.forEach(S),p=ne(E," onwards"),E.forEach(S),_=K(w),d=T(w,"DIV",{class:!0,"data-svelte-h":!0}),ye(d)!=="svelte-atfr35"&&(d.innerHTML=h),w.forEach(S),this.h()},h(){y(i,"class","svelte-1ys8802"),y(l,"class","centre-heading svelte-1ys8802"),y(d,"class","legend svelte-1ys8802"),y(e,"class","results svelte-1ys8802")},m(v,w){N(v,e,w),R(e,i),ge(n,i,null),R(e,r),R(e,l),R(l,c),R(l,u),R(l,f),R(f,s),R(l,p),R(e,_),R(e,d),g=!0},p(v,[w]){var E;const C={};w&4&&(C.data=v[2]),n.$set(C),(!g||w&1)&&o!==(o=((E=v[0])==null?void 0:E.length)+"")&&_e(c,o),(!g||w&10)&&a!==(a=(v[1]?v[4](new Date(v[1])):v[4](new Date(v[3])))+"")&&_e(s,a)},i(v){g||(F(n.$$.fragment,v),g=!0)},o(v){O(n.$$.fragment,v),g=!1},d(v){v&&S(e),ve(n)}}}function Zr(t,e,i){let{filteredData:n}=e,{selectedDate:r}=e,{data:l}=e,{minDate:o}=e;const c=u=>u.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return t.$$set=u=>{"filteredData"in u&&i(0,n=u.filteredData),"selectedDate"in u&&i(1,r=u.selectedDate),"data"in u&&i(2,l=u.data),"minDate"in u&&i(3,o=u.minDate)},[n,r,l,o,c]}class Xr extends we{constructor(e){super(),Ee(this,e,Zr,Yr,me,{filteredData:0,selectedDate:1,data:2,minDate:3})}}function Bn(t,e,i){const n=t.slice();return n[11]=e[i],n[13]=i,n}function Gn(t){let e,i,n,r=xe(t[11]).toLocaleDateString("en-US",{month:"short",day:"numeric"})+"",l,o,c,u,f;function a(){return t[9](t[11])}return{c(){e=P("div"),i=P("div"),n=P("p"),l=te(r),o=X(),this.h()},l(s){e=T(s,"DIV",{class:!0,style:!0,title:!0});var p=I(e);i=T(p,"DIV",{class:!0});var _=I(i);n=T(_,"P",{});var d=I(n);l=ne(d,r),d.forEach(S),_.forEach(S),o=K(p),p.forEach(S),this.h()},h(){y(i,"class","count svelte-yofwpe"),y(e,"class","bar svelte-yofwpe"),nt(e,"height",t[3][t[13]]*2+"px"),nt(e,"background-color",t[5]===t[11]?"black":"var(--primary-color)"),y(e,"title",c=t[11]+": "+t[3][t[13]]+" incidents")},m(s,p){N(s,e,p),R(e,i),R(i,n),R(n,l),R(e,o),u||(f=Te(e,"click",a),u=!0)},p(s,p){t=s,p&4&&r!==(r=xe(t[11]).toLocaleDateString("en-US",{month:"short",day:"numeric"})+"")&&_e(l,r),p&8&&nt(e,"height",t[3][t[13]]*2+"px"),p&36&&nt(e,"background-color",t[5]===t[11]?"black":"var(--primary-color)"),p&12&&c!==(c=t[11]+": "+t[3][t[13]]+" incidents")&&y(e,"title",c)},d(s){s&&S(e),u=!1,f()}}}function Kr(t){let e,i,n,r,l;i=new Xr({props:{filteredData:t[4],selectedDate:t[5],data:t[0],minDate:t[1]}});let o=x(t[2]),c=[];for(let u=0;u<o.length;u+=1)c[u]=Gn(Bn(t,o,u));return{c(){e=P("div"),pe(i.$$.fragment),n=X(),r=P("div");for(let u=0;u<c.length;u+=1)c[u].c();this.h()},l(u){e=T(u,"DIV",{class:!0});var f=I(e);de(i.$$.fragment,f),n=K(f),r=T(f,"DIV",{class:!0});var a=I(r);for(let s=0;s<c.length;s+=1)c[s].l(a);a.forEach(S),f.forEach(S),this.h()},h(){y(r,"class","chart svelte-yofwpe"),y(e,"class","timeline-container svelte-yofwpe")},m(u,f){N(u,e,f),ge(i,e,null),R(e,n),R(e,r);for(let a=0;a<c.length;a+=1)c[a]&&c[a].m(r,null);l=!0},p(u,[f]){const a={};if(f&16&&(a.filteredData=u[4]),f&32&&(a.selectedDate=u[5]),f&1&&(a.data=u[0]),f&2&&(a.minDate=u[1]),i.$set(a),f&108){o=x(u[2]);let s;for(s=0;s<o.length;s+=1){const p=Bn(u,o,s);c[s]?c[s].p(p,f):(c[s]=Gn(p),c[s].c(),c[s].m(r,null))}for(;s<c.length;s+=1)c[s].d(1);c.length=o.length}},i(u){l||(F(i.$$.fragment,u),l=!0)},o(u){O(i.$$.fragment,u),l=!1},d(u){u&&S(e),ve(i),De(c,u)}}}function Jr(t,e,i){let n,{data:r=[]}=e;const l=Zn();let o,c,u=r,f={},a=[],s=[];function p(d){n===d?(i(4,u=r),i(5,n=null)):(i(4,u=r.filter(h=>{const g=xe(h["Post Date"]);return g&&g.toISOString().split("T")[0]===d})),i(5,n=d)),l("filteredData",u)}const _=d=>p(d);return t.$$set=d=>{"data"in d&&i(0,r=d.data)},t.$$.update=()=>{if(t.$$.dirty&1&&i(1,{min:o,max:c}=_i(r),o,(i(7,c),i(0,r))),t.$$.dirty&257&&r.length){i(8,f={});for(let d of r){const h=xe(d["Post Date"]);if(h&&!isNaN(h.getTime())){const g=h.toISOString().split("T")[0];i(8,f[g]=(f[g]||0)+1,f)}}}if(t.$$.dirty&398&&o&&c){i(2,a=[]),i(3,s=[]);for(let d=o.getTime();d<=c.getTime();d+=864e5){const h=new Date(d).toISOString().split("T")[0];a.push(h),s.push(f[h]||0)}}},i(5,n=null),[r,o,a,s,u,n,p,c,f,_]}class Qr extends we{constructor(e){super(),Ee(this,e,Jr,Kr,me,{data:0})}}function $r(t){let e,i,n,r,l,o,c,u,f,a,s,p,_=t[2]>800&&Yn(t);return l=new Er({props:{data:t[1].length>0?t[1]:t[0]}}),u=new Rr({props:{data:t[0]}}),u.$on("updateFilteredData",t[3]),s=new Qr({props:{data:t[1].length>0?t[1]:t[0]}}),s.$on("filteredData",t[3]),{c(){e=P("section"),i=P("section"),_&&_.c(),n=X(),r=P("div"),pe(l.$$.fragment),o=X(),c=P("div"),pe(u.$$.fragment),f=X(),a=P("div"),pe(s.$$.fragment),this.h()},l(d){e=T(d,"SECTION",{class:!0});var h=I(e);i=T(h,"SECTION",{});var g=I(i);_&&_.l(g),g.forEach(S),n=K(h),r=T(h,"DIV",{class:!0});var m=I(r);de(l.$$.fragment,m),m.forEach(S),o=K(h),c=T(h,"DIV",{class:!0});var v=I(c);de(u.$$.fragment,v),v.forEach(S),h.forEach(S),f=K(d),a=T(d,"DIV",{class:!0});var w=I(a);de(s.$$.fragment,w),w.forEach(S),this.h()},h(){y(r,"class","mapContainer svelte-brfycw"),y(c,"class","panel svelte-brfycw"),y(e,"class","top svelte-brfycw"),y(a,"class","timeline svelte-brfycw")},m(d,h){N(d,e,h),R(e,i),_&&_.m(i,null),R(e,n),R(e,r),ge(l,r,null),R(e,o),R(e,c),ge(u,c,null),N(d,f,h),N(d,a,h),ge(s,a,null),p=!0},p(d,h){d[2]>800?_?(_.p(d,h),h&4&&F(_,1)):(_=Yn(d),_.c(),F(_,1),_.m(i,null)):_&&(Me(),O(_,1,1,()=>{_=null}),Ie());const g={};h&3&&(g.data=d[1].length>0?d[1]:d[0]),l.$set(g);const m={};h&1&&(m.data=d[0]),u.$set(m);const v={};h&3&&(v.data=d[1].length>0?d[1]:d[0]),s.$set(v)},i(d){p||(F(_),F(l.$$.fragment,d),F(u.$$.fragment,d),F(s.$$.fragment,d),p=!0)},o(d){O(_),O(l.$$.fragment,d),O(u.$$.fragment,d),O(s.$$.fragment,d),p=!1},d(d){d&&(S(e),S(f),S(a)),_&&_.d(),ve(l),ve(u),ve(s)}}}function xr(t){let e,i="Loading...";return{c(){e=P("p"),e.textContent=i,this.h()},l(n){e=T(n,"P",{class:!0,"data-svelte-h":!0}),ye(e)!=="svelte-1m6gtj"&&(e.textContent=i),this.h()},h(){y(e,"class","loading svelte-brfycw")},m(n,r){N(n,e,r)},p:le,i:le,o:le,d(n){n&&S(e)}}}function Yn(t){let e,i,n;return i=new Pr({props:{data:t[1].length>0?t[1]:t[0],windowWidth:t[2]}}),{c(){e=P("div"),pe(i.$$.fragment),this.h()},l(r){e=T(r,"DIV",{class:!0});var l=I(e);de(i.$$.fragment,l),l.forEach(S),this.h()},h(){y(e,"class","small")},m(r,l){N(r,e,l),ge(i,e,null),n=!0},p(r,l){const o={};l&3&&(o.data=r[1].length>0?r[1]:r[0]),l&4&&(o.windowWidth=r[2]),i.$set(o)},i(r){n||(F(i.$$.fragment,r),n=!0)},o(r){O(i.$$.fragment,r),n=!1},d(r){r&&S(e),ve(i)}}}function el(t){let e,i,n,r;const l=[xr,$r],o=[];function c(u,f){return u[0].length===0?0:1}return i=c(t),n=o[i]=l[i](t),{c(){e=P("section"),n.c(),this.h()},l(u){e=T(u,"SECTION",{class:!0});var f=I(e);n.l(f),f.forEach(S),this.h()},h(){y(e,"class","map")},m(u,f){N(u,e,f),o[i].m(e,null),r=!0},p(u,[f]){let a=i;i=c(u),i===a?o[i].p(u,f):(Me(),O(o[a],1,1,()=>{o[a]=null}),Ie(),n=o[i],n?n.p(u,f):(n=o[i]=l[i](u),n.c()),F(n,1),n.m(e,null))},i(u){r||(F(n),r=!0)},o(u){O(n),r=!1},d(u){u&&S(e),o[i].d()}}}function tl(t,e,i){let n=[],r=[],l=0;const o=()=>{i(2,l=window.innerWidth)},c=u=>{i(1,r=u==null?void 0:u.detail)};return Xn(async()=>{i(0,n=await Hr("https://docs.google.com/spreadsheets/d/e/2PACX-1vR2ixzurghRCd5eNEn15gsUC9wjAW2PoB2eIkxNvp89g2vIFjG-to5geUiBIN9yxJrJ_vZkIYesjKOW/pub?output=csv")),i(0,n=n.filter(f=>f["Add to Map"]=="TRUE")),o(),window.addEventListener("resize",o)}),[n,r,l,c]}class nl extends we{constructor(e){super(),Ee(this,e,tl,el,me,{})}}function il(t){let e,i,n;return i=new nl({}),{c(){e=P("article"),pe(i.$$.fragment),this.h()},l(r){e=T(r,"ARTICLE",{class:!0});var l=I(e);de(i.$$.fragment,l),l.forEach(S),this.h()},h(){y(e,"class","svelte-1732do2")},m(r,l){N(r,e,l),ge(i,e,null),n=!0},p:le,i(r){n||(F(i.$$.fragment,r),n=!0)},o(r){O(i.$$.fragment,r),n=!1},d(r){r&&S(e),ve(i)}}}class al extends we{constructor(e){super(),Ee(this,e,null,il,me,{})}}export{al as component};

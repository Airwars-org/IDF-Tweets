import{s as me,O,P as B,f as I,i as S,v as _,Q as bt,k as L,R as $e,n as le,o as st,e as P,t as te,d as T,h as ne,S as et,l as R,F as _i,T as mi,p as Re,U as Ce,V as yi,x as Ot,b as Q,W as De,j as $,m as _e,X as Zt,r as Zn,Y as wi,w as tt}from"../chunks/scheduler.CFfJM9d-.js";import{S as ye,i as we,t as q,g as Me,a as H,c as Ie,b as pe,d as de,m as ge,e as ve}from"../chunks/index.vBYw-KPi.js";import{w as Xn}from"../chunks/index.B0GAXNr7.js";function x(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}class Ne{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const i=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){const l=i[r],s=e+l,c=Math.abs(e)<Math.abs(l)?e-(s-l):l-(s-e);c&&(i[n++]=c),e=s}return i[n]=e,this._n=n+1,this}valueOf(){const e=this._partials;let i=this._n,n,r,l,s=0;if(i>0){for(s=e[--i];i>0&&(n=s,r=e[--i],s=n+r,l=r-(s-n),!l););i>0&&(l<0&&e[i-1]<0||l>0&&e[i-1]>0)&&(r=l*2,n=s+r,r==n-s&&(s=n))}return s}}function*Ei(t){for(const e of t)yield*e}function Kn(t){return Array.from(Ei(t))}var F=1e-6,Si=1e-12,z=Math.PI,re=z/2,Xt=z/4,se=z*2,oe=180/z,J=z/180,G=Math.abs,Jn=Math.atan,Xe=Math.atan2,Y=Math.cos,ki=Math.exp,Ci=Math.log,Z=Math.sin,Di=Math.sign||function(t){return t>0?1:t<0?-1:0},je=Math.sqrt,bi=Math.tan;function Ri(t){return t>1?0:t<-1?z:Math.acos(t)}function Ke(t){return t>1?re:t<-1?-re:Math.asin(t)}function ce(){}function at(t,e){t&&Jt.hasOwnProperty(t.type)&&Jt[t.type](t,e)}var Kt={Feature:function(t,e){at(t.geometry,e)},FeatureCollection:function(t,e){for(var i=t.features,n=-1,r=i.length;++n<r;)at(i[n].geometry,e)}},Jt={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)t=i[n],e.point(t[0],t[1],t[2])},LineString:function(t,e){Rt(t.coordinates,e,0)},MultiLineString:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)Rt(i[n],e,0)},Polygon:function(t,e){Qt(t.coordinates,e)},MultiPolygon:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)Qt(i[n],e)},GeometryCollection:function(t,e){for(var i=t.geometries,n=-1,r=i.length;++n<r;)at(i[n],e)}};function Rt(t,e,i){var n=-1,r=t.length-i,l;for(e.lineStart();++n<r;)l=t[n],e.point(l[0],l[1],l[2]);e.lineEnd()}function Qt(t,e){var i=-1,n=t.length;for(e.polygonStart();++i<n;)Rt(t[i],e,1);e.polygonEnd()}function Ve(t,e){t&&Kt.hasOwnProperty(t.type)?Kt[t.type](t,e):at(t,e)}function Mt(t){return[Xe(t[1],t[0]),Ke(t[2])]}function Ue(t){var e=t[0],i=t[1],n=Y(i);return[n*Y(e),n*Z(e),Z(i)]}function nt(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ut(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function mt(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function it(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function It(t){var e=je(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Pt(t,e){function i(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(i.invert=function(n,r){return n=e.invert(n,r),n&&t.invert(n[0],n[1])}),i}function Tt(t,e){return G(t)>z&&(t-=Math.round(t/se)*se),[t,e]}Tt.invert=Tt;function Qn(t,e,i){return(t%=se)?e||i?Pt(xt(t),en(e,i)):xt(t):e||i?en(e,i):Tt}function $t(t){return function(e,i){return e+=t,G(e)>z&&(e-=Math.round(e/se)*se),[e,i]}}function xt(t){var e=$t(t);return e.invert=$t(-t),e}function en(t,e){var i=Y(t),n=Z(t),r=Y(e),l=Z(e);function s(c,u){var f=Y(u),a=Y(c)*f,o=Z(c)*f,h=Z(u),d=h*i+a*n;return[Xe(o*r-d*l,a*i-h*n),Ke(d*r+o*l)]}return s.invert=function(c,u){var f=Y(u),a=Y(c)*f,o=Z(c)*f,h=Z(u),d=h*r-o*l;return[Xe(o*r+h*l,a*i+d*n),Ke(d*i-a*n)]},s}function Mi(t){t=Qn(t[0]*J,t[1]*J,t.length>2?t[2]*J:0);function e(i){return i=t(i[0]*J,i[1]*J),i[0]*=oe,i[1]*=oe,i}return e.invert=function(i){return i=t.invert(i[0]*J,i[1]*J),i[0]*=oe,i[1]*=oe,i},e}function Ii(t,e,i,n,r,l){if(i){var s=Y(e),c=Z(e),u=n*i;r==null?(r=e+n*se,l=e-u/2):(r=tn(s,r),l=tn(s,l),(n>0?r<l:r>l)&&(r+=n*se));for(var f,a=r;n>0?a>l:a<l;a-=u)f=Mt([s,-c*Y(a),-c*Z(a)]),t.point(f[0],f[1])}}function tn(t,e){e=Ue(e),e[0]-=t,It(e);var i=Ri(-e[1]);return((-e[2]<0?-i:i)+se-F)%se}function $n(){var t=[],e;return{point:function(i,n,r){e.push([i,n,r])},lineStart:function(){t.push(e=[])},lineEnd:ce,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var i=t;return t=[],e=null,i}}}function ot(t,e){return G(t[0]-e[0])<F&&G(t[1]-e[1])<F}function rt(t,e,i,n){this.x=t,this.z=e,this.o=i,this.e=n,this.v=!1,this.n=this.p=null}function xn(t,e,i,n,r){var l=[],s=[],c,u;if(t.forEach(function(p){if(!((g=p.length-1)<=0)){var g,v=p[0],y=p[g],m;if(ot(v,y)){if(!v[2]&&!y[2]){for(r.lineStart(),c=0;c<g;++c)r.point((v=p[c])[0],v[1]);r.lineEnd();return}y[0]+=2*F}l.push(m=new rt(v,p,null,!0)),s.push(m.o=new rt(v,null,m,!1)),l.push(m=new rt(y,p,null,!1)),s.push(m.o=new rt(y,null,m,!0))}}),!!l.length){for(s.sort(e),nn(l),nn(s),c=0,u=s.length;c<u;++c)s[c].e=i=!i;for(var f=l[0],a,o;;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;a=h.z,r.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(c=0,u=a.length;c<u;++c)r.point((o=a[c])[0],o[1]);else n(h.x,h.n.x,1,r);h=h.n}else{if(d)for(a=h.p.z,c=a.length-1;c>=0;--c)r.point((o=a[c])[0],o[1]);else n(h.x,h.p.x,-1,r);h=h.p}h=h.o,a=h.z,d=!d}while(!h.v);r.lineEnd()}}}function nn(t){if(e=t.length){for(var e,i=0,n=t[0],r;++i<e;)n.n=r=t[i],r.p=n,n=r;n.n=r=t[0],r.p=n}}function yt(t){return G(t[0])<=z?t[0]:Di(t[0])*((G(t[0])+z)%se-z)}function Pi(t,e){var i=yt(e),n=e[1],r=Z(n),l=[Z(i),-Y(i),0],s=0,c=0,u=new Ne;r===1?n=re+F:r===-1&&(n=-re-F);for(var f=0,a=t.length;f<a;++f)if(h=(o=t[f]).length)for(var o,h,d=o[h-1],p=yt(d),g=d[1]/2+Xt,v=Z(g),y=Y(g),m=0;m<h;++m,p=C,v=M,y=D,d=w){var w=o[m],C=yt(w),E=w[1]/2+Xt,M=Z(E),D=Y(E),b=C-p,j=b>=0?1:-1,V=j*b,N=V>z,X=v*M;if(u.add(Xe(X*j*Z(V),y*D+X*Y(V))),s+=N?b+j*se:b,N^p>=i^C>=i){var W=ut(Ue(d),Ue(w));It(W);var U=ut(l,W);It(U);var k=(N^b>=0?-1:1)*Ke(U[2]);(n>k||n===k&&(W[0]||W[1]))&&(c+=N^b>=0?1:-1)}}return(s<-F||s<F&&u<-Si)^c&1}function ei(t,e,i,n){return function(r){var l=e(r),s=$n(),c=e(s),u=!1,f,a,o,h={point:d,lineStart:g,lineEnd:v,polygonStart:function(){h.point=y,h.lineStart=m,h.lineEnd=w,a=[],f=[]},polygonEnd:function(){h.point=d,h.lineStart=g,h.lineEnd=v,a=Kn(a);var C=Pi(f,n);a.length?(u||(r.polygonStart(),u=!0),xn(a,Ni,C,i,r)):C&&(u||(r.polygonStart(),u=!0),r.lineStart(),i(null,null,1,r),r.lineEnd()),u&&(r.polygonEnd(),u=!1),a=f=null},sphere:function(){r.polygonStart(),r.lineStart(),i(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function d(C,E){t(C,E)&&r.point(C,E)}function p(C,E){l.point(C,E)}function g(){h.point=p,l.lineStart()}function v(){h.point=d,l.lineEnd()}function y(C,E){o.push([C,E]),c.point(C,E)}function m(){c.lineStart(),o=[]}function w(){y(o[0][0],o[0][1]),c.lineEnd();var C=c.clean(),E=s.result(),M,D=E.length,b,j,V;if(o.pop(),f.push(o),o=null,!!D){if(C&1){if(j=E[0],(b=j.length-1)>0){for(u||(r.polygonStart(),u=!0),r.lineStart(),M=0;M<b;++M)r.point((V=j[M])[0],V[1]);r.lineEnd()}return}D>1&&C&2&&E.push(E.pop().concat(E.shift())),a.push(E.filter(Ti))}}return h}}function Ti(t){return t.length>1}function Ni(t,e){return((t=t.x)[0]<0?t[1]-re-F:re-t[1])-((e=e.x)[0]<0?e[1]-re-F:re-e[1])}const rn=ei(function(){return!0},Li,Ai,[-z,-re]);function Li(t){var e=NaN,i=NaN,n=NaN,r;return{lineStart:function(){t.lineStart(),r=1},point:function(l,s){var c=l>0?z:-z,u=G(l-e);G(u-z)<F?(t.point(e,i=(i+s)/2>0?re:-re),t.point(n,i),t.lineEnd(),t.lineStart(),t.point(c,i),t.point(l,i),r=0):n!==c&&u>=z&&(G(e-n)<F&&(e-=n*F),G(l-c)<F&&(l-=c*F),i=ji(e,i,l,s),t.point(n,i),t.lineEnd(),t.lineStart(),t.point(c,i),r=0),t.point(e=l,i=s),n=c},lineEnd:function(){t.lineEnd(),e=i=NaN},clean:function(){return 2-r}}}function ji(t,e,i,n){var r,l,s=Z(t-i);return G(s)>F?Jn((Z(e)*(l=Y(n))*Z(i)-Z(n)*(r=Y(e))*Z(t))/(r*l*s)):(e+n)/2}function Ai(t,e,i,n){var r;if(t==null)r=i*re,n.point(-z,r),n.point(0,r),n.point(z,r),n.point(z,0),n.point(z,-r),n.point(0,-r),n.point(-z,-r),n.point(-z,0),n.point(-z,r);else if(G(t[0]-e[0])>F){var l=t[0]<e[0]?z:-z;r=i*l/2,n.point(-l,r),n.point(0,r),n.point(l,r)}else n.point(e[0],e[1])}function Vi(t){var e=Y(t),i=2*J,n=e>0,r=G(e)>F;function l(a,o,h,d){Ii(d,t,i,h,a,o)}function s(a,o){return Y(a)*Y(o)>e}function c(a){var o,h,d,p,g;return{lineStart:function(){p=d=!1,g=1},point:function(v,y){var m=[v,y],w,C=s(v,y),E=n?C?0:f(v,y):C?f(v+(v<0?z:-z),y):0;if(!o&&(p=d=C)&&a.lineStart(),C!==d&&(w=u(o,m),(!w||ot(o,w)||ot(m,w))&&(m[2]=1)),C!==d)g=0,C?(a.lineStart(),w=u(m,o),a.point(w[0],w[1])):(w=u(o,m),a.point(w[0],w[1],2),a.lineEnd()),o=w;else if(r&&o&&n^C){var M;!(E&h)&&(M=u(m,o,!0))&&(g=0,n?(a.lineStart(),a.point(M[0][0],M[0][1]),a.point(M[1][0],M[1][1]),a.lineEnd()):(a.point(M[1][0],M[1][1]),a.lineEnd(),a.lineStart(),a.point(M[0][0],M[0][1],3)))}C&&(!o||!ot(o,m))&&a.point(m[0],m[1]),o=m,d=C,h=E},lineEnd:function(){d&&a.lineEnd(),o=null},clean:function(){return g|(p&&d)<<1}}}function u(a,o,h){var d=Ue(a),p=Ue(o),g=[1,0,0],v=ut(d,p),y=nt(v,v),m=v[0],w=y-m*m;if(!w)return!h&&a;var C=e*y/w,E=-e*m/w,M=ut(g,v),D=it(g,C),b=it(v,E);mt(D,b);var j=M,V=nt(D,j),N=nt(j,j),X=V*V-N*(nt(D,D)-1);if(!(X<0)){var W=je(X),U=it(j,(-V-W)/N);if(mt(U,D),U=Mt(U),!h)return U;var k=a[0],A=o[0],K=a[1],ee=o[1],ae;A<k&&(ae=k,k=A,A=ae);var We=A-k,Ee=G(We-z)<F,Pe=Ee||We<F;if(!Ee&&ee<K&&(ae=K,K=ee,ee=ae),Pe?Ee?K+ee>0^U[1]<(G(U[0]-k)<F?K:ee):K<=U[1]&&U[1]<=ee:We>z^(k<=U[0]&&U[0]<=A)){var Se=it(j,(-V+W)/N);return mt(Se,D),[U,Mt(Se)]}}}function f(a,o){var h=n?t:z-t,d=0;return a<-h?d|=1:a>h&&(d|=2),o<-h?d|=4:o>h&&(d|=8),d}return ei(s,c,l,n?[0,-t]:[-z,t-z])}function zi(t,e,i,n,r,l){var s=t[0],c=t[1],u=e[0],f=e[1],a=0,o=1,h=u-s,d=f-c,p;if(p=i-s,!(!h&&p>0)){if(p/=h,h<0){if(p<a)return;p<o&&(o=p)}else if(h>0){if(p>o)return;p>a&&(a=p)}if(p=r-s,!(!h&&p<0)){if(p/=h,h<0){if(p>o)return;p>a&&(a=p)}else if(h>0){if(p<a)return;p<o&&(o=p)}if(p=n-c,!(!d&&p>0)){if(p/=d,d<0){if(p<a)return;p<o&&(o=p)}else if(d>0){if(p>o)return;p>a&&(a=p)}if(p=l-c,!(!d&&p<0)){if(p/=d,d<0){if(p>o)return;p>a&&(a=p)}else if(d>0){if(p<a)return;p<o&&(o=p)}return a>0&&(t[0]=s+a*h,t[1]=c+a*d),o<1&&(e[0]=s+o*h,e[1]=c+o*d),!0}}}}}var Fe=1e9,lt=-Fe;function Ui(t,e,i,n){function r(f,a){return t<=f&&f<=i&&e<=a&&a<=n}function l(f,a,o,h){var d=0,p=0;if(f==null||(d=s(f,o))!==(p=s(a,o))||u(f,a)<0^o>0)do h.point(d===0||d===3?t:i,d>1?n:e);while((d=(d+o+4)%4)!==p);else h.point(a[0],a[1])}function s(f,a){return G(f[0]-t)<F?a>0?0:3:G(f[0]-i)<F?a>0?2:1:G(f[1]-e)<F?a>0?1:0:a>0?3:2}function c(f,a){return u(f.x,a.x)}function u(f,a){var o=s(f,1),h=s(a,1);return o!==h?o-h:o===0?a[1]-f[1]:o===1?f[0]-a[0]:o===2?f[1]-a[1]:a[0]-f[0]}return function(f){var a=f,o=$n(),h,d,p,g,v,y,m,w,C,E,M,D={point:b,lineStart:X,lineEnd:W,polygonStart:V,polygonEnd:N};function b(k,A){r(k,A)&&a.point(k,A)}function j(){for(var k=0,A=0,K=d.length;A<K;++A)for(var ee=d[A],ae=1,We=ee.length,Ee=ee[0],Pe,Se,xe=Ee[0],Ae=Ee[1];ae<We;++ae)Pe=xe,Se=Ae,Ee=ee[ae],xe=Ee[0],Ae=Ee[1],Se<=n?Ae>n&&(xe-Pe)*(n-Se)>(Ae-Se)*(t-Pe)&&++k:Ae<=n&&(xe-Pe)*(n-Se)<(Ae-Se)*(t-Pe)&&--k;return k}function V(){a=o,h=[],d=[],M=!0}function N(){var k=j(),A=M&&k,K=(h=Kn(h)).length;(A||K)&&(f.polygonStart(),A&&(f.lineStart(),l(null,null,1,f),f.lineEnd()),K&&xn(h,c,k,l,f),f.polygonEnd()),a=f,h=d=p=null}function X(){D.point=U,d&&d.push(p=[]),E=!0,C=!1,m=w=NaN}function W(){h&&(U(g,v),y&&C&&o.rejoin(),h.push(o.result())),D.point=b,C&&a.lineEnd()}function U(k,A){var K=r(k,A);if(d&&p.push([k,A]),E)g=k,v=A,y=K,E=!1,K&&(a.lineStart(),a.point(k,A));else if(K&&C)a.point(k,A);else{var ee=[m=Math.max(lt,Math.min(Fe,m)),w=Math.max(lt,Math.min(Fe,w))],ae=[k=Math.max(lt,Math.min(Fe,k)),A=Math.max(lt,Math.min(Fe,A))];zi(ee,ae,t,e,i,n)?(C||(a.lineStart(),a.point(ee[0],ee[1])),a.point(ae[0],ae[1]),K||a.lineEnd(),M=!1):K&&(a.lineStart(),a.point(k,A),M=!1)}m=k,w=A,C=K}return D}}const Nt=t=>t;var wt=new Ne,Lt=new Ne,ti,ni,jt,At,ke={point:ce,lineStart:ce,lineEnd:ce,polygonStart:function(){ke.lineStart=qi,ke.lineEnd=Hi},polygonEnd:function(){ke.lineStart=ke.lineEnd=ke.point=ce,wt.add(G(Lt)),Lt=new Ne},result:function(){var t=wt/2;return wt=new Ne,t}};function qi(){ke.point=Wi}function Wi(t,e){ke.point=ii,ti=jt=t,ni=At=e}function ii(t,e){Lt.add(At*t-jt*e),jt=t,At=e}function Hi(){ii(ti,ni)}var qe=1/0,ct=qe,Je=-qe,ft=Je,ht={point:Fi,lineStart:ce,lineEnd:ce,polygonStart:ce,polygonEnd:ce,result:function(){var t=[[qe,ct],[Je,ft]];return Je=ft=-(ct=qe=1/0),t}};function Fi(t,e){t<qe&&(qe=t),t>Je&&(Je=t),e<ct&&(ct=e),e>ft&&(ft=e)}var Vt=0,zt=0,Oe=0,pt=0,dt=0,ze=0,Ut=0,qt=0,Be=0,ri,li,fe,he,ue={point:Le,lineStart:ln,lineEnd:on,polygonStart:function(){ue.lineStart=Gi,ue.lineEnd=Yi},polygonEnd:function(){ue.point=Le,ue.lineStart=ln,ue.lineEnd=on},result:function(){var t=Be?[Ut/Be,qt/Be]:ze?[pt/ze,dt/ze]:Oe?[Vt/Oe,zt/Oe]:[NaN,NaN];return Vt=zt=Oe=pt=dt=ze=Ut=qt=Be=0,t}};function Le(t,e){Vt+=t,zt+=e,++Oe}function ln(){ue.point=Oi}function Oi(t,e){ue.point=Bi,Le(fe=t,he=e)}function Bi(t,e){var i=t-fe,n=e-he,r=je(i*i+n*n);pt+=r*(fe+t)/2,dt+=r*(he+e)/2,ze+=r,Le(fe=t,he=e)}function on(){ue.point=Le}function Gi(){ue.point=Zi}function Yi(){oi(ri,li)}function Zi(t,e){ue.point=oi,Le(ri=fe=t,li=he=e)}function oi(t,e){var i=t-fe,n=e-he,r=je(i*i+n*n);pt+=r*(fe+t)/2,dt+=r*(he+e)/2,ze+=r,r=he*t-fe*e,Ut+=r*(fe+t),qt+=r*(he+e),Be+=r*3,Le(fe=t,he=e)}function si(t){this._context=t}si.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,se);break}}},result:ce};var Wt=new Ne,Et,ai,ui,Ge,Ye,Qe={point:ce,lineStart:function(){Qe.point=Xi},lineEnd:function(){Et&&ci(ai,ui),Qe.point=ce},polygonStart:function(){Et=!0},polygonEnd:function(){Et=null},result:function(){var t=+Wt;return Wt=new Ne,t}};function Xi(t,e){Qe.point=ci,ai=Ge=t,ui=Ye=e}function ci(t,e){Ge-=t,Ye-=e,Wt.add(je(Ge*Ge+Ye*Ye)),Ge=t,Ye=e}let sn,gt,an,un;class cn{constructor(e){this._append=e==null?fi:Ki(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,i){switch(this._point){case 0:{this._append`M${e},${i}`,this._point=1;break}case 1:{this._append`L${e},${i}`;break}default:{if(this._append`M${e},${i}`,this._radius!==an||this._append!==gt){const n=this._radius,r=this._;this._="",this._append`m0,${n}a${n},${n} 0 1,1 0,${-2*n}a${n},${n} 0 1,1 0,${2*n}z`,an=n,gt=this._append,un=this._,this._=r}this._+=un;break}}}result(){const e=this._;return this._="",e.length?e:null}}function fi(t){let e=1;this._+=t[0];for(const i=t.length;e<i;++e)this._+=arguments[e]+t[e]}function Ki(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return fi;if(e!==sn){const i=10**e;sn=e,gt=function(r){let l=1;this._+=r[0];for(const s=r.length;l<s;++l)this._+=Math.round(arguments[l]*i)/i+r[l]}}return gt}function vt(t,e){let i=3,n=4.5,r,l;function s(c){return c&&(typeof n=="function"&&l.pointRadius(+n.apply(this,arguments)),Ve(c,r(l))),l.result()}return s.area=function(c){return Ve(c,r(ke)),ke.result()},s.measure=function(c){return Ve(c,r(Qe)),Qe.result()},s.bounds=function(c){return Ve(c,r(ht)),ht.result()},s.centroid=function(c){return Ve(c,r(ue)),ue.result()},s.projection=function(c){return arguments.length?(r=c==null?(t=null,Nt):(t=c).stream,s):t},s.context=function(c){return arguments.length?(l=c==null?(e=null,new cn(i)):new si(e=c),typeof n!="function"&&l.pointRadius(n),s):e},s.pointRadius=function(c){return arguments.length?(n=typeof c=="function"?c:(l.pointRadius(+c),+c),s):n},s.digits=function(c){if(!arguments.length)return i;if(c==null)i=null;else{const u=Math.floor(c);if(!(u>=0))throw new RangeError(`invalid digits: ${c}`);i=u}return e===null&&(l=new cn(i)),s},s.projection(t).digits(i).context(e)}function Bt(t){return function(e){var i=new Ht;for(var n in t)i[n]=t[n];return i.stream=e,i}}function Ht(){}Ht.prototype={constructor:Ht,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Gt(t,e,i){var n=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),n!=null&&t.clipExtent(null),Ve(i,t.stream(ht)),e(ht.result()),n!=null&&t.clipExtent(n),t}function hi(t,e,i){return Gt(t,function(n){var r=e[1][0]-e[0][0],l=e[1][1]-e[0][1],s=Math.min(r/(n[1][0]-n[0][0]),l/(n[1][1]-n[0][1])),c=+e[0][0]+(r-s*(n[1][0]+n[0][0]))/2,u=+e[0][1]+(l-s*(n[1][1]+n[0][1]))/2;t.scale(150*s).translate([c,u])},i)}function Ji(t,e,i){return hi(t,[[0,0],e],i)}function Qi(t,e,i){return Gt(t,function(n){var r=+e,l=r/(n[1][0]-n[0][0]),s=(r-l*(n[1][0]+n[0][0]))/2,c=-l*n[0][1];t.scale(150*l).translate([s,c])},i)}function $i(t,e,i){return Gt(t,function(n){var r=+e,l=r/(n[1][1]-n[0][1]),s=-l*n[0][0],c=(r-l*(n[1][1]+n[0][1]))/2;t.scale(150*l).translate([s,c])},i)}var fn=16,xi=Y(30*J);function hn(t,e){return+e?tr(t,e):er(t)}function er(t){return Bt({point:function(e,i){e=t(e,i),this.stream.point(e[0],e[1])}})}function tr(t,e){function i(n,r,l,s,c,u,f,a,o,h,d,p,g,v){var y=f-n,m=a-r,w=y*y+m*m;if(w>4*e&&g--){var C=s+h,E=c+d,M=u+p,D=je(C*C+E*E+M*M),b=Ke(M/=D),j=G(G(M)-1)<F||G(l-o)<F?(l+o)/2:Xe(E,C),V=t(j,b),N=V[0],X=V[1],W=N-n,U=X-r,k=m*W-y*U;(k*k/w>e||G((y*W+m*U)/w-.5)>.3||s*h+c*d+u*p<xi)&&(i(n,r,l,s,c,u,N,X,j,C/=D,E/=D,M,g,v),v.point(N,X),i(N,X,j,C,E,M,f,a,o,h,d,p,g,v))}}return function(n){var r,l,s,c,u,f,a,o,h,d,p,g,v={point:y,lineStart:m,lineEnd:C,polygonStart:function(){n.polygonStart(),v.lineStart=E},polygonEnd:function(){n.polygonEnd(),v.lineStart=m}};function y(b,j){b=t(b,j),n.point(b[0],b[1])}function m(){o=NaN,v.point=w,n.lineStart()}function w(b,j){var V=Ue([b,j]),N=t(b,j);i(o,h,a,d,p,g,o=N[0],h=N[1],a=b,d=V[0],p=V[1],g=V[2],fn,n),n.point(o,h)}function C(){v.point=y,n.lineEnd()}function E(){m(),v.point=M,v.lineEnd=D}function M(b,j){w(r=b,j),l=o,s=h,c=d,u=p,f=g,v.point=w}function D(){i(o,h,a,d,p,g,l,s,r,c,u,f,fn,n),v.lineEnd=C,C()}return v}}var nr=Bt({point:function(t,e){this.stream.point(t*J,e*J)}});function ir(t){return Bt({point:function(e,i){var n=t(e,i);return this.stream.point(n[0],n[1])}})}function rr(t,e,i,n,r){function l(s,c){return s*=n,c*=r,[e+t*s,i-t*c]}return l.invert=function(s,c){return[(s-e)/t*n,(i-c)/t*r]},l}function pn(t,e,i,n,r,l){if(!l)return rr(t,e,i,n,r);var s=Y(l),c=Z(l),u=s*t,f=c*t,a=s/t,o=c/t,h=(c*i-s*e)/t,d=(c*e+s*i)/t;function p(g,v){return g*=n,v*=r,[u*g-f*v+e,i-f*g-u*v]}return p.invert=function(g,v){return[n*(a*g-o*v+h),r*(d-o*g-a*v)]},p}function lr(t){return or(function(){return t})()}function or(t){var e,i=150,n=480,r=250,l=0,s=0,c=0,u=0,f=0,a,o=0,h=1,d=1,p=null,g=rn,v=null,y,m,w,C=Nt,E=.5,M,D,b,j,V;function N(k){return b(k[0]*J,k[1]*J)}function X(k){return k=b.invert(k[0],k[1]),k&&[k[0]*oe,k[1]*oe]}N.stream=function(k){return j&&V===k?j:j=nr(ir(a)(g(M(C(V=k)))))},N.preclip=function(k){return arguments.length?(g=k,p=void 0,U()):g},N.postclip=function(k){return arguments.length?(C=k,v=y=m=w=null,U()):C},N.clipAngle=function(k){return arguments.length?(g=+k?Vi(p=k*J):(p=null,rn),U()):p*oe},N.clipExtent=function(k){return arguments.length?(C=k==null?(v=y=m=w=null,Nt):Ui(v=+k[0][0],y=+k[0][1],m=+k[1][0],w=+k[1][1]),U()):v==null?null:[[v,y],[m,w]]},N.scale=function(k){return arguments.length?(i=+k,W()):i},N.translate=function(k){return arguments.length?(n=+k[0],r=+k[1],W()):[n,r]},N.center=function(k){return arguments.length?(l=k[0]%360*J,s=k[1]%360*J,W()):[l*oe,s*oe]},N.rotate=function(k){return arguments.length?(c=k[0]%360*J,u=k[1]%360*J,f=k.length>2?k[2]%360*J:0,W()):[c*oe,u*oe,f*oe]},N.angle=function(k){return arguments.length?(o=k%360*J,W()):o*oe},N.reflectX=function(k){return arguments.length?(h=k?-1:1,W()):h<0},N.reflectY=function(k){return arguments.length?(d=k?-1:1,W()):d<0},N.precision=function(k){return arguments.length?(M=hn(D,E=k*k),U()):je(E)},N.fitExtent=function(k,A){return hi(N,k,A)},N.fitSize=function(k,A){return Ji(N,k,A)},N.fitWidth=function(k,A){return Qi(N,k,A)},N.fitHeight=function(k,A){return $i(N,k,A)};function W(){var k=pn(i,0,0,h,d,o).apply(null,e(l,s)),A=pn(i,n-k[0],r-k[1],h,d,o);return a=Qn(c,u,f),D=Pt(e,A),b=Pt(a,D),M=hn(D,E),U()}function U(){return j=V=null,N}return function(){return e=t.apply(this,arguments),N.invert=e.invert&&X,W()}}function Yt(t,e){return[t,Ci(bi((re+e)/2))]}Yt.invert=function(t,e){return[t,2*Jn(ki(e))-re]};function pi(){return sr(Yt).scale(961/se)}function sr(t){var e=lr(t),i=e.center,n=e.scale,r=e.translate,l=e.clipExtent,s=null,c,u,f;e.scale=function(o){return arguments.length?(n(o),a()):n()},e.translate=function(o){return arguments.length?(r(o),a()):r()},e.center=function(o){return arguments.length?(i(o),a()):i()},e.clipExtent=function(o){return arguments.length?(o==null?s=c=u=f=null:(s=+o[0][0],c=+o[0][1],u=+o[1][0],f=+o[1][1]),a()):s==null?null:[[s,c],[u,f]]};function a(){var o=z*n(),h=e(Mi(e.rotate()).invert([0,0]));return l(s==null?[[h[0]-o,h[1]-o],[h[0]+o,h[1]+o]]:t===Yt?[[Math.max(h[0]-o,s),c],[Math.min(h[0]+o,u),f]]:[[s,Math.max(h[1]-o,c)],[u,Math.min(h[1]+o,f)]])}return a()}function ar(t){return t}function ur(t){if(t==null)return ar;var e,i,n=t.scale[0],r=t.scale[1],l=t.translate[0],s=t.translate[1];return function(c,u){u||(e=i=0);var f=2,a=c.length,o=new Array(a);for(o[0]=(e+=c[0])*n+l,o[1]=(i+=c[1])*r+s;f<a;)o[f]=c[f],++f;return o}}function cr(t,e){for(var i,n=t.length,r=n-e;r<--n;)i=t[r],t[r++]=t[n],t[n]=i}function St(t,e){return typeof e=="string"&&(e=t.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(i){return dn(t,i)})}:dn(t,e)}function dn(t,e){var i=e.id,n=e.bbox,r=e.properties==null?{}:e.properties,l=fr(t,e);return i==null&&n==null?{type:"Feature",properties:r,geometry:l}:n==null?{type:"Feature",id:i,properties:r,geometry:l}:{type:"Feature",id:i,bbox:n,properties:r,geometry:l}}function fr(t,e){var i=ur(t.transform),n=t.arcs;function r(a,o){o.length&&o.pop();for(var h=n[a<0?~a:a],d=0,p=h.length;d<p;++d)o.push(i(h[d],d));a<0&&cr(o,p)}function l(a){return i(a)}function s(a){for(var o=[],h=0,d=a.length;h<d;++h)r(a[h],o);return o.length<2&&o.push(o[0]),o}function c(a){for(var o=s(a);o.length<4;)o.push(o[0]);return o}function u(a){return a.map(c)}function f(a){var o=a.type,h;switch(o){case"GeometryCollection":return{type:o,geometries:a.geometries.map(f)};case"Point":h=l(a.coordinates);break;case"MultiPoint":h=a.coordinates.map(l);break;case"LineString":h=s(a.arcs);break;case"MultiLineString":h=a.arcs.map(s);break;case"Polygon":h=u(a.arcs);break;case"MultiPolygon":h=a.arcs.map(u);break;default:return null}return{type:o,coordinates:h}}return f(e)}const Te=Xn(null),_t=Xn(null);function hr(t){let e,i,n,r,l;return{c(){e=O("circle"),this.h()},l(s){e=B(s,"circle",{class:!0,id:!0,r:!0,cx:!0,cy:!0}),I(e).forEach(S),this.h()},h(){_(e,"class","secondary svelte-tsyr9o"),_(e,"id",i=t[0]["Unmatched ID"]),_(e,"r",n=t[1]<=768?2.5:5),_(e,"cx",r=t[0].cx),_(e,"cy",l=t[0].cy)},m(s,c){L(s,e,c)},p(s,c){c&1&&i!==(i=s[0]["Unmatched ID"])&&_(e,"id",i),c&2&&n!==(n=s[1]<=768?2.5:5)&&_(e,"r",n),c&1&&r!==(r=s[0].cx)&&_(e,"cx",r),c&1&&l!==(l=s[0].cy)&&_(e,"cy",l)},d(s){s&&S(e)}}}function pr(t){let e,i,n,r,l,s,c,u,f,a,o,h,d,p,g,v,y,m,w;function C(D,b){return D[1]>768?gr:dr}let E=C(t),M=E(t);return{c(){e=O("line"),s=O("rect"),M.c(),f=O("foreignObject"),a=P("div"),o=P("video"),h=P("track"),d=P("source"),g=P("source"),y=te(`
                    Your browser does not support the video tag.`),this.h()},l(D){e=B(D,"line",{class:!0,x1:!0,y1:!0,x2:!0,y2:!0}),I(e).forEach(S),s=B(D,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,ry:!0}),I(s).forEach(S),M.l(D),f=B(D,"foreignObject",{x:!0,y:!0,width:!0,height:!0,class:!0});var b=I(f);a=T(b,"DIV",{class:!0});var j=I(a);o=T(j,"VIDEO",{"webkit-playsinline":!0,class:!0});var V=I(o);h=T(V,"TRACK",{kind:!0}),d=T(V,"SOURCE",{src:!0,type:!0}),g=T(V,"SOURCE",{src:!0,type:!0}),y=ne(V,`
                    Your browser does not support the video tag.`),V.forEach(S),j.forEach(S),b.forEach(S),this.h()},h(){_(e,"class","line svelte-tsyr9o"),_(e,"x1",i=t[0].cx-t[7]),_(e,"y1",n=t[0].cy-be),_(e,"x2",r=t[0].direction==="top"?t[0].cx-t[7]:t[0].cx+t[5]),_(e,"y2",l=t[0].cy-be+(t[0].direction==="top"?t[6]:0)),_(s,"class","box svelte-tsyr9o"),_(s,"x",c=t[0].cx+t[5]),_(s,"y",u=t[0].cy-be+t[6]-t[3]/2),_(s,"width",t[2]),_(s,"height",t[3]),_(s,"rx","10"),_(s,"ry","10"),_(h,"kind","captions"),et(d.src,p="videos/"+t[0]["Reference Code"].trim()+".webm")||_(d,"src",p),_(d,"type","video/webm"),et(g.src,v="videos/"+t[0]["Reference Code"].trim()+".mp4")||_(g,"src",v),_(g,"type","video/mp4"),o.autoplay=!0,o.loop=!0,o.muted=!0,_(o,"webkit-playsinline",""),o.playsInline=!0,_(o,"class","svelte-tsyr9o"),_(a,"class","svelte-tsyr9o"),_(f,"x",m=t[0].cx+t[5]),_(f,"y",w=t[0].cy-be+t[6]-t[3]/2),_(f,"width",t[2]),_(f,"height",t[3]),_(f,"class","svelte-tsyr9o")},m(D,b){L(D,e,b),L(D,s,b),M.m(D,b),L(D,f,b),R(f,a),R(a,o),R(o,h),R(o,d),R(o,g),R(o,y)},p(D,b){b&129&&i!==(i=D[0].cx-D[7])&&_(e,"x1",i),b&1&&n!==(n=D[0].cy-be)&&_(e,"y1",n),b&161&&r!==(r=D[0].direction==="top"?D[0].cx-D[7]:D[0].cx+D[5])&&_(e,"x2",r),b&65&&l!==(l=D[0].cy-be+(D[0].direction==="top"?D[6]:0))&&_(e,"y2",l),b&33&&c!==(c=D[0].cx+D[5])&&_(s,"x",c),b&73&&u!==(u=D[0].cy-be+D[6]-D[3]/2)&&_(s,"y",u),b&4&&_(s,"width",D[2]),b&8&&_(s,"height",D[3]),E===(E=C(D))&&M?M.p(D,b):(M.d(1),M=E(D),M&&(M.c(),M.m(f.parentNode,f))),b&1&&!et(d.src,p="videos/"+D[0]["Reference Code"].trim()+".webm")&&_(d,"src",p),b&1&&!et(g.src,v="videos/"+D[0]["Reference Code"].trim()+".mp4")&&_(g,"src",v),b&33&&m!==(m=D[0].cx+D[5])&&_(f,"x",m),b&73&&w!==(w=D[0].cy-be+D[6]-D[3]/2)&&_(f,"y",w),b&4&&_(f,"width",D[2]),b&8&&_(f,"height",D[3])},d(D){D&&(S(e),S(s),S(f)),M.d(D)}}}function dr(t){let e,i,n;return{c(){e=O("svg"),i=O("path"),n=O("circle"),this.h()},l(r){e=B(r,"svg",{x:!0,y:!0,width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var l=I(e);i=B(l,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0,class:!0}),I(i).forEach(S),n=B(l,"circle",{class:!0,cx:!0,cy:!0,fill:!0,stroke:!0}),I(n).forEach(S),l.forEach(S),this.h()},h(){_(i,"fill-rule","evenodd"),_(i,"clip-rule","evenodd"),_(i,"d","M20 0H0V15.6522L10 28.2609L20 15.6522V0ZM10 15.8967C13.1216 15.8967 15.6522 13.3266 15.6522 10.1562C15.6522 6.98586 13.1216 4.41576 10 4.41576C6.87839 4.41576 4.34783 6.98586 4.34783 10.1562C4.34783 13.3266 6.87839 15.8967 10 15.8967Z"),_(i,"fill","var(--primary-color)"),_(i,"class","svelte-tsyr9o"),_(n,"class","hide svelte-tsyr9o"),_(n,"cx","10"),_(n,"cy","10.1562"),_(n,"fill","var(--primary-color)"),_(n,"stroke","none"),_(e,"x",t[9]),_(e,"y",t[8]),_(e,"width","10"),_(e,"height","16"),_(e,"viewBox","0 0 20 29"),_(e,"fill","none"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"class","svelte-tsyr9o")},m(r,l){L(r,e,l),R(e,i),R(e,n)},p(r,l){l&512&&_(e,"x",r[9]),l&256&&_(e,"y",r[8])},d(r){r&&S(e)}}}function gr(t){let e,i,n;return{c(){e=O("svg"),i=O("path"),n=O("circle"),this.h()},l(r){e=B(r,"svg",{x:!0,y:!0,width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var l=I(e);i=B(l,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0,class:!0}),I(i).forEach(S),n=B(l,"circle",{class:!0,cx:!0,cy:!0,fill:!0,stroke:!0}),I(n).forEach(S),l.forEach(S),this.h()},h(){_(i,"fill-rule","evenodd"),_(i,"clip-rule","evenodd"),_(i,"d","M20 0H0V15.6522L10 28.2609L20 15.6522V0ZM10 15.8967C13.1216 15.8967 15.6522 13.3266 15.6522 10.1562C15.6522 6.98586 13.1216 4.41576 10 4.41576C6.87839 4.41576 4.34783 6.98586 4.34783 10.1562C4.34783 13.3266 6.87839 15.8967 10 15.8967Z"),_(i,"fill","var(--primary-color)"),_(i,"class","svelte-tsyr9o"),_(n,"class","hide svelte-tsyr9o"),_(n,"cx","10"),_(n,"cy","10.1562"),_(n,"fill","var(--primary-color)"),_(n,"stroke","none"),_(e,"x",t[9]),_(e,"y",t[8]),_(e,"width","15"),_(e,"height","24"),_(e,"viewBox","0 0 20 29"),_(e,"fill","none"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"class","svelte-tsyr9o")},m(r,l){L(r,e,l),R(e,i),R(e,n)},p(r,l){l&512&&_(e,"x",r[9]),l&256&&_(e,"y",r[8])},d(r){r&&S(e)}}}function vr(t){let e,i,n,r;function l(u,f){return u[0]["Reference Code"]&&u[0]["Show Tooltip"]=="TRUE"?pr:hr}let s=l(t),c=s(t);return{c(){e=O("g"),c.c(),this.h()},l(u){e=B(u,"g",{id:!0,class:!0});var f=I(e);c.l(f),f.forEach(S),this.h()},h(){_(e,"id",i=t[0]["Reference Code"]),_(e,"class","svelte-tsyr9o"),bt(e,"selected",t[4])},m(u,f){L(u,e,f),c.m(e,null),n||(r=$e(e,"click",t[10]),n=!0)},p(u,[f]){s===(s=l(u))&&c?c.p(u,f):(c.d(1),c=s(u),c&&(c.c(),c.m(e,null))),f&1&&i!==(i=u[0]["Reference Code"])&&_(e,"id",i),f&16&&bt(e,"selected",u[4])},i:le,o:le,d(u){u&&S(e),c.d(),n=!1,r()}}}let be=29;function _r(t,e,i){let n,r,l,s,c;st(t,_t,y=>i(12,s=y)),st(t,Te,y=>i(11,c=y));let{point:u}=e,{w:f}=e,a=195,o=122,h="",d=0,p=0;function g(y){const m=u["Group ID"]||null,w=s.filter(C=>C["Group ID"]===m&&C["Unmatched ID"]!==u["Unmatched ID"]);Te.set({...u,cx:u.cx,cy:u.cy,lat:u.lat,lon:u.lon,id:u["Unmatched ID"],related:w.map(C=>({...C,cx:C.cx,cy:C.cy,lat:C.lat,lon:C.lon,id:C["Unmatched ID"]}))}),v(y)}function v(y){let m;if(y instanceof Event&&(m=y.target.closest("g"),m&&m.parentNode&&m.parentNode.appendChild(m)),y!=null&&y["Unmatched ID"]){m=document.getElementById(u["Unmatched ID"]);const w=document.querySelector(".points");if(m&&m.parentNode){const C=m.parentNode;w.appendChild(C)}}}return t.$$set=y=>{"point"in y&&i(0,u=y.point),"w"in y&&i(1,f=y.w)},t.$$.update=()=>{t.$$.dirty&15&&(f<=768?(i(2,a=f/7.38),i(3,o=f/11.8),u.direction.startsWith("left")||u.direction.startsWith("right")?i(7,p=u.direction.startsWith("left")?1:9):i(7,p=5)):(i(2,a=195),i(3,o=122),u.direction.startsWith("left")||u.direction.startsWith("right")?i(7,p=u.direction.startsWith("left")?-4:9):i(7,p=2)),u.direction.startsWith("right")?u.direction==="right"?i(5,h=o/2):u.direction==="right-1"?i(5,h=o):u.direction==="right-2"&&i(5,h=o*2):u.direction.startsWith("left")?u.direction==="left"?i(5,h=-(a+o/2)):u.direction==="left-1"?i(5,h=-(a+o)):u.direction==="left-2"&&i(5,h=-(a+o*2)):u.direction==="top"&&(i(5,h=-(a/2)),i(6,d=-o/1.3))),t.$$.dirty&2049&&i(4,n=(c==null?void 0:c.cx)==u.cx&&(c==null?void 0:c.cy)==u.cy),t.$$.dirty&17&&n&&v(u),t.$$.dirty&1&&i(9,r=u.cx-10),t.$$.dirty&1&&i(8,l=u.cy-30)},[u,f,a,o,n,h,d,p,l,r,g,c]}class di extends ye{constructor(e){super(),we(this,e,_r,vr,me,{point:0,w:1})}}function gn(t,e,i){const n=t.slice();return n[17]=e[i],n[19]=i,n}function vn(t,e,i){const n=t.slice();return n[17]=e[i],n[19]=i,n}function _n(t,e,i){const n=t.slice();return n[21]=e[i],n[19]=i,n}function mn(t,e,i){const n=t.slice();return n[21]=e[i],n[19]=i,n}function yn(t){let e,i,n,r,l,s=t[6].length>0&&wn(t),c=x(t[1]),u=[];for(let g=0;g<c.length;g+=1)u[g]=Sn(_n(t,c,g));let f=x(t[7]),a=[];for(let g=0;g<f.length;g+=1)a[g]=Cn(vn(t,f,g));const o=g=>H(a[g],1,1,()=>{a[g]=null});let h=x(t[8]),d=[];for(let g=0;g<h.length;g+=1)d[g]=bn(gn(t,h,g));const p=g=>H(d[g],1,1,()=>{d[g]=null});return{c(){e=O("svg"),s&&s.c(),i=O("g");for(let g=0;g<u.length;g+=1)u[g].c();n=O("g");for(let g=0;g<a.length;g+=1)a[g].c();r=Re();for(let g=0;g<d.length;g+=1)d[g].c();this.h()},l(g){e=B(g,"svg",{width:!0,height:!0});var v=I(e);s&&s.l(v),i=B(v,"g",{class:!0});var y=I(i);for(let w=0;w<u.length;w+=1)u[w].l(y);y.forEach(S),n=B(v,"g",{class:!0});var m=I(n);for(let w=0;w<a.length;w+=1)a[w].l(m);r=Re();for(let w=0;w<d.length;w+=1)d[w].l(m);m.forEach(S),v.forEach(S),this.h()},h(){_(i,"class","streets svelte-6cbwzm"),_(n,"class","points"),_(e,"width",t[3]),_(e,"height",t[4])},m(g,v){L(g,e,v),s&&s.m(e,null),R(e,i);for(let y=0;y<u.length;y+=1)u[y]&&u[y].m(i,null);R(e,n);for(let y=0;y<a.length;y+=1)a[y]&&a[y].m(n,null);R(n,r);for(let y=0;y<d.length;y+=1)d[y]&&d[y].m(n,null);l=!0},p(g,v){if(g[6].length>0?s?s.p(g,v):(s=wn(g),s.c(),s.m(e,i)):s&&(s.d(1),s=null),v&34){c=x(g[1]);let y;for(y=0;y<c.length;y+=1){const m=_n(g,c,y);u[y]?u[y].p(m,v):(u[y]=Sn(m),u[y].c(),u[y].m(i,null))}for(;y<u.length;y+=1)u[y].d(1);u.length=c.length}if(v&129){f=x(g[7]);let y;for(y=0;y<f.length;y+=1){const m=vn(g,f,y);a[y]?(a[y].p(m,v),q(a[y],1)):(a[y]=Cn(m),a[y].c(),q(a[y],1),a[y].m(n,r))}for(Me(),y=f.length;y<a.length;y+=1)o(y);Ie()}if(v&257){h=x(g[8]);let y;for(y=0;y<h.length;y+=1){const m=gn(g,h,y);d[y]?(d[y].p(m,v),q(d[y],1)):(d[y]=bn(m),d[y].c(),q(d[y],1),d[y].m(n,null))}for(Me(),y=h.length;y<d.length;y+=1)p(y);Ie()}(!l||v&8)&&_(e,"width",g[3]),(!l||v&16)&&_(e,"height",g[4])},i(g){if(!l){for(let v=0;v<f.length;v+=1)q(a[v]);for(let v=0;v<h.length;v+=1)q(d[v]);l=!0}},o(g){a=a.filter(Boolean);for(let v=0;v<a.length;v+=1)H(a[v]);d=d.filter(Boolean);for(let v=0;v<d.length;v+=1)H(d[v]);l=!1},d(g){g&&S(e),s&&s.d(),Ce(u,g),Ce(a,g),Ce(d,g)}}}function wn(t){let e,i=x(t[6]),n=[];for(let r=0;r<i.length;r+=1)n[r]=En(mn(t,i,r));return{c(){e=O("g");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=B(r,"g",{class:!0});var l=I(e);for(let s=0;s<n.length;s+=1)n[s].l(l);l.forEach(S),this.h()},h(){_(e,"class","boundary svelte-6cbwzm")},m(r,l){L(r,e,l);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(e,null)},p(r,l){if(l&96){i=x(r[6]);let s;for(s=0;s<i.length;s+=1){const c=mn(r,i,s);n[s]?n[s].p(c,l):(n[s]=En(c),n[s].c(),n[s].m(e,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=i.length}},d(r){r&&S(e),Ce(n,r)}}}function En(t){let e,i;return{c(){e=O("path"),this.h()},l(n){e=B(n,"path",{d:!0,class:!0}),I(e).forEach(S),this.h()},h(){_(e,"d",i=t[5](t[21])),_(e,"class","boundary svelte-6cbwzm")},m(n,r){L(n,e,r)},p(n,r){r&96&&i!==(i=n[5](n[21]))&&_(e,"d",i)},d(n){n&&S(e)}}}function Sn(t){let e,i;return{c(){e=O("path"),this.h()},l(n){e=B(n,"path",{d:!0,class:!0}),I(e).forEach(S),this.h()},h(){_(e,"d",i=t[5](t[21])),_(e,"class","street")},m(n,r){L(n,e,r)},p(n,r){r&34&&i!==(i=n[5](n[21]))&&_(e,"d",i)},d(n){n&&S(e)}}}function kn(t){let e,i;return e=new di({props:{point:t[17],w:t[0]}}),{c(){pe(e.$$.fragment)},l(n){de(e.$$.fragment,n)},m(n,r){ge(e,n,r),i=!0},p(n,r){const l={};r&128&&(l.point=n[17]),r&1&&(l.w=n[0]),e.$set(l)},i(n){i||(q(e.$$.fragment,n),i=!0)},o(n){H(e.$$.fragment,n),i=!1},d(n){ve(e,n)}}}function Cn(t){let e,i,n=t[17].cx&&t[17].cy&&kn(t);return{c(){n&&n.c(),e=Re()},l(r){n&&n.l(r),e=Re()},m(r,l){n&&n.m(r,l),L(r,e,l),i=!0},p(r,l){r[17].cx&&r[17].cy?n?(n.p(r,l),l&128&&q(n,1)):(n=kn(r),n.c(),q(n,1),n.m(e.parentNode,e)):n&&(Me(),H(n,1,1,()=>{n=null}),Ie())},i(r){i||(q(n),i=!0)},o(r){H(n),i=!1},d(r){r&&S(e),n&&n.d(r)}}}function Dn(t){let e,i;return e=new di({props:{point:t[17],w:t[0]}}),{c(){pe(e.$$.fragment)},l(n){de(e.$$.fragment,n)},m(n,r){ge(e,n,r),i=!0},p(n,r){const l={};r&256&&(l.point=n[17]),r&1&&(l.w=n[0]),e.$set(l)},i(n){i||(q(e.$$.fragment,n),i=!0)},o(n){H(e.$$.fragment,n),i=!1},d(n){ve(e,n)}}}function bn(t){let e,i,n=t[17].cx&&t[17].cy&&Dn(t);return{c(){n&&n.c(),e=Re()},l(r){n&&n.l(r),e=Re()},m(r,l){n&&n.m(r,l),L(r,e,l),i=!0},p(r,l){r[17].cx&&r[17].cy?n?(n.p(r,l),l&256&&q(n,1)):(n=Dn(r),n.c(),q(n,1),n.m(e.parentNode,e)):n&&(Me(),H(n,1,1,()=>{n=null}),Ie())},i(r){i||(q(n),i=!0)},o(r){H(n),i=!1},d(r){r&&S(e),n&&n.d(r)}}}function mr(t){let e,i,n,r=t[1].length>0&&yn(t);return{c(){e=P("article"),r&&r.c(),this.h()},l(l){e=T(l,"ARTICLE",{class:!0});var s=I(e);r&&r.l(s),s.forEach(S),this.h()},h(){_(e,"class","map svelte-6cbwzm"),_i(()=>t[13].call(e))},m(l,s){L(l,e,s),r&&r.m(e,null),t[12](e),i=mi(e,t[13].bind(e)),n=!0},p(l,[s]){l[1].length>0?r?(r.p(l,s),s&2&&q(r,1)):(r=yn(l),r.c(),q(r,1),r.m(e,null)):r&&(Me(),H(r,1,1,()=>{r=null}),Ie())},i(l){n||(q(r),n=!0)},o(l){H(r),n=!1},d(l){l&&S(e),r&&r.d(),t[12](null),i()}}}function yr(t,e,i){let n,r,l;st(t,_t,w=>i(11,l=w));let{data:s}=e,c,u,f=0,a=0,o,h,d=[],p=[],g=[];function v(w){o=pi().rotate([-48,48]).scale(1).translate([0,0]);const E=vt().projection(o).bounds({type:"FeatureCollection",features:d}),M=E[1][0]-E[0][0],D=E[1][1]-E[0][1],b=(E[0][0]+E[1][0])/2;E[0][1]+E[1][1];const j=[100,10,20],V=(w-j[0])/M,N=[w/2-V*b,(-V-j[1])*E[0][1]+E[1][1]];o=o.scale(V).translate(N),i(5,h=vt().projection(o)),i(3,f=w),i(4,a=V*D+j[2]),yi(_t,l=g.map(X=>{const[W,U]=o([X.lon,X.lat]);return{...X,cx:W,cy:U}}),l)}function y(w){Ot[w?"unshift":"push"](()=>{c=w,i(2,c)})}function m(){u=this.clientWidth,i(0,u)}return t.$$set=w=>{"data"in w&&i(9,s=w.data)},t.$$.update=()=>{t.$$.dirty&2&&d.length===0&&(fetch("boundary.json").then(w=>w.json()).then(w=>{i(6,p=St(w,w.objects.boundary).features)}),fetch("streets.json").then(w=>w.json()).then(w=>{i(1,d=St(w,w.objects.streets).features)}),fetch("buildings2.json").then(w=>w.json()).then(w=>{St(w,w.objects.test1).features})),t.$$.dirty&512&&i(10,g=s.map(w=>({...w,direction:w.Direction?w.Direction:Math.random()>.5?"left":"right",date:w["Date of incident"]}))),t.$$.dirty&3&&u&&d.length>0&&v(u),t.$$.dirty&1025&&g&&v(u),t.$$.dirty&2048&&i(8,n=l?l.filter(w=>w["Reference Code"]):[]),t.$$.dirty&2048&&i(7,r=l?l.filter(w=>!w["Reference Code"]):[])},[u,d,c,f,a,h,p,r,n,s,g,l,y,m]}let wr=class extends ye{constructor(e){super(),we(this,e,yr,mr,me,{data:9})}};function Rn(t){let e,i,n="Date Posted",r,l,s=t[0]["Post date"]+"",c;return{c(){e=P("div"),i=P("h3"),i.textContent=n,r=Q(),l=P("p"),c=te(s),this.h()},l(u){e=T(u,"DIV",{class:!0});var f=I(e);i=T(f,"H3",{class:!0,"data-svelte-h":!0}),De(i)!=="svelte-gk40gb"&&(i.textContent=n),r=$(f),l=T(f,"P",{class:!0});var a=I(l);c=ne(a,s),a.forEach(S),f.forEach(S),this.h()},h(){_(i,"class","svelte-4qopg4"),_(l,"class","svelte-4qopg4"),_(e,"class","svelte-4qopg4")},m(u,f){L(u,e,f),R(e,i),R(e,r),R(e,l),R(l,c)},p(u,f){f&1&&s!==(s=u[0]["Post date"]+"")&&_e(c,s)},d(u){u&&S(e)}}}function Mn(t){let e,i,n="Location",r,l,s=t[0].Location+"",c;return{c(){e=P("div"),i=P("h3"),i.textContent=n,r=Q(),l=P("p"),c=te(s),this.h()},l(u){e=T(u,"DIV",{class:!0});var f=I(e);i=T(f,"H3",{class:!0,"data-svelte-h":!0}),De(i)!=="svelte-15gguv3"&&(i.textContent=n),r=$(f),l=T(f,"P",{class:!0});var a=I(l);c=ne(a,s),a.forEach(S),f.forEach(S),this.h()},h(){_(i,"class","svelte-4qopg4"),_(l,"class","svelte-4qopg4"),_(e,"class","svelte-4qopg4")},m(u,f){L(u,e,f),R(e,i),R(e,r),R(e,l),R(l,c)},p(u,f){f&1&&s!==(s=u[0].Location+"")&&_e(c,s)},d(u){u&&S(e)}}}function In(t){let e,i,n="Civilians Reported Killed",r,l,s=t[0]["Civilians reported killed"]+"",c;return{c(){e=P("div"),i=P("h3"),i.textContent=n,r=Q(),l=P("p"),c=te(s),this.h()},l(u){e=T(u,"DIV",{class:!0});var f=I(e);i=T(f,"H3",{class:!0,"data-svelte-h":!0}),De(i)!=="svelte-lcsnd8"&&(i.textContent=n),r=$(f),l=T(f,"P",{class:!0});var a=I(l);c=ne(a,s),a.forEach(S),f.forEach(S),this.h()},h(){_(i,"class","svelte-4qopg4"),_(l,"class","svelte-4qopg4"),_(e,"class","svelte-4qopg4")},m(u,f){L(u,e,f),R(e,i),R(e,r),R(e,l),R(l,c)},p(u,f){f&1&&s!==(s=u[0]["Civilians reported killed"]+"")&&_e(c,s)},d(u){u&&S(e)}}}function Pn(t){let e,i,n="Source",r,l,s,c;return{c(){e=P("div"),i=P("h3"),i.textContent=n,r=Q(),l=P("a"),s=te("View Footage"),this.h()},l(u){e=T(u,"DIV",{class:!0});var f=I(e);i=T(f,"H3",{class:!0,"data-svelte-h":!0}),De(i)!=="svelte-x8n8kl"&&(i.textContent=n),r=$(f),l=T(f,"A",{href:!0,target:!0,class:!0});var a=I(l);s=ne(a,"View Footage"),a.forEach(S),f.forEach(S),this.h()},h(){_(i,"class","svelte-4qopg4"),_(l,"href",c=t[0]["Footage link"]),_(l,"target","_blank"),_(l,"class","svelte-4qopg4"),_(e,"class","svelte-4qopg4")},m(u,f){L(u,e,f),R(e,i),R(e,r),R(e,l),R(l,s)},p(u,f){f&1&&c!==(c=u[0]["Footage link"])&&_(l,"href",c)},d(u){u&&S(e)}}}function Er(t){let e,i,n="Ã—",r,l,s=(t[0].Title||"No Title")+"",c,u,f,a,o,h,d,p=t[0]["Post date"]&&Rn(t),g=t[0].Location&&Mn(t),v=t[0]["Civilians reported killed"]&&In(t),y=t[0]["Footage link"]&&Pn(t);return{c(){e=P("div"),i=P("div"),i.textContent=n,r=Q(),l=P("h1"),c=te(s),u=Q(),p&&p.c(),f=Q(),g&&g.c(),a=Q(),v&&v.c(),o=Q(),y&&y.c(),this.h()},l(m){e=T(m,"DIV",{class:!0});var w=I(e);i=T(w,"DIV",{class:!0,"data-svelte-h":!0}),De(i)!=="svelte-1fkty7"&&(i.textContent=n),r=$(w),l=T(w,"H1",{class:!0});var C=I(l);c=ne(C,s),C.forEach(S),u=$(w),p&&p.l(w),f=$(w),g&&g.l(w),a=$(w),v&&v.l(w),o=$(w),y&&y.l(w),w.forEach(S),this.h()},h(){_(i,"class","close svelte-4qopg4"),_(l,"class","svelte-4qopg4"),_(e,"class","detail-panel svelte-4qopg4")},m(m,w){L(m,e,w),R(e,i),R(e,r),R(e,l),R(l,c),R(e,u),p&&p.m(e,null),R(e,f),g&&g.m(e,null),R(e,a),v&&v.m(e,null),R(e,o),y&&y.m(e,null),h||(d=$e(i,"click",t[1]),h=!0)},p(m,[w]){w&1&&s!==(s=(m[0].Title||"No Title")+"")&&_e(c,s),m[0]["Post date"]?p?p.p(m,w):(p=Rn(m),p.c(),p.m(e,f)):p&&(p.d(1),p=null),m[0].Location?g?g.p(m,w):(g=Mn(m),g.c(),g.m(e,a)):g&&(g.d(1),g=null),m[0]["Civilians reported killed"]?v?v.p(m,w):(v=In(m),v.c(),v.m(e,o)):v&&(v.d(1),v=null),m[0]["Footage link"]?y?y.p(m,w):(y=Pn(m),y.c(),y.m(e,null)):y&&(y.d(1),y=null)},i:le,o:le,d(m){m&&S(e),p&&p.d(),g&&g.d(),v&&v.d(),y&&y.d(),h=!1,d()}}}function Sr(t,e,i){let n=null;const r=()=>Te.set(null);return t.$$.update=()=>{t.$$.dirty&1&&Te.subscribe(l=>{i(0,n=l)})},[n,r]}class kr extends ye{constructor(e){super(),we(this,e,Sr,Er,me,{})}}function Tn(t,e,i){const n=t.slice();return n[11]=e[i],n[13]=i,n}function Nn(t){let e,i,n;return i=new kr({}),{c(){e=P("div"),pe(i.$$.fragment),this.h()},l(r){e=T(r,"DIV",{class:!0});var l=I(e);de(i.$$.fragment,l),l.forEach(S),this.h()},h(){_(e,"class","svelte-17ubg0v")},m(r,l){L(r,e,l),ge(i,e,null),t[8](e),n=!0},p:le,i(r){n||(q(i.$$.fragment,r),n=!0)},o(r){H(i.$$.fragment,r),n=!1},d(r){r&&S(e),ve(i),t[8](null)}}}function Ln(t){let e,i,n=(t[11].Title||t[11]["Reference Code"])+"",r,l,s,c;function u(){return t[9](t[11])}return{c(){e=P("div"),i=P("p"),r=te(n),l=Q(),this.h()},l(f){e=T(f,"DIV",{class:!0});var a=I(e);i=T(a,"P",{class:!0});var o=I(i);r=ne(o,n),o.forEach(S),l=$(a),a.forEach(S),this.h()},h(){_(i,"class","svelte-17ubg0v"),_(e,"class","svelte-17ubg0v"),bt(e,"gray-background",t[13]%2===1)},m(f,a){L(f,e,a),R(e,i),R(i,r),R(e,l),s||(c=$e(e,"click",u),s=!0)},p(f,a){t=f,a&8&&n!==(n=(t[11].Title||t[11]["Reference Code"])+"")&&_e(r,n)},d(f){f&&S(e),s=!1,c()}}}function Cr(t){let e,i,n,r,l,s,c,u,f=t[1]&&Nn(t),a=x(t[3]),o=[];for(let h=0;h<a.length;h+=1)o[h]=Ln(Tn(t,a,h));return{c(){e=P("input"),i=Q(),n=P("section"),f&&f.c(),r=Q(),l=P("div");for(let h=0;h<o.length;h+=1)o[h].c();this.h()},l(h){e=T(h,"INPUT",{type:!0,placeholder:!0,class:!0}),i=$(h),n=T(h,"SECTION",{class:!0});var d=I(n);f&&f.l(d),r=$(d),l=T(d,"DIV",{class:!0});var p=I(l);for(let g=0;g<o.length;g+=1)o[g].l(p);p.forEach(S),d.forEach(S),this.h()},h(){_(e,"type","text"),_(e,"placeholder","Search..."),_(e,"class","search-input svelte-17ubg0v"),_(l,"class","list-container svelte-17ubg0v"),_(n,"class","svelte-17ubg0v")},m(h,d){L(h,e,d),Zt(e,t[0]),L(h,i,d),L(h,n,d),f&&f.m(n,null),R(n,r),R(n,l);for(let p=0;p<o.length;p+=1)o[p]&&o[p].m(l,null);s=!0,c||(u=$e(e,"input",t[7]),c=!0)},p(h,[d]){if(d&1&&e.value!==h[0]&&Zt(e,h[0]),h[1]?f?(f.p(h,d),d&2&&q(f,1)):(f=Nn(h),f.c(),q(f,1),f.m(n,r)):f&&(Me(),H(f,1,1,()=>{f=null}),Ie()),d&24){a=x(h[3]);let p;for(p=0;p<a.length;p+=1){const g=Tn(h,a,p);o[p]?o[p].p(g,d):(o[p]=Ln(g),o[p].c(),o[p].m(l,null))}for(;p<o.length;p+=1)o[p].d(1);o.length=a.length}},i(h){s||(q(f),s=!0)},o(h){H(f),s=!1},d(h){h&&(S(e),S(i),S(n)),f&&f.d(),Ce(o,h),c=!1,u()}}}function Dr(t,e,i){let n,r;st(t,_t,p=>i(6,r=p));let l=null,s=!1,c,u="";Zn(()=>{document.addEventListener("click",f,!0)});function f(p){s&&c&&!c.contains(p.target)&&Te.set(null)}function a(p){Te.set(p)}function o(){u=this.value,i(0,u)}function h(p){Ot[p?"unshift":"push"](()=>{c=p,i(2,c)})}const d=p=>a(p);return t.$$.update=()=>{t.$$.dirty&32&&Te.subscribe(p=>{i(5,l=p),i(1,s=!!l)}),t.$$.dirty&65&&i(3,n=r.filter(p=>(p.Title||p["Reference Code"]).toLowerCase().includes(u.toLowerCase())))},[u,s,c,n,a,l,r,o,h,d]}class br extends ye{constructor(e){super(),we(this,e,Dr,Cr,me,{})}}function jn(t,e,i){const n=t.slice();return n[18]=e[i],n[20]=i,n}function An(t,e,i){const n=t.slice();return n[21]=e[i],n[20]=i,n}function Vn(t,e,i){const n=t.slice();return n[21]=e[i],n[20]=i,n}function zn(t){let e,i,n,r,l,s,c,u,f,a=x(t[2]),o=[];for(let v=0;v<a.length;v+=1)o[v]=Un(Vn(t,a,v));let h=x(t[6]),d=[];for(let v=0;v<h.length;v+=1)d[v]=qn(An(t,h,v));let p=x(t[3]),g=[];for(let v=0;v<p.length;v+=1)g[v]=Hn(jn(t,p,v));return{c(){e=O("svg"),i=O("g");for(let v=0;v<o.length;v+=1)o[v].c();n=O("g");for(let v=0;v<d.length;v+=1)d[v].c();r=O("g");for(let v=0;v<g.length;v+=1)g[v].c();l=O("rect"),this.h()},l(v){e=B(v,"svg",{width:!0,height:!0});var y=I(e);i=B(y,"g",{class:!0});var m=I(i);for(let E=0;E<o.length;E+=1)o[E].l(m);m.forEach(S),n=B(y,"g",{class:!0});var w=I(n);for(let E=0;E<d.length;E+=1)d[E].l(w);w.forEach(S),r=B(y,"g",{class:!0});var C=I(r);for(let E=0;E<g.length;E+=1)g[E].l(C);C.forEach(S),l=B(y,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0,class:!0}),I(l).forEach(S),y.forEach(S),this.h()},h(){_(i,"class","boundary svelte-yqj0zc"),_(n,"class","streets svelte-yqj0zc"),_(r,"class","legend-points svelte-yqj0zc"),_(l,"x",s=t[7].x),_(l,"y",c=t[7].y),_(l,"width",u=t[7].width),_(l,"height",f=t[7].height),_(l,"fill","var(--primary-color)"),_(l,"stroke","red"),_(l,"stroke-width","0.5"),_(l,"class","svelte-yqj0zc"),_(e,"width",t[0]),_(e,"height",t[1])},m(v,y){L(v,e,y),R(e,i);for(let m=0;m<o.length;m+=1)o[m]&&o[m].m(i,null);R(e,n);for(let m=0;m<d.length;m+=1)d[m]&&d[m].m(n,null);R(e,r);for(let m=0;m<g.length;m+=1)g[m]&&g[m].m(r,null);R(e,l)},p(v,y){if(y&36){a=x(v[2]);let m;for(m=0;m<a.length;m+=1){const w=Vn(v,a,m);o[m]?o[m].p(w,y):(o[m]=Un(w),o[m].c(),o[m].m(i,null))}for(;m<o.length;m+=1)o[m].d(1);o.length=a.length}if(y&96){h=x(v[6]);let m;for(m=0;m<h.length;m+=1){const w=An(v,h,m);d[m]?d[m].p(w,y):(d[m]=qn(w),d[m].c(),d[m].m(n,null))}for(;m<d.length;m+=1)d[m].d(1);d.length=h.length}if(y&8){p=x(v[3]);let m;for(m=0;m<p.length;m+=1){const w=jn(v,p,m);g[m]?g[m].p(w,y):(g[m]=Hn(w),g[m].c(),g[m].m(r,null))}for(;m<g.length;m+=1)g[m].d(1);g.length=p.length}y&128&&s!==(s=v[7].x)&&_(l,"x",s),y&128&&c!==(c=v[7].y)&&_(l,"y",c),y&128&&u!==(u=v[7].width)&&_(l,"width",u),y&128&&f!==(f=v[7].height)&&_(l,"height",f),y&1&&_(e,"width",v[0]),y&2&&_(e,"height",v[1])},d(v){v&&S(e),Ce(o,v),Ce(d,v),Ce(g,v)}}}function Un(t){let e,i;return{c(){e=O("path"),this.h()},l(n){e=B(n,"path",{d:!0,class:!0}),I(e).forEach(S),this.h()},h(){_(e,"d",i=t[5](t[21])),_(e,"class","boundary svelte-yqj0zc")},m(n,r){L(n,e,r)},p(n,r){r&36&&i!==(i=n[5](n[21]))&&_(e,"d",i)},d(n){n&&S(e)}}}function qn(t){let e,i;return{c(){e=O("path"),this.h()},l(n){e=B(n,"path",{d:!0,class:!0}),I(e).forEach(S),this.h()},h(){_(e,"d",i=t[5](t[21])),_(e,"class","street")},m(n,r){L(n,e,r)},p(n,r){r&96&&i!==(i=n[5](n[21]))&&_(e,"d",i)},d(n){n&&S(e)}}}function Wn(t){let e,i,n;return{c(){e=O("circle"),this.h()},l(r){e=B(r,"circle",{cx:!0,cy:!0,r:!0,class:!0}),I(e).forEach(S),this.h()},h(){_(e,"cx",i=t[18].cx),_(e,"cy",n=t[18].cy),_(e,"r",1),_(e,"class","svelte-yqj0zc")},m(r,l){L(r,e,l)},p(r,l){l&8&&i!==(i=r[18].cx)&&_(e,"cx",i),l&8&&n!==(n=r[18].cy)&&_(e,"cy",n)},d(r){r&&S(e)}}}function Hn(t){let e,i=t[18].cx&&t[18].cy&&Wn(t);return{c(){i&&i.c(),e=Re()},l(n){i&&i.l(n),e=Re()},m(n,r){i&&i.m(n,r),L(n,e,r)},p(n,r){n[18].cx&&n[18].cy?i?i.p(n,r):(i=Wn(n),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null)},d(n){n&&S(e),i&&i.d(n)}}}function Rr(t){let e,i=t[2].length>0&&zn(t);return{c(){e=P("article"),i&&i.c(),this.h()},l(n){e=T(n,"ARTICLE",{class:!0});var r=I(e);i&&i.l(r),r.forEach(S),this.h()},h(){_(e,"class","map")},m(n,r){L(n,e,r),i&&i.m(e,null),t[13](e)},p(n,[r]){n[2].length>0?i?i.p(n,r):(i=zn(n),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},i:le,o:le,d(n){n&&S(e),i&&i.d(),t[13](null)}}}function Mr(t,e,i){let{data:n}=e,{windowWidth:r}=e,{scrollPercentage:l}=e,{containerHeight:s}=e,{viewportHeight:c}=e,u,f=r>800?100:50,a=r>800?300:150,o=0,h=0,d,p,g=[],v=[],y=[],m={};function w(E,M){d=pi().rotate([-48,48]).scale(1).translate([0,0]);const b=vt().projection(d).bounds({type:"FeatureCollection",features:g}),j=b[1][0]-b[0][0],V=b[1][1]-b[0][1],N=(b[0][0]+b[1][0])/2,X=(b[0][1]+b[1][1])/2,W=[10,10],U=Math.min((E-W[0])/j,(M-W[1])/V),k=[E/2-U*N,M/2-U*X];d=d.scale(U).translate(k),i(5,p=vt().projection(d)),i(3,v=v.map(A=>{const[K,ee]=d([A.lon,A.lat]);return{...A,cx:K,cy:ee}})),i(0,o=E),i(1,h=M)}function C(E){Ot[E?"unshift":"push"](()=>{u=E,i(4,u)})}return t.$$set=E=>{"data"in E&&i(8,n=E.data),"windowWidth"in E&&i(9,r=E.windowWidth),"scrollPercentage"in E&&i(10,l=E.scrollPercentage),"containerHeight"in E&&i(11,s=E.containerHeight),"viewportHeight"in E&&i(12,c=E.viewportHeight)},t.$$.update=()=>{if(t.$$.dirty&4&&g.length==0&&(fetch("boundary.geojson").then(E=>E.json()).then(E=>{i(2,g=E.features)}),fetch("streets.geojson").then(E=>E.json()).then(E=>{i(6,y=E.features)})),t.$$.dirty&256&&i(3,v=n.map(E=>({...E,direction:E.Direction?E.Direction:Math.random()>.5?"left":"right",date:E["Date of incident"]}))),t.$$.dirty&8&&v&&w(f,a),t.$$.dirty&4&&f&&g.length>0&&w(f,a),t.$$.dirty&7171&&h&&s){const E=h/s,M=c*E;i(7,m={x:0,y:(h-M)*(l/100),width:o,height:M})}},[o,h,g,v,u,p,y,m,n,r,l,s,c,C]}class Ir extends ye{constructor(e){super(),we(this,e,Mr,Rr,me,{data:8,windowWidth:9,scrollPercentage:10,containerHeight:11,viewportHeight:12})}}var Fn={},kt={},Ct=34,He=10,Dt=13;function gi(t){return new Function("d","return {"+t.map(function(e,i){return JSON.stringify(e)+": d["+i+'] || ""'}).join(",")+"}")}function Pr(t,e){var i=gi(t);return function(n,r){return e(i(n),r,t)}}function On(t){var e=Object.create(null),i=[];return t.forEach(function(n){for(var r in n)r in e||i.push(e[r]=r)}),i}function ie(t,e){var i=t+"",n=i.length;return n<e?new Array(e-n+1).join(0)+i:i}function Tr(t){return t<0?"-"+ie(-t,6):t>9999?"+"+ie(t,6):ie(t,4)}function Nr(t){var e=t.getUTCHours(),i=t.getUTCMinutes(),n=t.getUTCSeconds(),r=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":Tr(t.getUTCFullYear())+"-"+ie(t.getUTCMonth()+1,2)+"-"+ie(t.getUTCDate(),2)+(r?"T"+ie(e,2)+":"+ie(i,2)+":"+ie(n,2)+"."+ie(r,3)+"Z":n?"T"+ie(e,2)+":"+ie(i,2)+":"+ie(n,2)+"Z":i||e?"T"+ie(e,2)+":"+ie(i,2)+"Z":"")}function Lr(t){var e=new RegExp('["'+t+`
\r]`),i=t.charCodeAt(0);function n(o,h){var d,p,g=r(o,function(v,y){if(d)return d(v,y-1);p=v,d=h?Pr(v,h):gi(v)});return g.columns=p||[],g}function r(o,h){var d=[],p=o.length,g=0,v=0,y,m=p<=0,w=!1;o.charCodeAt(p-1)===He&&--p,o.charCodeAt(p-1)===Dt&&--p;function C(){if(m)return kt;if(w)return w=!1,Fn;var M,D=g,b;if(o.charCodeAt(D)===Ct){for(;g++<p&&o.charCodeAt(g)!==Ct||o.charCodeAt(++g)===Ct;);return(M=g)>=p?m=!0:(b=o.charCodeAt(g++))===He?w=!0:b===Dt&&(w=!0,o.charCodeAt(g)===He&&++g),o.slice(D+1,M-1).replace(/""/g,'"')}for(;g<p;){if((b=o.charCodeAt(M=g++))===He)w=!0;else if(b===Dt)w=!0,o.charCodeAt(g)===He&&++g;else if(b!==i)continue;return o.slice(D,M)}return m=!0,o.slice(D,p)}for(;(y=C())!==kt;){for(var E=[];y!==Fn&&y!==kt;)E.push(y),y=C();h&&(E=h(E,v++))==null||d.push(E)}return d}function l(o,h){return o.map(function(d){return h.map(function(p){return a(d[p])}).join(t)})}function s(o,h){return h==null&&(h=On(o)),[h.map(a).join(t)].concat(l(o,h)).join(`
`)}function c(o,h){return h==null&&(h=On(o)),l(o,h).join(`
`)}function u(o){return o.map(f).join(`
`)}function f(o){return o.map(a).join(t)}function a(o){return o==null?"":o instanceof Date?Nr(o):e.test(o+="")?'"'+o.replace(/"/g,'""')+'"':o}return{parse:n,parseRows:r,format:s,formatBody:c,formatRows:u,formatRow:f,formatValue:a}}var jr=Lr(","),Ar=jr.parse;function Vr(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function zr(t,e){return fetch(t,e).then(Vr)}function Ur(t){return function(e,i,n){return arguments.length===2&&typeof i=="function"&&(n=i,i=void 0),zr(e,i).then(function(r){return t(r,n)})}}var qr=Ur(Ar);function Ze(t,e,i){this.k=t,this.x=e,this.y=i}Ze.prototype={constructor:Ze,scale:function(t){return t===1?this:new Ze(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ze(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Ze.prototype;const Ft=t=>new Date(t),vi=t=>{const e=t.map(r=>Ft(r["Post Date"])).filter(r=>r instanceof Date&&!isNaN(r)),i=new Date(Math.min(...e.map(r=>r.getTime()))),n=new Date(Math.max(...e.map(r=>r.getTime())));return{min:i,max:n}};function Wr(t){let e,i="Loading date range...";return{c(){e=P("p"),e.textContent=i,this.h()},l(n){e=T(n,"P",{class:!0,"data-svelte-h":!0}),De(e)!=="svelte-1ibifh0"&&(e.textContent=i),this.h()},h(){_(e,"class","tiny svelte-1vv8vsv")},m(n,r){L(n,e,r)},p:le,d(n){n&&S(e)}}}function Hr(t){let e,i="Geolocated Israeli military strike footage in Gaza",n,r,l=t[0].min.toLocaleDateString("en-US",{month:"short",day:"numeric"})+"",s,c,u=t[0].max.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})+"",f;return{c(){e=P("p"),e.textContent=i,n=Q(),r=P("p"),s=te(l),c=te(` â€“
            `),f=te(u),this.h()},l(a){e=T(a,"P",{class:!0,"data-svelte-h":!0}),De(e)!=="svelte-1d8yc0y"&&(e.textContent=i),n=$(a),r=T(a,"P",{class:!0});var o=I(r);s=ne(o,l),c=ne(o,` â€“
            `),f=ne(o,u),o.forEach(S),this.h()},h(){_(e,"class","svelte-1vv8vsv"),_(r,"class","tiny svelte-1vv8vsv")},m(a,o){L(a,e,o),L(a,n,o),L(a,r,o),R(r,s),R(r,c),R(r,f)},p(a,o){o&1&&l!==(l=a[0].min.toLocaleDateString("en-US",{month:"short",day:"numeric"})+"")&&_e(s,l),o&1&&u!==(u=a[0].max.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})+"")&&_e(f,u)},d(a){a&&(S(e),S(n),S(r))}}}function Fr(t){let e;function i(l,s){return l[0].min&&l[0].max?Hr:Wr}let n=i(t),r=n(t);return{c(){e=P("div"),r.c()},l(l){e=T(l,"DIV",{});var s=I(e);r.l(s),s.forEach(S)},m(l,s){L(l,e,s),r.m(e,null)},p(l,[s]){n===(n=i(l))&&r?r.p(l,s):(r.d(1),r=n(l),r&&(r.c(),r.m(e,null)))},i:le,o:le,d(l){l&&S(e),r.d()}}}function Or(t,e,i){let{data:n=[]}=e,r={min:null,max:null};return t.$$set=l=>{"data"in l&&i(1,n=l.data)},t.$$.update=()=>{t.$$.dirty&2&&n.length&&i(0,r=vi(n))},[r,n]}class Br extends ye{constructor(e){super(),we(this,e,Or,Fr,me,{data:1})}}function Gr(t){var y;let e,i,n,r,l,s=((y=t[0])==null?void 0:y.length)+"",c,u,f,a=(t[1]?t[4](new Date(t[1])):t[4](new Date(t[3])))+"",o,h,d,p,g='<svg class="marker svelte-1ys8802" width=".8rem" height=".8rem" viewBox="0 0 20 29" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M20 0H0V15.6522L10 28.2609L20 15.6522V0ZM10 15.8967C13.1216 15.8967 15.6522 13.3266 15.6522 10.1562C15.6522 6.98586 13.1216 4.41576 10 4.41576C6.87839 4.41576 4.34783 6.98586 4.34783 10.1562C4.34783 13.3266 6.87839 15.8967 10 15.8967Z" fill="white" class="svelte-1ys8802"></path></svg> <p class="explore svelte-1ys8802">Strike footage matched with civilian harm allegation</p> <svg class="marker svelte-1ys8802" width=".8rem" height=".8rem" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><ellipse cx="10" cy="10" rx="4" ry="4" fill="white" class="svelte-1ys8802"></ellipse></svg> <p class="svelte-1ys8802">Geolocated Israeli military strike footage</p>',v;return n=new Br({props:{data:t[2]}}),{c(){e=P("div"),i=P("div"),pe(n.$$.fragment),r=Q(),l=P("div"),c=te(s),u=te(` items found from
        `),f=P("strong"),o=te(a),h=te(" onwards"),d=Q(),p=P("div"),p.innerHTML=g,this.h()},l(m){e=T(m,"DIV",{class:!0});var w=I(e);i=T(w,"DIV",{class:!0});var C=I(i);de(n.$$.fragment,C),C.forEach(S),r=$(w),l=T(w,"DIV",{class:!0});var E=I(l);c=ne(E,s),u=ne(E,` items found from
        `),f=T(E,"STRONG",{});var M=I(f);o=ne(M,a),M.forEach(S),h=ne(E," onwards"),E.forEach(S),d=$(w),p=T(w,"DIV",{class:!0,"data-svelte-h":!0}),De(p)!=="svelte-atfr35"&&(p.innerHTML=g),w.forEach(S),this.h()},h(){_(i,"class","svelte-1ys8802"),_(l,"class","centre-heading svelte-1ys8802"),_(p,"class","legend svelte-1ys8802"),_(e,"class","results svelte-1ys8802")},m(m,w){L(m,e,w),R(e,i),ge(n,i,null),R(e,r),R(e,l),R(l,c),R(l,u),R(l,f),R(f,o),R(l,h),R(e,d),R(e,p),v=!0},p(m,[w]){var E;const C={};w&4&&(C.data=m[2]),n.$set(C),(!v||w&1)&&s!==(s=((E=m[0])==null?void 0:E.length)+"")&&_e(c,s),(!v||w&10)&&a!==(a=(m[1]?m[4](new Date(m[1])):m[4](new Date(m[3])))+"")&&_e(o,a)},i(m){v||(q(n.$$.fragment,m),v=!0)},o(m){H(n.$$.fragment,m),v=!1},d(m){m&&S(e),ve(n)}}}function Yr(t,e,i){let{filteredData:n}=e,{selectedDate:r}=e,{data:l}=e,{minDate:s}=e;const c=u=>u.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return t.$$set=u=>{"filteredData"in u&&i(0,n=u.filteredData),"selectedDate"in u&&i(1,r=u.selectedDate),"data"in u&&i(2,l=u.data),"minDate"in u&&i(3,s=u.minDate)},[n,r,l,s,c]}class Zr extends ye{constructor(e){super(),we(this,e,Yr,Gr,me,{filteredData:0,selectedDate:1,data:2,minDate:3})}}function Bn(t,e,i){const n=t.slice();return n[11]=e[i],n[13]=i,n}function Gn(t){let e,i,n=t[3][t[13]]+"",r,l,s,c,u;function f(){return t[9](t[11])}return{c(){e=P("div"),i=P("div"),r=te(n),l=Q(),this.h()},l(a){e=T(a,"DIV",{class:!0,style:!0,title:!0});var o=I(e);i=T(o,"DIV",{class:!0});var h=I(i);r=ne(h,n),h.forEach(S),l=$(o),o.forEach(S),this.h()},h(){_(i,"class","count svelte-yofwpe"),_(e,"class","bar svelte-yofwpe"),tt(e,"height",t[3][t[13]]*2+"px"),tt(e,"background-color",t[5]===t[11]?"black":"var(--primary-color)"),_(e,"title",s=t[11]+": "+t[3][t[13]]+" incidents")},m(a,o){L(a,e,o),R(e,i),R(i,r),R(e,l),c||(u=$e(e,"click",f),c=!0)},p(a,o){t=a,o&8&&n!==(n=t[3][t[13]]+"")&&_e(r,n),o&8&&tt(e,"height",t[3][t[13]]*2+"px"),o&36&&tt(e,"background-color",t[5]===t[11]?"black":"var(--primary-color)"),o&12&&s!==(s=t[11]+": "+t[3][t[13]]+" incidents")&&_(e,"title",s)},d(a){a&&S(e),c=!1,u()}}}function Xr(t){let e,i,n,r,l;i=new Zr({props:{filteredData:t[4],selectedDate:t[5],data:t[0],minDate:t[1]}});let s=x(t[2]),c=[];for(let u=0;u<s.length;u+=1)c[u]=Gn(Bn(t,s,u));return{c(){e=P("div"),pe(i.$$.fragment),n=Q(),r=P("div");for(let u=0;u<c.length;u+=1)c[u].c();this.h()},l(u){e=T(u,"DIV",{class:!0});var f=I(e);de(i.$$.fragment,f),n=$(f),r=T(f,"DIV",{class:!0});var a=I(r);for(let o=0;o<c.length;o+=1)c[o].l(a);a.forEach(S),f.forEach(S),this.h()},h(){_(r,"class","chart svelte-yofwpe"),_(e,"class","timeline-container svelte-yofwpe")},m(u,f){L(u,e,f),ge(i,e,null),R(e,n),R(e,r);for(let a=0;a<c.length;a+=1)c[a]&&c[a].m(r,null);l=!0},p(u,[f]){const a={};if(f&16&&(a.filteredData=u[4]),f&32&&(a.selectedDate=u[5]),f&1&&(a.data=u[0]),f&2&&(a.minDate=u[1]),i.$set(a),f&108){s=x(u[2]);let o;for(o=0;o<s.length;o+=1){const h=Bn(u,s,o);c[o]?c[o].p(h,f):(c[o]=Gn(h),c[o].c(),c[o].m(r,null))}for(;o<c.length;o+=1)c[o].d(1);c.length=s.length}},i(u){l||(q(i.$$.fragment,u),l=!0)},o(u){H(i.$$.fragment,u),l=!1},d(u){u&&S(e),ve(i),Ce(c,u)}}}function Kr(t,e,i){let n,{data:r=[]}=e;const l=wi();let s,c,u=r,f={},a=[],o=[];function h(p){n===p?(i(4,u=r),i(5,n=null)):(i(4,u=r.filter(g=>{const v=Ft(g["Post Date"]);return v&&v.toISOString().split("T")[0]===p})),i(5,n=p)),l("filteredData",u)}const d=p=>h(p);return t.$$set=p=>{"data"in p&&i(0,r=p.data)},t.$$.update=()=>{if(t.$$.dirty&1&&i(1,{min:s,max:c}=vi(r),s,(i(7,c),i(0,r))),t.$$.dirty&257&&r.length){i(8,f={});for(let p of r){const g=Ft(p["Post Date"]);if(g&&!isNaN(g.getTime())){const v=g.toISOString().split("T")[0];i(8,f[v]=(f[v]||0)+1,f)}}}if(t.$$.dirty&398&&s&&c){i(2,a=[]),i(3,o=[]);for(let p=s.getTime();p<=c.getTime();p+=864e5){const g=new Date(p).toISOString().split("T")[0];a.push(g),o.push(f[g]||0)}}},i(5,n=null),[r,s,a,o,u,n,h,c,f,d]}class Jr extends ye{constructor(e){super(),we(this,e,Kr,Xr,me,{data:0})}}function Qr(t){let e,i,n,r,l,s,c,u,f,a,o,h,d=t[2]>800&&Yn(t);return l=new wr({props:{data:t[1].length>0?t[1]:t[0]}}),u=new br({}),o=new Jr({props:{data:t[0]}}),o.$on("filteredData",t[3]),{c(){e=P("section"),i=P("section"),d&&d.c(),n=Q(),r=P("div"),pe(l.$$.fragment),s=Q(),c=P("div"),pe(u.$$.fragment),f=Q(),a=P("div"),pe(o.$$.fragment),this.h()},l(p){e=T(p,"SECTION",{class:!0});var g=I(e);i=T(g,"SECTION",{});var v=I(i);d&&d.l(v),v.forEach(S),n=$(g),r=T(g,"DIV",{class:!0});var y=I(r);de(l.$$.fragment,y),y.forEach(S),s=$(g),c=T(g,"DIV",{class:!0});var m=I(c);de(u.$$.fragment,m),m.forEach(S),g.forEach(S),f=$(p),a=T(p,"DIV",{class:!0});var w=I(a);de(o.$$.fragment,w),w.forEach(S),this.h()},h(){_(r,"class","mapContainer svelte-brfycw"),_(c,"class","panel svelte-brfycw"),_(e,"class","top svelte-brfycw"),_(a,"class","timeline svelte-brfycw")},m(p,g){L(p,e,g),R(e,i),d&&d.m(i,null),R(e,n),R(e,r),ge(l,r,null),R(e,s),R(e,c),ge(u,c,null),L(p,f,g),L(p,a,g),ge(o,a,null),h=!0},p(p,g){p[2]>800?d?(d.p(p,g),g&4&&q(d,1)):(d=Yn(p),d.c(),q(d,1),d.m(i,null)):d&&(Me(),H(d,1,1,()=>{d=null}),Ie());const v={};g&3&&(v.data=p[1].length>0?p[1]:p[0]),l.$set(v);const y={};g&1&&(y.data=p[0]),o.$set(y)},i(p){h||(q(d),q(l.$$.fragment,p),q(u.$$.fragment,p),q(o.$$.fragment,p),h=!0)},o(p){H(d),H(l.$$.fragment,p),H(u.$$.fragment,p),H(o.$$.fragment,p),h=!1},d(p){p&&(S(e),S(f),S(a)),d&&d.d(),ve(l),ve(u),ve(o)}}}function $r(t){let e,i="Loading...";return{c(){e=P("p"),e.textContent=i,this.h()},l(n){e=T(n,"P",{class:!0,"data-svelte-h":!0}),De(e)!=="svelte-1m6gtj"&&(e.textContent=i),this.h()},h(){_(e,"class","loading svelte-brfycw")},m(n,r){L(n,e,r)},p:le,i:le,o:le,d(n){n&&S(e)}}}function Yn(t){let e,i,n;return i=new Ir({props:{data:t[1].length>0?t[1]:t[0],windowWidth:t[2]}}),{c(){e=P("div"),pe(i.$$.fragment),this.h()},l(r){e=T(r,"DIV",{class:!0});var l=I(e);de(i.$$.fragment,l),l.forEach(S),this.h()},h(){_(e,"class","small")},m(r,l){L(r,e,l),ge(i,e,null),n=!0},p(r,l){const s={};l&3&&(s.data=r[1].length>0?r[1]:r[0]),l&4&&(s.windowWidth=r[2]),i.$set(s)},i(r){n||(q(i.$$.fragment,r),n=!0)},o(r){H(i.$$.fragment,r),n=!1},d(r){r&&S(e),ve(i)}}}function xr(t){let e,i,n,r;const l=[$r,Qr],s=[];function c(u,f){return u[0].length===0?0:1}return i=c(t),n=s[i]=l[i](t),{c(){e=P("section"),n.c(),this.h()},l(u){e=T(u,"SECTION",{class:!0});var f=I(e);n.l(f),f.forEach(S),this.h()},h(){_(e,"class","map")},m(u,f){L(u,e,f),s[i].m(e,null),r=!0},p(u,[f]){let a=i;i=c(u),i===a?s[i].p(u,f):(Me(),H(s[a],1,1,()=>{s[a]=null}),Ie(),n=s[i],n?n.p(u,f):(n=s[i]=l[i](u),n.c()),q(n,1),n.m(e,null))},i(u){r||(q(n),r=!0)},o(u){H(n),r=!1},d(u){u&&S(e),s[i].d()}}}function el(t,e,i){let n=[],r=[],l=0;const s=()=>{i(2,l=window.innerWidth)},c=u=>{i(1,r=u==null?void 0:u.detail)};return Zn(async()=>{i(0,n=await qr("https://docs.google.com/spreadsheets/d/e/2PACX-1vR2ixzurghRCd5eNEn15gsUC9wjAW2PoB2eIkxNvp89g2vIFjG-to5geUiBIN9yxJrJ_vZkIYesjKOW/pub?output=csv")),i(0,n=n.filter(f=>f["Add to Map"]=="TRUE")),s(),window.addEventListener("resize",s)}),[n,r,l,c]}class tl extends ye{constructor(e){super(),we(this,e,el,xr,me,{})}}function nl(t){let e,i,n;return i=new tl({}),{c(){e=P("article"),pe(i.$$.fragment),this.h()},l(r){e=T(r,"ARTICLE",{class:!0});var l=I(e);de(i.$$.fragment,l),l.forEach(S),this.h()},h(){_(e,"class","svelte-1732do2")},m(r,l){L(r,e,l),ge(i,e,null),n=!0},p:le,i(r){n||(q(i.$$.fragment,r),n=!0)},o(r){H(i.$$.fragment,r),n=!1},d(r){r&&S(e),ve(i)}}}class sl extends ye{constructor(e){super(),we(this,e,null,nl,me,{})}}export{sl as component};

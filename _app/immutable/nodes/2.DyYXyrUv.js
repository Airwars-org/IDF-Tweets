import{s as De,O as Z,P as Y,f as I,i as E,v as h,Q as Zt,k as F,R as _t,n as re,o as Je,e as T,t as z,d as N,h as O,S as Re,l as b,F as Hl,T as Pl,p as ie,U as Se,V as Vl,x as mt,W as oe,r as al,X as Al,b as G,j as B,m as ee,w as We,Y as Fl}from"../chunks/scheduler.PErhBX7R.js";import{S as Le,i as Ie,t as j,g as ge,a as X,c as _e,b as me,d as ke,m as we,e as Ee}from"../chunks/index.Sgcten2w.js";import{w as fl}from"../chunks/index.D4Gonu2H.js";function le(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}class He{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let l=0;for(let i=0;i<this._n&&i<32;i++){const r=n[i],o=e+r,s=Math.abs(e)<Math.abs(r)?e-(o-r):r-(o-e);s&&(n[l++]=s),e=o}return n[l]=e,this._n=l+1,this}valueOf(){const e=this._partials;let n=this._n,l,i,r,o=0;if(n>0){for(o=e[--n];n>0&&(l=o,i=e[--n],o=l+i,r=i-(o-l),!r););n>0&&(r<0&&e[n-1]<0||r>0&&e[n-1]>0)&&(i=r*2,l=o+i,i==l-o&&(o=l))}return o}}function*Ul(t){for(const e of t)yield*e}function ul(t){return Array.from(Ul(t))}var K=1e-6,ql=1e-12,W=Math.PI,ae=W/2,Yt=W/4,ue=W*2,fe=180/W,ne=W/180,Q=Math.abs,cl=Math.atan,Qe=Math.atan2,$=Math.cos,jl=Math.exp,Gl=Math.log,x=Math.sin,Bl=Math.sign||function(t){return t>0?1:t<0?-1:0},Ve=Math.sqrt,Wl=Math.tan;function zl(t){return t>1?0:t<-1?W:Math.acos(t)}function $e(t){return t>1?ae:t<-1?-ae:Math.asin(t)}function de(){}function st(t,e){t&&Kt.hasOwnProperty(t.type)&&Kt[t.type](t,e)}var Xt={Feature:function(t,e){st(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,l=-1,i=n.length;++l<i;)st(n[l].geometry,e)}},Kt={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,l=-1,i=n.length;++l<i;)t=n[l],e.point(t[0],t[1],t[2])},LineString:function(t,e){Lt(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,l=-1,i=n.length;++l<i;)Lt(n[l],e,0)},Polygon:function(t,e){Jt(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,l=-1,i=n.length;++l<i;)Jt(n[l],e)},GeometryCollection:function(t,e){for(var n=t.geometries,l=-1,i=n.length;++l<i;)st(n[l],e)}};function Lt(t,e,n){var l=-1,i=t.length-n,r;for(e.lineStart();++l<i;)r=t[l],e.point(r[0],r[1],r[2]);e.lineEnd()}function Jt(t,e){var n=-1,l=t.length;for(e.polygonStart();++n<l;)Lt(t[n],e,1);e.polygonEnd()}function Fe(t,e){t&&Xt.hasOwnProperty(t.type)?Xt[t.type](t,e):st(t,e)}function It(t){return[Qe(t[1],t[0]),$e(t[2])]}function qe(t){var e=t[0],n=t[1],l=$(n);return[l*$(e),l*x(e),x(n)]}function nt(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function at(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function kt(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function lt(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Mt(t){var e=Ve(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Rt(t,e){function n(l,i){return l=t(l,i),e(l[0],l[1])}return t.invert&&e.invert&&(n.invert=function(l,i){return l=e.invert(l,i),l&&t.invert(l[0],l[1])}),n}function Tt(t,e){return Q(t)>W&&(t-=Math.round(t/ue)*ue),[t,e]}Tt.invert=Tt;function hl(t,e,n){return(t%=ue)?e||n?Rt($t(t),xt(e,n)):$t(t):e||n?xt(e,n):Tt}function Qt(t){return function(e,n){return e+=t,Q(e)>W&&(e-=Math.round(e/ue)*ue),[e,n]}}function $t(t){var e=Qt(t);return e.invert=Qt(-t),e}function xt(t,e){var n=$(t),l=x(t),i=$(e),r=x(e);function o(s,a){var u=$(a),f=$(s)*u,c=x(s)*u,p=x(a),_=p*n+f*l;return[Qe(c*i-_*r,f*n-p*l),$e(_*i+c*r)]}return o.invert=function(s,a){var u=$(a),f=$(s)*u,c=x(s)*u,p=x(a),_=p*i-c*r;return[Qe(c*i+p*r,f*n+_*l),$e(_*n-f*l)]},o}function Ol(t){t=hl(t[0]*ne,t[1]*ne,t.length>2?t[2]*ne:0);function e(n){return n=t(n[0]*ne,n[1]*ne),n[0]*=fe,n[1]*=fe,n}return e.invert=function(n){return n=t.invert(n[0]*ne,n[1]*ne),n[0]*=fe,n[1]*=fe,n},e}function Zl(t,e,n,l,i,r){if(n){var o=$(e),s=x(e),a=l*n;i==null?(i=e+l*ue,r=e-a/2):(i=en(o,i),r=en(o,r),(l>0?i<r:i>r)&&(i+=l*ue));for(var u,f=i;l>0?f>r:f<r;f-=a)u=It([o,-s*$(f),-s*x(f)]),t.point(u[0],u[1])}}function en(t,e){e=qe(e),e[0]-=t,Mt(e);var n=zl(-e[1]);return((-e[2]<0?-n:n)+ue-K)%ue}function dl(){var t=[],e;return{point:function(n,l,i){e.push([n,l,i])},lineStart:function(){t.push(e=[])},lineEnd:de,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function ot(t,e){return Q(t[0]-e[0])<K&&Q(t[1]-e[1])<K}function it(t,e,n,l){this.x=t,this.z=e,this.o=n,this.e=l,this.v=!1,this.n=this.p=null}function pl(t,e,n,l,i){var r=[],o=[],s,a;if(t.forEach(function(k){if(!((d=k.length-1)<=0)){var d,v=k[0],m=k[d],g;if(ot(v,m)){if(!v[2]&&!m[2]){for(i.lineStart(),s=0;s<d;++s)i.point((v=k[s])[0],v[1]);i.lineEnd();return}m[0]+=2*K}r.push(g=new it(v,k,null,!0)),o.push(g.o=new it(v,null,g,!1)),r.push(g=new it(m,k,null,!1)),o.push(g.o=new it(m,null,g,!0))}}),!!r.length){for(o.sort(e),tn(r),tn(o),s=0,a=o.length;s<a;++s)o[s].e=n=!n;for(var u=r[0],f,c;;){for(var p=u,_=!0;p.v;)if((p=p.n)===u)return;f=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(_)for(s=0,a=f.length;s<a;++s)i.point((c=f[s])[0],c[1]);else l(p.x,p.n.x,1,i);p=p.n}else{if(_)for(f=p.p.z,s=f.length-1;s>=0;--s)i.point((c=f[s])[0],c[1]);else l(p.x,p.p.x,-1,i);p=p.p}p=p.o,f=p.z,_=!_}while(!p.v);i.lineEnd()}}}function tn(t){if(e=t.length){for(var e,n=0,l=t[0],i;++n<e;)l.n=i=t[n],i.p=l,l=i;l.n=i=t[0],i.p=l}}function wt(t){return Q(t[0])<=W?t[0]:Bl(t[0])*((Q(t[0])+W)%ue-W)}function Yl(t,e){var n=wt(e),l=e[1],i=x(l),r=[x(n),-$(n),0],o=0,s=0,a=new He;i===1?l=ae+K:i===-1&&(l=-ae-K);for(var u=0,f=t.length;u<f;++u)if(p=(c=t[u]).length)for(var c,p,_=c[p-1],k=wt(_),d=_[1]/2+Yt,v=x(d),m=$(d),g=0;g<p;++g,k=C,v=M,m=S,_=w){var w=c[g],C=wt(w),y=w[1]/2+Yt,M=x(y),S=$(y),L=C-k,P=L>=0?1:-1,R=P*L,H=R>W,V=v*M;if(a.add(Qe(V*P*x(R),m*S+V*$(R))),o+=H?L+P*ue:L,H^k>=n^C>=n){var A=at(qe(_),qe(w));Mt(A);var U=at(r,A);Mt(U);var D=(H^L>=0?-1:1)*$e(U[2]);(l>D||l===D&&(A[0]||A[1]))&&(s+=H^L>=0?1:-1)}}return(o<-K||o<K&&a<-ql)^s&1}function vl(t,e,n,l){return function(i){var r=e(i),o=dl(),s=e(o),a=!1,u,f,c,p={point:_,lineStart:d,lineEnd:v,polygonStart:function(){p.point=m,p.lineStart=g,p.lineEnd=w,f=[],u=[]},polygonEnd:function(){p.point=_,p.lineStart=d,p.lineEnd=v,f=ul(f);var C=Yl(u,l);f.length?(a||(i.polygonStart(),a=!0),pl(f,Kl,C,n,i)):C&&(a||(i.polygonStart(),a=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),a&&(i.polygonEnd(),a=!1),f=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function _(C,y){t(C,y)&&i.point(C,y)}function k(C,y){r.point(C,y)}function d(){p.point=k,r.lineStart()}function v(){p.point=_,r.lineEnd()}function m(C,y){c.push([C,y]),s.point(C,y)}function g(){s.lineStart(),c=[]}function w(){m(c[0][0],c[0][1]),s.lineEnd();var C=s.clean(),y=o.result(),M,S=y.length,L,P,R;if(c.pop(),u.push(c),c=null,!!S){if(C&1){if(P=y[0],(L=P.length-1)>0){for(a||(i.polygonStart(),a=!0),i.lineStart(),M=0;M<L;++M)i.point((R=P[M])[0],R[1]);i.lineEnd()}return}S>1&&C&2&&y.push(y.pop().concat(y.shift())),f.push(y.filter(Xl))}}return p}}function Xl(t){return t.length>1}function Kl(t,e){return((t=t.x)[0]<0?t[1]-ae-K:ae-t[1])-((e=e.x)[0]<0?e[1]-ae-K:ae-e[1])}const nn=vl(function(){return!0},Jl,$l,[-W,-ae]);function Jl(t){var e=NaN,n=NaN,l=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(r,o){var s=r>0?W:-W,a=Q(r-e);Q(a-W)<K?(t.point(e,n=(n+o)/2>0?ae:-ae),t.point(l,n),t.lineEnd(),t.lineStart(),t.point(s,n),t.point(r,n),i=0):l!==s&&a>=W&&(Q(e-l)<K&&(e-=l*K),Q(r-s)<K&&(r-=s*K),n=Ql(e,n,r,o),t.point(l,n),t.lineEnd(),t.lineStart(),t.point(s,n),i=0),t.point(e=r,n=o),l=s},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function Ql(t,e,n,l){var i,r,o=x(t-n);return Q(o)>K?cl((x(e)*(r=$(l))*x(n)-x(l)*(i=$(e))*x(t))/(i*r*o)):(e+l)/2}function $l(t,e,n,l){var i;if(t==null)i=n*ae,l.point(-W,i),l.point(0,i),l.point(W,i),l.point(W,0),l.point(W,-i),l.point(0,-i),l.point(-W,-i),l.point(-W,0),l.point(-W,i);else if(Q(t[0]-e[0])>K){var r=t[0]<e[0]?W:-W;i=n*r/2,l.point(-r,i),l.point(0,i),l.point(r,i)}else l.point(e[0],e[1])}function xl(t){var e=$(t),n=2*ne,l=e>0,i=Q(e)>K;function r(f,c,p,_){Zl(_,t,n,p,f,c)}function o(f,c){return $(f)*$(c)>e}function s(f){var c,p,_,k,d;return{lineStart:function(){k=_=!1,d=1},point:function(v,m){var g=[v,m],w,C=o(v,m),y=l?C?0:u(v,m):C?u(v+(v<0?W:-W),m):0;if(!c&&(k=_=C)&&f.lineStart(),C!==_&&(w=a(c,g),(!w||ot(c,w)||ot(g,w))&&(g[2]=1)),C!==_)d=0,C?(f.lineStart(),w=a(g,c),f.point(w[0],w[1])):(w=a(c,g),f.point(w[0],w[1],2),f.lineEnd()),c=w;else if(i&&c&&l^C){var M;!(y&p)&&(M=a(g,c,!0))&&(d=0,l?(f.lineStart(),f.point(M[0][0],M[0][1]),f.point(M[1][0],M[1][1]),f.lineEnd()):(f.point(M[1][0],M[1][1]),f.lineEnd(),f.lineStart(),f.point(M[0][0],M[0][1],3)))}C&&(!c||!ot(c,g))&&f.point(g[0],g[1]),c=g,_=C,p=y},lineEnd:function(){_&&f.lineEnd(),c=null},clean:function(){return d|(k&&_)<<1}}}function a(f,c,p){var _=qe(f),k=qe(c),d=[1,0,0],v=at(_,k),m=nt(v,v),g=v[0],w=m-g*g;if(!w)return!p&&f;var C=e*m/w,y=-e*g/w,M=at(d,v),S=lt(d,C),L=lt(v,y);kt(S,L);var P=M,R=nt(S,P),H=nt(P,P),V=R*R-H*(nt(S,S)-1);if(!(V<0)){var A=Ve(V),U=lt(P,(-R-A)/H);if(kt(U,S),U=It(U),!p)return U;var D=f[0],q=c[0],J=f[1],te=c[1],ce;q<D&&(ce=D,D=q,q=ce);var Ge=q-D,ye=Q(Ge-W)<K,Te=ye||Ge<K;if(!ye&&te<J&&(ce=J,J=te,te=ce),Te?ye?J+te>0^U[1]<(Q(U[0]-D)<K?J:te):J<=U[1]&&U[1]<=te:Ge>W^(D<=U[0]&&U[0]<=q)){var be=lt(P,(-R+A)/H);return kt(be,S),[U,It(be)]}}}function u(f,c){var p=l?t:W-t,_=0;return f<-p?_|=1:f>p&&(_|=2),c<-p?_|=4:c>p&&(_|=8),_}return vl(o,s,r,l?[0,-t]:[-W,t-W])}function ei(t,e,n,l,i,r){var o=t[0],s=t[1],a=e[0],u=e[1],f=0,c=1,p=a-o,_=u-s,k;if(k=n-o,!(!p&&k>0)){if(k/=p,p<0){if(k<f)return;k<c&&(c=k)}else if(p>0){if(k>c)return;k>f&&(f=k)}if(k=i-o,!(!p&&k<0)){if(k/=p,p<0){if(k>c)return;k>f&&(f=k)}else if(p>0){if(k<f)return;k<c&&(c=k)}if(k=l-s,!(!_&&k>0)){if(k/=_,_<0){if(k<f)return;k<c&&(c=k)}else if(_>0){if(k>c)return;k>f&&(f=k)}if(k=r-s,!(!_&&k<0)){if(k/=_,_<0){if(k>c)return;k>f&&(f=k)}else if(_>0){if(k<f)return;k<c&&(c=k)}return f>0&&(t[0]=o+f*p,t[1]=s+f*_),c<1&&(e[0]=o+c*p,e[1]=s+c*_),!0}}}}}var ze=1e9,rt=-ze;function ti(t,e,n,l){function i(u,f){return t<=u&&u<=n&&e<=f&&f<=l}function r(u,f,c,p){var _=0,k=0;if(u==null||(_=o(u,c))!==(k=o(f,c))||a(u,f)<0^c>0)do p.point(_===0||_===3?t:n,_>1?l:e);while((_=(_+c+4)%4)!==k);else p.point(f[0],f[1])}function o(u,f){return Q(u[0]-t)<K?f>0?0:3:Q(u[0]-n)<K?f>0?2:1:Q(u[1]-e)<K?f>0?1:0:f>0?3:2}function s(u,f){return a(u.x,f.x)}function a(u,f){var c=o(u,1),p=o(f,1);return c!==p?c-p:c===0?f[1]-u[1]:c===1?u[0]-f[0]:c===2?u[1]-f[1]:f[0]-u[0]}return function(u){var f=u,c=dl(),p,_,k,d,v,m,g,w,C,y,M,S={point:L,lineStart:V,lineEnd:A,polygonStart:R,polygonEnd:H};function L(D,q){i(D,q)&&f.point(D,q)}function P(){for(var D=0,q=0,J=_.length;q<J;++q)for(var te=_[q],ce=1,Ge=te.length,ye=te[0],Te,be,tt=ye[0],Ae=ye[1];ce<Ge;++ce)Te=tt,be=Ae,ye=te[ce],tt=ye[0],Ae=ye[1],be<=l?Ae>l&&(tt-Te)*(l-be)>(Ae-be)*(t-Te)&&++D:Ae<=l&&(tt-Te)*(l-be)<(Ae-be)*(t-Te)&&--D;return D}function R(){f=c,p=[],_=[],M=!0}function H(){var D=P(),q=M&&D,J=(p=ul(p)).length;(q||J)&&(u.polygonStart(),q&&(u.lineStart(),r(null,null,1,u),u.lineEnd()),J&&pl(p,s,D,r,u),u.polygonEnd()),f=u,p=_=k=null}function V(){S.point=U,_&&_.push(k=[]),y=!0,C=!1,g=w=NaN}function A(){p&&(U(d,v),m&&C&&c.rejoin(),p.push(c.result())),S.point=L,C&&f.lineEnd()}function U(D,q){var J=i(D,q);if(_&&k.push([D,q]),y)d=D,v=q,m=J,y=!1,J&&(f.lineStart(),f.point(D,q));else if(J&&C)f.point(D,q);else{var te=[g=Math.max(rt,Math.min(ze,g)),w=Math.max(rt,Math.min(ze,w))],ce=[D=Math.max(rt,Math.min(ze,D)),q=Math.max(rt,Math.min(ze,q))];ei(te,ce,t,e,n,l)?(C||(f.lineStart(),f.point(te[0],te[1])),f.point(ce[0],ce[1]),J||f.lineEnd(),M=!1):J&&(f.lineStart(),f.point(D,q),M=!1)}g=D,w=q,C=J}return S}}const Nt=t=>t;var Et=new He,Ht=new He,gl,_l,Pt,Vt,Ce={point:de,lineStart:de,lineEnd:de,polygonStart:function(){Ce.lineStart=ni,Ce.lineEnd=ii},polygonEnd:function(){Ce.lineStart=Ce.lineEnd=Ce.point=de,Et.add(Q(Ht)),Ht=new He},result:function(){var t=Et/2;return Et=new He,t}};function ni(){Ce.point=li}function li(t,e){Ce.point=ml,gl=Pt=t,_l=Vt=e}function ml(t,e){Ht.add(Vt*t-Pt*e),Pt=t,Vt=e}function ii(){ml(gl,_l)}var je=1/0,ft=je,xe=-je,ut=xe,ct={point:ri,lineStart:de,lineEnd:de,polygonStart:de,polygonEnd:de,result:function(){var t=[[je,ft],[xe,ut]];return xe=ut=-(ft=je=1/0),t}};function ri(t,e){t<je&&(je=t),t>xe&&(xe=t),e<ft&&(ft=e),e>ut&&(ut=e)}var At=0,Ft=0,Oe=0,ht=0,dt=0,Ue=0,Ut=0,qt=0,Ze=0,kl,wl,pe,ve,he={point:Pe,lineStart:ln,lineEnd:rn,polygonStart:function(){he.lineStart=ai,he.lineEnd=fi},polygonEnd:function(){he.point=Pe,he.lineStart=ln,he.lineEnd=rn},result:function(){var t=Ze?[Ut/Ze,qt/Ze]:Ue?[ht/Ue,dt/Ue]:Oe?[At/Oe,Ft/Oe]:[NaN,NaN];return At=Ft=Oe=ht=dt=Ue=Ut=qt=Ze=0,t}};function Pe(t,e){At+=t,Ft+=e,++Oe}function ln(){he.point=oi}function oi(t,e){he.point=si,Pe(pe=t,ve=e)}function si(t,e){var n=t-pe,l=e-ve,i=Ve(n*n+l*l);ht+=i*(pe+t)/2,dt+=i*(ve+e)/2,Ue+=i,Pe(pe=t,ve=e)}function rn(){he.point=Pe}function ai(){he.point=ui}function fi(){El(kl,wl)}function ui(t,e){he.point=El,Pe(kl=pe=t,wl=ve=e)}function El(t,e){var n=t-pe,l=e-ve,i=Ve(n*n+l*l);ht+=i*(pe+t)/2,dt+=i*(ve+e)/2,Ue+=i,i=ve*t-pe*e,Ut+=i*(pe+t),qt+=i*(ve+e),Ze+=i*3,Pe(pe=t,ve=e)}function yl(t){this._context=t}yl.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,ue);break}}},result:de};var jt=new He,yt,bl,Cl,Ye,Xe,et={point:de,lineStart:function(){et.point=ci},lineEnd:function(){yt&&Sl(bl,Cl),et.point=de},polygonStart:function(){yt=!0},polygonEnd:function(){yt=null},result:function(){var t=+jt;return jt=new He,t}};function ci(t,e){et.point=Sl,bl=Ye=t,Cl=Xe=e}function Sl(t,e){Ye-=t,Xe-=e,jt.add(Ve(Ye*Ye+Xe*Xe)),Ye=t,Xe=e}let on,pt,sn,an;class fn{constructor(e){this._append=e==null?Dl:hi(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==sn||this._append!==pt){const l=this._radius,i=this._;this._="",this._append`m0,${l}a${l},${l} 0 1,1 0,${-2*l}a${l},${l} 0 1,1 0,${2*l}z`,sn=l,pt=this._append,an=this._,this._=i}this._+=an;break}}}result(){const e=this._;return this._="",e.length?e:null}}function Dl(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function hi(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return Dl;if(e!==on){const n=10**e;on=e,pt=function(i){let r=1;this._+=i[0];for(const o=i.length;r<o;++r)this._+=Math.round(arguments[r]*n)/n+i[r]}}return pt}function vt(t,e){let n=3,l=4.5,i,r;function o(s){return s&&(typeof l=="function"&&r.pointRadius(+l.apply(this,arguments)),Fe(s,i(r))),r.result()}return o.area=function(s){return Fe(s,i(Ce)),Ce.result()},o.measure=function(s){return Fe(s,i(et)),et.result()},o.bounds=function(s){return Fe(s,i(ct)),ct.result()},o.centroid=function(s){return Fe(s,i(he)),he.result()},o.projection=function(s){return arguments.length?(i=s==null?(t=null,Nt):(t=s).stream,o):t},o.context=function(s){return arguments.length?(r=s==null?(e=null,new fn(n)):new yl(e=s),typeof l!="function"&&r.pointRadius(l),o):e},o.pointRadius=function(s){return arguments.length?(l=typeof s=="function"?s:(r.pointRadius(+s),+s),o):l},o.digits=function(s){if(!arguments.length)return n;if(s==null)n=null;else{const a=Math.floor(s);if(!(a>=0))throw new RangeError(`invalid digits: ${s}`);n=a}return e===null&&(r=new fn(n)),o},o.projection(t).digits(n).context(e)}function Wt(t){return function(e){var n=new Gt;for(var l in t)n[l]=t[l];return n.stream=e,n}}function Gt(){}Gt.prototype={constructor:Gt,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function zt(t,e,n){var l=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),l!=null&&t.clipExtent(null),Fe(n,t.stream(ct)),e(ct.result()),l!=null&&t.clipExtent(l),t}function Ll(t,e,n){return zt(t,function(l){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],o=Math.min(i/(l[1][0]-l[0][0]),r/(l[1][1]-l[0][1])),s=+e[0][0]+(i-o*(l[1][0]+l[0][0]))/2,a=+e[0][1]+(r-o*(l[1][1]+l[0][1]))/2;t.scale(150*o).translate([s,a])},n)}function di(t,e,n){return Ll(t,[[0,0],e],n)}function pi(t,e,n){return zt(t,function(l){var i=+e,r=i/(l[1][0]-l[0][0]),o=(i-r*(l[1][0]+l[0][0]))/2,s=-r*l[0][1];t.scale(150*r).translate([o,s])},n)}function vi(t,e,n){return zt(t,function(l){var i=+e,r=i/(l[1][1]-l[0][1]),o=-r*l[0][0],s=(i-r*(l[1][1]+l[0][1]))/2;t.scale(150*r).translate([o,s])},n)}var un=16,gi=$(30*ne);function cn(t,e){return+e?mi(t,e):_i(t)}function _i(t){return Wt({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function mi(t,e){function n(l,i,r,o,s,a,u,f,c,p,_,k,d,v){var m=u-l,g=f-i,w=m*m+g*g;if(w>4*e&&d--){var C=o+p,y=s+_,M=a+k,S=Ve(C*C+y*y+M*M),L=$e(M/=S),P=Q(Q(M)-1)<K||Q(r-c)<K?(r+c)/2:Qe(y,C),R=t(P,L),H=R[0],V=R[1],A=H-l,U=V-i,D=g*A-m*U;(D*D/w>e||Q((m*A+g*U)/w-.5)>.3||o*p+s*_+a*k<gi)&&(n(l,i,r,o,s,a,H,V,P,C/=S,y/=S,M,d,v),v.point(H,V),n(H,V,P,C,y,M,u,f,c,p,_,k,d,v))}}return function(l){var i,r,o,s,a,u,f,c,p,_,k,d,v={point:m,lineStart:g,lineEnd:C,polygonStart:function(){l.polygonStart(),v.lineStart=y},polygonEnd:function(){l.polygonEnd(),v.lineStart=g}};function m(L,P){L=t(L,P),l.point(L[0],L[1])}function g(){c=NaN,v.point=w,l.lineStart()}function w(L,P){var R=qe([L,P]),H=t(L,P);n(c,p,f,_,k,d,c=H[0],p=H[1],f=L,_=R[0],k=R[1],d=R[2],un,l),l.point(c,p)}function C(){v.point=m,l.lineEnd()}function y(){g(),v.point=M,v.lineEnd=S}function M(L,P){w(i=L,P),r=c,o=p,s=_,a=k,u=d,v.point=w}function S(){n(c,p,f,_,k,d,r,o,i,s,a,u,un,l),v.lineEnd=C,C()}return v}}var ki=Wt({point:function(t,e){this.stream.point(t*ne,e*ne)}});function wi(t){return Wt({point:function(e,n){var l=t(e,n);return this.stream.point(l[0],l[1])}})}function Ei(t,e,n,l,i){function r(o,s){return o*=l,s*=i,[e+t*o,n-t*s]}return r.invert=function(o,s){return[(o-e)/t*l,(n-s)/t*i]},r}function hn(t,e,n,l,i,r){if(!r)return Ei(t,e,n,l,i);var o=$(r),s=x(r),a=o*t,u=s*t,f=o/t,c=s/t,p=(s*n-o*e)/t,_=(s*e+o*n)/t;function k(d,v){return d*=l,v*=i,[a*d-u*v+e,n-u*d-a*v]}return k.invert=function(d,v){return[l*(f*d-c*v+p),i*(_-c*d-f*v)]},k}function yi(t){return bi(function(){return t})()}function bi(t){var e,n=150,l=480,i=250,r=0,o=0,s=0,a=0,u=0,f,c=0,p=1,_=1,k=null,d=nn,v=null,m,g,w,C=Nt,y=.5,M,S,L,P,R;function H(D){return L(D[0]*ne,D[1]*ne)}function V(D){return D=L.invert(D[0],D[1]),D&&[D[0]*fe,D[1]*fe]}H.stream=function(D){return P&&R===D?P:P=ki(wi(f)(d(M(C(R=D)))))},H.preclip=function(D){return arguments.length?(d=D,k=void 0,U()):d},H.postclip=function(D){return arguments.length?(C=D,v=m=g=w=null,U()):C},H.clipAngle=function(D){return arguments.length?(d=+D?xl(k=D*ne):(k=null,nn),U()):k*fe},H.clipExtent=function(D){return arguments.length?(C=D==null?(v=m=g=w=null,Nt):ti(v=+D[0][0],m=+D[0][1],g=+D[1][0],w=+D[1][1]),U()):v==null?null:[[v,m],[g,w]]},H.scale=function(D){return arguments.length?(n=+D,A()):n},H.translate=function(D){return arguments.length?(l=+D[0],i=+D[1],A()):[l,i]},H.center=function(D){return arguments.length?(r=D[0]%360*ne,o=D[1]%360*ne,A()):[r*fe,o*fe]},H.rotate=function(D){return arguments.length?(s=D[0]%360*ne,a=D[1]%360*ne,u=D.length>2?D[2]%360*ne:0,A()):[s*fe,a*fe,u*fe]},H.angle=function(D){return arguments.length?(c=D%360*ne,A()):c*fe},H.reflectX=function(D){return arguments.length?(p=D?-1:1,A()):p<0},H.reflectY=function(D){return arguments.length?(_=D?-1:1,A()):_<0},H.precision=function(D){return arguments.length?(M=cn(S,y=D*D),U()):Ve(y)},H.fitExtent=function(D,q){return Ll(H,D,q)},H.fitSize=function(D,q){return di(H,D,q)},H.fitWidth=function(D,q){return pi(H,D,q)},H.fitHeight=function(D,q){return vi(H,D,q)};function A(){var D=hn(n,0,0,p,_,c).apply(null,e(r,o)),q=hn(n,l-D[0],i-D[1],p,_,c);return f=hl(s,a,u),S=Rt(e,q),L=Rt(f,S),M=cn(S,y),U()}function U(){return P=R=null,H}return function(){return e=t.apply(this,arguments),H.invert=e.invert&&V,A()}}function Ot(t,e){return[t,Gl(Wl((ae+e)/2))]}Ot.invert=function(t,e){return[t,2*cl(jl(e))-ae]};function Il(){return Ci(Ot).scale(961/ue)}function Ci(t){var e=yi(t),n=e.center,l=e.scale,i=e.translate,r=e.clipExtent,o=null,s,a,u;e.scale=function(c){return arguments.length?(l(c),f()):l()},e.translate=function(c){return arguments.length?(i(c),f()):i()},e.center=function(c){return arguments.length?(n(c),f()):n()},e.clipExtent=function(c){return arguments.length?(c==null?o=s=a=u=null:(o=+c[0][0],s=+c[0][1],a=+c[1][0],u=+c[1][1]),f()):o==null?null:[[o,s],[a,u]]};function f(){var c=W*l(),p=e(Ol(e.rotate()).invert([0,0]));return r(o==null?[[p[0]-c,p[1]-c],[p[0]+c,p[1]+c]]:t===Ot?[[Math.max(p[0]-c,o),s],[Math.min(p[0]+c,a),u]]:[[o,Math.max(p[1]-c,s)],[a,Math.min(p[1]+c,u)]])}return f()}function Si(t){return t}function Di(t){if(t==null)return Si;var e,n,l=t.scale[0],i=t.scale[1],r=t.translate[0],o=t.translate[1];return function(s,a){a||(e=n=0);var u=2,f=s.length,c=new Array(f);for(c[0]=(e+=s[0])*l+r,c[1]=(n+=s[1])*i+o;u<f;)c[u]=s[u],++u;return c}}function Li(t,e){for(var n,l=t.length,i=l-e;i<--l;)n=t[i],t[i++]=t[l],t[l]=n}function bt(t,e){return typeof e=="string"&&(e=t.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(n){return dn(t,n)})}:dn(t,e)}function dn(t,e){var n=e.id,l=e.bbox,i=e.properties==null?{}:e.properties,r=Ii(t,e);return n==null&&l==null?{type:"Feature",properties:i,geometry:r}:l==null?{type:"Feature",id:n,properties:i,geometry:r}:{type:"Feature",id:n,bbox:l,properties:i,geometry:r}}function Ii(t,e){var n=Di(t.transform),l=t.arcs;function i(f,c){c.length&&c.pop();for(var p=l[f<0?~f:f],_=0,k=p.length;_<k;++_)c.push(n(p[_],_));f<0&&Li(c,k)}function r(f){return n(f)}function o(f){for(var c=[],p=0,_=f.length;p<_;++p)i(f[p],c);return c.length<2&&c.push(c[0]),c}function s(f){for(var c=o(f);c.length<4;)c.push(c[0]);return c}function a(f){return f.map(s)}function u(f){var c=f.type,p;switch(c){case"GeometryCollection":return{type:c,geometries:f.geometries.map(u)};case"Point":p=r(f.coordinates);break;case"MultiPoint":p=f.coordinates.map(r);break;case"LineString":p=o(f.arcs);break;case"MultiLineString":p=f.arcs.map(o);break;case"Polygon":p=a(f.arcs);break;case"MultiPolygon":p=f.arcs.map(a);break;default:return null}return{type:c,coordinates:p}}return u(e)}const Ne=fl(null),gt=fl(null);function Mi(t){let e,n,l,i,r;return{c(){e=Z("circle"),this.h()},l(o){e=Y(o,"circle",{class:!0,id:!0,r:!0,cx:!0,cy:!0}),I(e).forEach(E),this.h()},h(){h(e,"class","secondary svelte-s3qdx5"),h(e,"id",n=t[0]["Unmatched ID"]),h(e,"r",l=t[1]<=768?2.5:5),h(e,"cx",i=t[0].cx),h(e,"cy",r=t[0].cy)},m(o,s){F(o,e,s)},p(o,s){s&1&&n!==(n=o[0]["Unmatched ID"])&&h(e,"id",n),s&2&&l!==(l=o[1]<=768?2.5:5)&&h(e,"r",l),s&1&&i!==(i=o[0].cx)&&h(e,"cx",i),s&1&&r!==(r=o[0].cy)&&h(e,"cy",r)},d(o){o&&E(e)}}}function Ri(t){let e,n,l,i,r,o,s,a,u,f,c,p,_,k,d,v,m,g,w;function C(S,L){return S[1]>768?Ni:Ti}let y=C(t),M=y(t);return{c(){e=Z("line"),o=Z("rect"),M.c(),u=Z("foreignObject"),f=T("div"),c=T("video"),p=T("track"),_=T("source"),d=T("source"),m=z(`
                    Your browser does not support the video tag.`),this.h()},l(S){e=Y(S,"line",{class:!0,x1:!0,y1:!0,x2:!0,y2:!0}),I(e).forEach(E),o=Y(S,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,ry:!0}),I(o).forEach(E),M.l(S),u=Y(S,"foreignObject",{x:!0,y:!0,width:!0,height:!0,class:!0});var L=I(u);f=N(L,"DIV",{class:!0});var P=I(f);c=N(P,"VIDEO",{"webkit-playsinline":!0,class:!0});var R=I(c);p=N(R,"TRACK",{kind:!0}),_=N(R,"SOURCE",{src:!0,type:!0}),d=N(R,"SOURCE",{src:!0,type:!0}),m=O(R,`
                    Your browser does not support the video tag.`),R.forEach(E),P.forEach(E),L.forEach(E),this.h()},h(){h(e,"class","line svelte-s3qdx5"),h(e,"x1",n=t[0].cx-t[7]),h(e,"y1",l=t[0].cy-Me),h(e,"x2",i=t[0].direction==="top"?t[0].cx-t[7]:t[0].cx+t[5]),h(e,"y2",r=t[0].cy-Me+(t[0].direction==="top"?t[6]:0)),h(o,"class","box svelte-s3qdx5"),h(o,"x",s=t[0].cx+t[5]),h(o,"y",a=t[0].cy-Me+t[6]-t[3]/2),h(o,"width",t[2]),h(o,"height",t[3]),h(o,"rx","10"),h(o,"ry","10"),h(p,"kind","captions"),Re(_.src,k="videos/"+t[0]["Reference Code"].trim()+".webm")||h(_,"src",k),h(_,"type","video/webm"),Re(d.src,v="videos/"+t[0]["Reference Code"].trim()+".mp4")||h(d,"src",v),h(d,"type","video/mp4"),c.autoplay=!0,c.loop=!0,c.muted=!0,h(c,"webkit-playsinline",""),c.playsInline=!0,h(c,"class","svelte-s3qdx5"),h(f,"class","svelte-s3qdx5"),h(u,"x",g=t[0].cx+t[5]),h(u,"y",w=t[0].cy-Me+t[6]-t[3]/2),h(u,"width",t[2]),h(u,"height",t[3]),h(u,"class","svelte-s3qdx5")},m(S,L){F(S,e,L),F(S,o,L),M.m(S,L),F(S,u,L),b(u,f),b(f,c),b(c,p),b(c,_),b(c,d),b(c,m)},p(S,L){L&129&&n!==(n=S[0].cx-S[7])&&h(e,"x1",n),L&1&&l!==(l=S[0].cy-Me)&&h(e,"y1",l),L&161&&i!==(i=S[0].direction==="top"?S[0].cx-S[7]:S[0].cx+S[5])&&h(e,"x2",i),L&65&&r!==(r=S[0].cy-Me+(S[0].direction==="top"?S[6]:0))&&h(e,"y2",r),L&33&&s!==(s=S[0].cx+S[5])&&h(o,"x",s),L&73&&a!==(a=S[0].cy-Me+S[6]-S[3]/2)&&h(o,"y",a),L&4&&h(o,"width",S[2]),L&8&&h(o,"height",S[3]),y===(y=C(S))&&M?M.p(S,L):(M.d(1),M=y(S),M&&(M.c(),M.m(u.parentNode,u))),L&1&&!Re(_.src,k="videos/"+S[0]["Reference Code"].trim()+".webm")&&h(_,"src",k),L&1&&!Re(d.src,v="videos/"+S[0]["Reference Code"].trim()+".mp4")&&h(d,"src",v),L&33&&g!==(g=S[0].cx+S[5])&&h(u,"x",g),L&73&&w!==(w=S[0].cy-Me+S[6]-S[3]/2)&&h(u,"y",w),L&4&&h(u,"width",S[2]),L&8&&h(u,"height",S[3])},d(S){S&&(E(e),E(o),E(u)),M.d(S)}}}function Ti(t){let e,n,l;return{c(){e=Z("svg"),n=Z("path"),l=Z("circle"),this.h()},l(i){e=Y(i,"svg",{x:!0,y:!0,width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var r=I(e);n=Y(r,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0,class:!0}),I(n).forEach(E),l=Y(r,"circle",{class:!0,cx:!0,cy:!0,fill:!0,stroke:!0}),I(l).forEach(E),r.forEach(E),this.h()},h(){h(n,"fill-rule","evenodd"),h(n,"clip-rule","evenodd"),h(n,"d","M20 0H0V15.6522L10 28.2609L20 15.6522V0ZM10 15.8967C13.1216 15.8967 15.6522 13.3266 15.6522 10.1562C15.6522 6.98586 13.1216 4.41576 10 4.41576C6.87839 4.41576 4.34783 6.98586 4.34783 10.1562C4.34783 13.3266 6.87839 15.8967 10 15.8967Z"),h(n,"fill","white"),h(n,"class","svelte-s3qdx5"),h(l,"class","hide svelte-s3qdx5"),h(l,"cx","10"),h(l,"cy","10.1562"),h(l,"fill","black"),h(l,"stroke","none"),h(e,"x",t[9]),h(e,"y",t[8]),h(e,"width","10"),h(e,"height","16"),h(e,"viewBox","0 0 20 29"),h(e,"fill","none"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","svelte-s3qdx5")},m(i,r){F(i,e,r),b(e,n),b(e,l)},p(i,r){r&512&&h(e,"x",i[9]),r&256&&h(e,"y",i[8])},d(i){i&&E(e)}}}function Ni(t){let e,n,l;return{c(){e=Z("svg"),n=Z("path"),l=Z("circle"),this.h()},l(i){e=Y(i,"svg",{x:!0,y:!0,width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var r=I(e);n=Y(r,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0,class:!0}),I(n).forEach(E),l=Y(r,"circle",{class:!0,cx:!0,cy:!0,fill:!0,stroke:!0}),I(l).forEach(E),r.forEach(E),this.h()},h(){h(n,"fill-rule","evenodd"),h(n,"clip-rule","evenodd"),h(n,"d","M20 0H0V15.6522L10 28.2609L20 15.6522V0ZM10 15.8967C13.1216 15.8967 15.6522 13.3266 15.6522 10.1562C15.6522 6.98586 13.1216 4.41576 10 4.41576C6.87839 4.41576 4.34783 6.98586 4.34783 10.1562C4.34783 13.3266 6.87839 15.8967 10 15.8967Z"),h(n,"fill","white"),h(n,"class","svelte-s3qdx5"),h(l,"class","hide svelte-s3qdx5"),h(l,"cx","10"),h(l,"cy","10.1562"),h(l,"fill","black"),h(l,"stroke","none"),h(e,"x",t[9]),h(e,"y",t[8]),h(e,"width","15"),h(e,"height","24"),h(e,"viewBox","0 0 20 29"),h(e,"fill","none"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","svelte-s3qdx5")},m(i,r){F(i,e,r),b(e,n),b(e,l)},p(i,r){r&512&&h(e,"x",i[9]),r&256&&h(e,"y",i[8])},d(i){i&&E(e)}}}function Hi(t){let e,n,l,i;function r(a,u){return a[0]["Reference Code"]&&a[0]["Show Tooltip"]=="TRUE"?Ri:Mi}let o=r(t),s=o(t);return{c(){e=Z("g"),s.c(),this.h()},l(a){e=Y(a,"g",{id:!0,class:!0});var u=I(e);s.l(u),u.forEach(E),this.h()},h(){h(e,"id",n=t[0]["Reference Code"]),h(e,"class","svelte-s3qdx5"),Zt(e,"selected",t[4])},m(a,u){F(a,e,u),s.m(e,null),l||(i=_t(e,"click",t[10]),l=!0)},p(a,[u]){o===(o=r(a))&&s?s.p(a,u):(s.d(1),s=o(a),s&&(s.c(),s.m(e,null))),u&1&&n!==(n=a[0]["Reference Code"])&&h(e,"id",n),u&16&&Zt(e,"selected",a[4])},i:re,o:re,d(a){a&&E(e),s.d(),l=!1,i()}}}let Me=29;function Pi(t,e,n){let l,i,r,o,s;Je(t,gt,m=>n(12,o=m)),Je(t,Ne,m=>n(11,s=m));let{point:a}=e,{w:u}=e,f=195,c=122,p="",_=0,k=0;function d(m){const g=a["Group ID"]||null,w=o.filter(C=>C["Group ID"]===g&&C["Unmatched ID"]!==a["Unmatched ID"]);Ne.set({...a,cx:a.cx,cy:a.cy,lat:a.lat,lon:a.lon,id:a["Unmatched ID"],related:w.map(C=>({...C,cx:C.cx,cy:C.cy,lat:C.lat,lon:C.lon,id:C["Unmatched ID"]}))}),v(m)}function v(m){let g;if(m instanceof Event&&(g=m.target.closest("g"),g&&g.parentNode&&g.parentNode.appendChild(g)),m!=null&&m["Unmatched ID"]){g=document.getElementById(a["Unmatched ID"]);const w=document.querySelector(".points");if(g&&g.parentNode){const C=g.parentNode;w.appendChild(C)}}}return t.$$set=m=>{"point"in m&&n(0,a=m.point),"w"in m&&n(1,u=m.w)},t.$$.update=()=>{t.$$.dirty&15&&(u<=768?(n(2,f=u/7.38),n(3,c=u/11.8),a.direction.startsWith("left")||a.direction.startsWith("right")?n(7,k=a.direction.startsWith("left")?1:9):n(7,k=5)):(n(2,f=195),n(3,c=122),a.direction.startsWith("left")||a.direction.startsWith("right")?n(7,k=a.direction.startsWith("left")?-4:9):n(7,k=2)),a.direction.startsWith("right")?a.direction==="right"?n(5,p=c/2):a.direction==="right-1"?n(5,p=c):a.direction==="right-2"&&n(5,p=c*2):a.direction.startsWith("left")?a.direction==="left"?n(5,p=-(f+c/2)):a.direction==="left-1"?n(5,p=-(f+c)):a.direction==="left-2"&&n(5,p=-(f+c*2)):a.direction==="top"&&(n(5,p=-(f/2)),n(6,_=-c/1.3))),t.$$.dirty&2049&&n(4,l=(s==null?void 0:s.cx)==a.cx&&(s==null?void 0:s.cy)==a.cy),t.$$.dirty&17&&l&&v(a),t.$$.dirty&1&&n(9,i=a.cx-10),t.$$.dirty&1&&n(8,r=a.cy-30)},[a,u,f,c,l,p,_,k,r,i,d,s]}class Ml extends Le{constructor(e){super(),Ie(this,e,Pi,Hi,De,{point:0,w:1})}}function pn(t,e,n){const l=t.slice();return l[17]=e[n],l[19]=n,l}function vn(t,e,n){const l=t.slice();return l[17]=e[n],l[19]=n,l}function gn(t,e,n){const l=t.slice();return l[21]=e[n],l[19]=n,l}function _n(t,e,n){const l=t.slice();return l[21]=e[n],l[19]=n,l}function mn(t){let e,n,l,i,r,o=t[6].length>0&&kn(t),s=le(t[1]),a=[];for(let d=0;d<s.length;d+=1)a[d]=En(gn(t,s,d));let u=le(t[7]),f=[];for(let d=0;d<u.length;d+=1)f[d]=bn(vn(t,u,d));const c=d=>X(f[d],1,1,()=>{f[d]=null});let p=le(t[8]),_=[];for(let d=0;d<p.length;d+=1)_[d]=Sn(pn(t,p,d));const k=d=>X(_[d],1,1,()=>{_[d]=null});return{c(){e=Z("svg"),o&&o.c(),n=Z("g");for(let d=0;d<a.length;d+=1)a[d].c();l=Z("g");for(let d=0;d<f.length;d+=1)f[d].c();i=ie();for(let d=0;d<_.length;d+=1)_[d].c();this.h()},l(d){e=Y(d,"svg",{width:!0,height:!0});var v=I(e);o&&o.l(v),n=Y(v,"g",{class:!0});var m=I(n);for(let w=0;w<a.length;w+=1)a[w].l(m);m.forEach(E),l=Y(v,"g",{class:!0});var g=I(l);for(let w=0;w<f.length;w+=1)f[w].l(g);i=ie();for(let w=0;w<_.length;w+=1)_[w].l(g);g.forEach(E),v.forEach(E),this.h()},h(){h(n,"class","streets svelte-hkkn8l"),h(l,"class","points"),h(e,"width",t[3]),h(e,"height",t[4])},m(d,v){F(d,e,v),o&&o.m(e,null),b(e,n);for(let m=0;m<a.length;m+=1)a[m]&&a[m].m(n,null);b(e,l);for(let m=0;m<f.length;m+=1)f[m]&&f[m].m(l,null);b(l,i);for(let m=0;m<_.length;m+=1)_[m]&&_[m].m(l,null);r=!0},p(d,v){if(d[6].length>0?o?o.p(d,v):(o=kn(d),o.c(),o.m(e,n)):o&&(o.d(1),o=null),v&34){s=le(d[1]);let m;for(m=0;m<s.length;m+=1){const g=gn(d,s,m);a[m]?a[m].p(g,v):(a[m]=En(g),a[m].c(),a[m].m(n,null))}for(;m<a.length;m+=1)a[m].d(1);a.length=s.length}if(v&129){u=le(d[7]);let m;for(m=0;m<u.length;m+=1){const g=vn(d,u,m);f[m]?(f[m].p(g,v),j(f[m],1)):(f[m]=bn(g),f[m].c(),j(f[m],1),f[m].m(l,i))}for(ge(),m=u.length;m<f.length;m+=1)c(m);_e()}if(v&257){p=le(d[8]);let m;for(m=0;m<p.length;m+=1){const g=pn(d,p,m);_[m]?(_[m].p(g,v),j(_[m],1)):(_[m]=Sn(g),_[m].c(),j(_[m],1),_[m].m(l,null))}for(ge(),m=p.length;m<_.length;m+=1)k(m);_e()}(!r||v&8)&&h(e,"width",d[3]),(!r||v&16)&&h(e,"height",d[4])},i(d){if(!r){for(let v=0;v<u.length;v+=1)j(f[v]);for(let v=0;v<p.length;v+=1)j(_[v]);r=!0}},o(d){f=f.filter(Boolean);for(let v=0;v<f.length;v+=1)X(f[v]);_=_.filter(Boolean);for(let v=0;v<_.length;v+=1)X(_[v]);r=!1},d(d){d&&E(e),o&&o.d(),Se(a,d),Se(f,d),Se(_,d)}}}function kn(t){let e,n=le(t[6]),l=[];for(let i=0;i<n.length;i+=1)l[i]=wn(_n(t,n,i));return{c(){e=Z("g");for(let i=0;i<l.length;i+=1)l[i].c();this.h()},l(i){e=Y(i,"g",{class:!0});var r=I(e);for(let o=0;o<l.length;o+=1)l[o].l(r);r.forEach(E),this.h()},h(){h(e,"class","boundary svelte-hkkn8l")},m(i,r){F(i,e,r);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(i,r){if(r&96){n=le(i[6]);let o;for(o=0;o<n.length;o+=1){const s=_n(i,n,o);l[o]?l[o].p(s,r):(l[o]=wn(s),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(i){i&&E(e),Se(l,i)}}}function wn(t){let e,n;return{c(){e=Z("path"),this.h()},l(l){e=Y(l,"path",{d:!0,class:!0}),I(e).forEach(E),this.h()},h(){h(e,"d",n=t[5](t[21])),h(e,"class","boundary svelte-hkkn8l")},m(l,i){F(l,e,i)},p(l,i){i&96&&n!==(n=l[5](l[21]))&&h(e,"d",n)},d(l){l&&E(e)}}}function En(t){let e,n;return{c(){e=Z("path"),this.h()},l(l){e=Y(l,"path",{d:!0,class:!0}),I(e).forEach(E),this.h()},h(){h(e,"d",n=t[5](t[21])),h(e,"class","street")},m(l,i){F(l,e,i)},p(l,i){i&34&&n!==(n=l[5](l[21]))&&h(e,"d",n)},d(l){l&&E(e)}}}function yn(t){let e,n;return e=new Ml({props:{point:t[17],w:t[0]}}),{c(){me(e.$$.fragment)},l(l){ke(e.$$.fragment,l)},m(l,i){we(e,l,i),n=!0},p(l,i){const r={};i&128&&(r.point=l[17]),i&1&&(r.w=l[0]),e.$set(r)},i(l){n||(j(e.$$.fragment,l),n=!0)},o(l){X(e.$$.fragment,l),n=!1},d(l){Ee(e,l)}}}function bn(t){let e,n,l=t[17].cx&&t[17].cy&&yn(t);return{c(){l&&l.c(),e=ie()},l(i){l&&l.l(i),e=ie()},m(i,r){l&&l.m(i,r),F(i,e,r),n=!0},p(i,r){i[17].cx&&i[17].cy?l?(l.p(i,r),r&128&&j(l,1)):(l=yn(i),l.c(),j(l,1),l.m(e.parentNode,e)):l&&(ge(),X(l,1,1,()=>{l=null}),_e())},i(i){n||(j(l),n=!0)},o(i){X(l),n=!1},d(i){i&&E(e),l&&l.d(i)}}}function Cn(t){let e,n;return e=new Ml({props:{point:t[17],w:t[0]}}),{c(){me(e.$$.fragment)},l(l){ke(e.$$.fragment,l)},m(l,i){we(e,l,i),n=!0},p(l,i){const r={};i&256&&(r.point=l[17]),i&1&&(r.w=l[0]),e.$set(r)},i(l){n||(j(e.$$.fragment,l),n=!0)},o(l){X(e.$$.fragment,l),n=!1},d(l){Ee(e,l)}}}function Sn(t){let e,n,l=t[17].cx&&t[17].cy&&Cn(t);return{c(){l&&l.c(),e=ie()},l(i){l&&l.l(i),e=ie()},m(i,r){l&&l.m(i,r),F(i,e,r),n=!0},p(i,r){i[17].cx&&i[17].cy?l?(l.p(i,r),r&256&&j(l,1)):(l=Cn(i),l.c(),j(l,1),l.m(e.parentNode,e)):l&&(ge(),X(l,1,1,()=>{l=null}),_e())},i(i){n||(j(l),n=!0)},o(i){X(l),n=!1},d(i){i&&E(e),l&&l.d(i)}}}function Vi(t){let e,n,l,i=t[1].length>0&&mn(t);return{c(){e=T("article"),i&&i.c(),this.h()},l(r){e=N(r,"ARTICLE",{class:!0});var o=I(e);i&&i.l(o),o.forEach(E),this.h()},h(){h(e,"class","map svelte-hkkn8l"),Hl(()=>t[13].call(e))},m(r,o){F(r,e,o),i&&i.m(e,null),t[12](e),n=Pl(e,t[13].bind(e)),l=!0},p(r,[o]){r[1].length>0?i?(i.p(r,o),o&2&&j(i,1)):(i=mn(r),i.c(),j(i,1),i.m(e,null)):i&&(ge(),X(i,1,1,()=>{i=null}),_e())},i(r){l||(j(i),l=!0)},o(r){X(i),l=!1},d(r){r&&E(e),i&&i.d(),t[12](null),n()}}}function Ai(t,e,n){let l,i,r;Je(t,gt,w=>n(11,r=w));let{data:o}=e,s,a,u=0,f=0,c,p,_=[],k=[],d=[];function v(w){c=Il().rotate([-48,48]).scale(1).translate([0,0]);const y=vt().projection(c).bounds({type:"FeatureCollection",features:_}),M=y[1][0]-y[0][0],S=y[1][1]-y[0][1],L=(y[0][0]+y[1][0])/2;y[0][1]+y[1][1];const P=[100,10,20],R=(w-P[0])/M,H=[w/2-R*L,(-R-P[1])*y[0][1]+y[1][1]];c=c.scale(R).translate(H),n(5,p=vt().projection(c)),n(3,u=w),n(4,f=R*S+P[2]),Vl(gt,r=d.map(V=>{const[A,U]=c([V.lon,V.lat]);return{...V,cx:A,cy:U}}),r)}function m(w){mt[w?"unshift":"push"](()=>{s=w,n(2,s)})}function g(){a=this.clientWidth,n(0,a)}return t.$$set=w=>{"data"in w&&n(9,o=w.data)},t.$$.update=()=>{t.$$.dirty&2&&_.length===0&&(fetch("boundary.json").then(w=>w.json()).then(w=>{n(6,k=bt(w,w.objects.boundary).features)}),fetch("streets.json").then(w=>w.json()).then(w=>{n(1,_=bt(w,w.objects.streets).features)}),fetch("buildings2.json").then(w=>w.json()).then(w=>{bt(w,w.objects.test1).features})),t.$$.dirty&512&&n(10,d=o.map(w=>({...w,direction:w.Direction?w.Direction:Math.random()>.5?"left":"right",date:w["Date of incident"]}))),t.$$.dirty&3&&a&&_.length>0&&v(a),t.$$.dirty&1025&&d&&v(a),t.$$.dirty&2048&&n(8,l=r?r.filter(w=>w["Reference Code"]):[]),t.$$.dirty&2048&&n(7,i=r?r.filter(w=>!w["Reference Code"]):[])},[a,_,s,u,f,p,k,i,l,o,d,r,m,g]}let Fi=class extends Le{constructor(e){super(),Ie(this,e,Ai,Vi,De,{data:9})}};function Ui(t){let e,n='<svg class="marker svelte-m2lk42" width=".8rem" height=".8rem" viewBox="0 0 20 29" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M20 0H0V15.6522L10 28.2609L20 15.6522V0ZM10 15.8967C13.1216 15.8967 15.6522 13.3266 15.6522 10.1562C15.6522 6.98586 13.1216 4.41576 10 4.41576C6.87839 4.41576 4.34783 6.98586 4.34783 10.1562C4.34783 13.3266 6.87839 15.8967 10 15.8967Z" fill="white" class="svelte-m2lk42"></path></svg> <p class="explore svelte-m2lk42">Strike footage matched with civilian harm allegation</p> <svg class="marker svelte-m2lk42" width=".8rem" height=".8rem" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><ellipse cx="10" cy="10" rx="4" ry="4" fill="white" class="svelte-m2lk42"></ellipse></svg> <p class="svelte-m2lk42">Geolocated Israeli military strike footage</p>';return{c(){e=T("div"),e.innerHTML=n,this.h()},l(l){e=N(l,"DIV",{class:!0,"data-svelte-h":!0}),oe(e)!=="svelte-gait7d"&&(e.innerHTML=n),this.h()},h(){h(e,"class","legend svelte-m2lk42")},m(l,i){F(l,e,i)},p:re,i:re,o:re,d(l){l&&E(e)}}}class Rl extends Le{constructor(e){super(),Ie(this,e,null,Ui,De,{})}}function Dn(t,e,n){const l=t.slice();return l[9]=e[n],l}function Ln(t){let e,n,l='<svg width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-ts752i"><path d="M8.48528 12.6065L9.54594 13.6672L10.6066 14.7278L2.12132 23.2131L0 21.0918L8.48528 12.6065Z" fill="#FC540D" class="svelte-ts752i"></path><path d="M10.6066 8.48528L9.54596 9.54594L8.4853 10.6066L1.68061e-05 2.12132L2.12134 0L10.6066 8.48528Z" fill="#FC540D" class="svelte-ts752i"></path><path d="M23.2133 21.0918L22.1526 22.1525L21.092 23.2132L12.6067 14.7279L14.728 12.6066L23.2133 21.0918Z" fill="#FC540D" class="svelte-ts752i"></path><path d="M21.092 -4.98836e-05L22.1526 1.06061L23.2133 2.12127L14.728 10.6066L12.6067 8.48523L21.092 -4.98836e-05Z" fill="#FC540D" class="svelte-ts752i"></path></svg>',i,r,o,s,a,u,f,c,p,_,k,d,v,m,g=(t[0]["Reference Code"]||t[0]["Group ID"]||t[0]["Unmatched ID"])&&In(t),w=t[0].related&&t[0].related.length>0&&Mn(),C=t[0].Title&&Rn(t),y=t[0]["Post date"]&&Tn(t),M=(t[0].Location||t[0].lat||t[0].lon)&&Nn(t),S=t[0]["Civilians reported killed"]&&Vn(t),L=t[0]["Footage link"]&&An(t),P=t[0]["External Geolocation Credit"]&&Fn(t),R=t[0]["Civilians reported killed"]&&Un(t),H=t[0].related&&t[0].related.length>0&&qn(t);return{c(){e=T("div"),n=T("div"),n.innerHTML=l,i=G(),g&&g.c(),r=G(),w&&w.c(),o=G(),s=T("div"),a=T("div"),C&&C.c(),u=G(),y&&y.c(),f=G(),M&&M.c(),c=G(),S&&S.c(),p=G(),L&&L.c(),_=G(),P&&P.c(),k=G(),R&&R.c(),d=G(),H&&H.c(),this.h()},l(V){e=N(V,"DIV",{class:!0});var A=I(e);n=N(A,"DIV",{class:!0,"data-svelte-h":!0}),oe(n)!=="svelte-j1vfst"&&(n.innerHTML=l),i=B(A),g&&g.l(A),r=B(A),w&&w.l(A),o=B(A),s=N(A,"DIV",{class:!0});var U=I(s);a=N(U,"DIV",{class:!0});var D=I(a);C&&C.l(D),u=B(D),y&&y.l(D),f=B(D),M&&M.l(D),c=B(D),S&&S.l(D),p=B(D),L&&L.l(D),_=B(D),P&&P.l(D),D.forEach(E),U.forEach(E),k=B(A),R&&R.l(A),d=B(A),H&&H.l(A),A.forEach(E),this.h()},h(){h(n,"class","close svelte-ts752i"),h(a,"class","metadata svelte-ts752i"),h(s,"class","main svelte-ts752i"),h(e,"class","panel svelte-ts752i")},m(V,A){F(V,e,A),b(e,n),b(e,i),g&&g.m(e,null),b(e,r),w&&w.m(e,null),b(e,o),b(e,s),b(s,a),C&&C.m(a,null),b(a,u),y&&y.m(a,null),b(a,f),M&&M.m(a,null),b(a,c),S&&S.m(a,null),b(a,p),L&&L.m(a,null),b(a,_),P&&P.m(a,null),b(e,k),R&&R.m(e,null),b(e,d),H&&H.m(e,null),t[6](e),v||(m=_t(n,"click",t[4]),v=!0)},p(V,A){V[0]["Reference Code"]||V[0]["Group ID"]||V[0]["Unmatched ID"]?g?g.p(V,A):(g=In(V),g.c(),g.m(e,r)):g&&(g.d(1),g=null),V[0].related&&V[0].related.length>0?w||(w=Mn(),w.c(),w.m(e,o)):w&&(w.d(1),w=null),V[0].Title?C?C.p(V,A):(C=Rn(V),C.c(),C.m(a,u)):C&&(C.d(1),C=null),V[0]["Post date"]?y?y.p(V,A):(y=Tn(V),y.c(),y.m(a,f)):y&&(y.d(1),y=null),V[0].Location||V[0].lat||V[0].lon?M?M.p(V,A):(M=Nn(V),M.c(),M.m(a,c)):M&&(M.d(1),M=null),V[0]["Civilians reported killed"]?S?S.p(V,A):(S=Vn(V),S.c(),S.m(a,p)):S&&(S.d(1),S=null),V[0]["Footage link"]?L?L.p(V,A):(L=An(V),L.c(),L.m(a,_)):L&&(L.d(1),L=null),V[0]["External Geolocation Credit"]?P?P.p(V,A):(P=Fn(V),P.c(),P.m(a,null)):P&&(P.d(1),P=null),V[0]["Civilians reported killed"]?R?R.p(V,A):(R=Un(V),R.c(),R.m(e,d)):R&&(R.d(1),R=null),V[0].related&&V[0].related.length>0?H?H.p(V,A):(H=qn(V),H.c(),H.m(e,null)):H&&(H.d(1),H=null)},d(V){V&&E(e),g&&g.d(),w&&w.d(),C&&C.d(),y&&y.d(),M&&M.d(),S&&S.d(),L&&L.d(),P&&P.d(),R&&R.d(),H&&H.d(),t[6](null),v=!1,m()}}}function In(t){let e,n,l,i,r,o,s,a;return{c(){e=T("div"),n=T("video"),l=T("track"),i=T("source"),o=T("source"),a=z(`
                    Your browser does not support the video tag.`),this.h()},l(u){e=N(u,"DIV",{class:!0});var f=I(e);n=N(f,"VIDEO",{"webkit-playsinline":!0,class:!0});var c=I(n);l=N(c,"TRACK",{kind:!0}),i=N(c,"SOURCE",{src:!0,type:!0}),o=N(c,"SOURCE",{src:!0,type:!0}),a=O(c,`
                    Your browser does not support the video tag.`),c.forEach(E),f.forEach(E),this.h()},h(){h(l,"kind","captions"),Re(i.src,r="videos/"+(t[0]["Reference Code"].trim()||t[0]["Group ID"].trim()||t[0]["Unmatched ID"].trim())+".webm")||h(i,"src",r),h(i,"type","video/webm"),Re(o.src,s="videos/"+(t[0]["Reference Code"].trim()||t[0]["Group ID"].trim()||t[0]["Unmatched ID"].trim())+".mp4")||h(o,"src",s),h(o,"type","video/mp4"),n.autoplay=!0,n.loop=!0,n.muted=!0,h(n,"webkit-playsinline",""),n.playsInline=!0,h(n,"class","svelte-ts752i"),h(e,"class","video svelte-ts752i")},m(u,f){F(u,e,f),b(e,n),b(n,l),b(n,i),b(n,o),b(n,a)},p(u,f){f&1&&!Re(i.src,r="videos/"+(u[0]["Reference Code"].trim()||u[0]["Group ID"].trim()||u[0]["Unmatched ID"].trim())+".webm")&&h(i,"src",r),f&1&&!Re(o.src,s="videos/"+(u[0]["Reference Code"].trim()||u[0]["Group ID"].trim()||u[0]["Unmatched ID"].trim())+".mp4")&&h(o,"src",s)},d(u){u&&E(e)}}}function Mn(t){let e,n='<svg width="15" height="14" viewBox="0 0 15 14" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="3.5" cy="3.5" r="3.5" transform="matrix(1 0 0 -1 8 14)" fill="#FC540D"></circle><circle cx="3.5" cy="3.5" r="3.5" transform="matrix(1 0 0 -1 0 14)" fill="#FC540D"></circle><circle cx="3.5" cy="3.5" r="3.5" transform="matrix(1 0 0 -1 4 7)" fill="#FC540D"></circle></svg> <span>Several explosions from one strike</span>';return{c(){e=T("div"),e.innerHTML=n,this.h()},l(l){e=N(l,"DIV",{class:!0,"data-svelte-h":!0}),oe(e)!=="svelte-1h5bjg9"&&(e.innerHTML=n),this.h()},h(){h(e,"class","related svelte-ts752i")},m(l,i){F(l,e,i)},d(l){l&&E(e)}}}function Rn(t){let e,n,l=t[0].Title+"",i;return{c(){e=T("div"),n=T("h1"),i=z(l),this.h()},l(r){e=N(r,"DIV",{class:!0});var o=I(e);n=N(o,"H1",{class:!0});var s=I(n);i=O(s,l),s.forEach(E),o.forEach(E),this.h()},h(){h(n,"class","svelte-ts752i"),h(e,"class","svelte-ts752i")},m(r,o){F(r,e,o),b(e,n),b(n,i)},p(r,o){o&1&&l!==(l=r[0].Title+"")&&ee(i,l)},d(r){r&&E(e)}}}function Tn(t){let e,n,l="Date Posted",i,r,o=t[0]["Post date"]+"",s;return{c(){e=T("div"),n=T("h3"),n.textContent=l,i=G(),r=T("h2"),s=z(o),this.h()},l(a){e=N(a,"DIV",{class:!0});var u=I(e);n=N(u,"H3",{class:!0,"data-svelte-h":!0}),oe(n)!=="svelte-gk40gb"&&(n.textContent=l),i=B(u),r=N(u,"H2",{class:!0});var f=I(r);s=O(f,o),f.forEach(E),u.forEach(E),this.h()},h(){h(n,"class","svelte-ts752i"),h(r,"class","svelte-ts752i"),h(e,"class","svelte-ts752i")},m(a,u){F(a,e,u),b(e,n),b(e,i),b(e,r),b(r,s)},p(a,u){u&1&&o!==(o=a[0]["Post date"]+"")&&ee(s,o)},d(a){a&&E(e)}}}function Nn(t){let e,n,l=t[0].Location&&Hn(t),i=t[0].lat&&t[0].lon&&Pn(t);return{c(){l&&l.c(),e=G(),i&&i.c(),n=ie()},l(r){l&&l.l(r),e=B(r),i&&i.l(r),n=ie()},m(r,o){l&&l.m(r,o),F(r,e,o),i&&i.m(r,o),F(r,n,o)},p(r,o){r[0].Location?l?l.p(r,o):(l=Hn(r),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),r[0].lat&&r[0].lon?i?i.p(r,o):(i=Pn(r),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(r){r&&(E(e),E(n)),l&&l.d(r),i&&i.d(r)}}}function Hn(t){let e,n,l="Location",i;function r(a,u){return a[0].lat&&a[0].lon?ji:qi}let o=r(t),s=o(t);return{c(){e=T("div"),n=T("h3"),n.textContent=l,i=G(),s.c(),this.h()},l(a){e=N(a,"DIV",{class:!0});var u=I(e);n=N(u,"H3",{class:!0,"data-svelte-h":!0}),oe(n)!=="svelte-15gguv3"&&(n.textContent=l),i=B(u),s.l(u),u.forEach(E),this.h()},h(){h(n,"class","svelte-ts752i"),h(e,"class","svelte-ts752i")},m(a,u){F(a,e,u),b(e,n),b(e,i),s.m(e,null)},p(a,u){o===(o=r(a))&&s?s.p(a,u):(s.d(1),s=o(a),s&&(s.c(),s.m(e,null)))},d(a){a&&E(e),s.d()}}}function qi(t){let e,n=t[0].Location+"",l;return{c(){e=T("h2"),l=z(n),this.h()},l(i){e=N(i,"H2",{class:!0});var r=I(e);l=O(r,n),r.forEach(E),this.h()},h(){h(e,"class","svelte-ts752i")},m(i,r){F(i,e,r),b(e,l)},p(i,r){r&1&&n!==(n=i[0].Location+"")&&ee(l,n)},d(i){i&&E(e)}}}function ji(t){let e,n,l=t[0].Location+"",i,r;return{c(){e=T("a"),n=T("h2"),i=z(l),this.h()},l(o){e=N(o,"A",{class:!0,href:!0,target:!0});var s=I(e);n=N(s,"H2",{class:!0});var a=I(n);i=O(a,l),a.forEach(E),s.forEach(E),this.h()},h(){h(n,"class","svelte-ts752i"),h(e,"class","link svelte-ts752i"),h(e,"href",r="http://maps.google.com/maps?z=20&t=k&q=loc:"+t[0].lat+","+t[0].lon+"&ll="+t[0].lat+","+t[0].lon),h(e,"target","_blank")},m(o,s){F(o,e,s),b(e,n),b(n,i)},p(o,s){s&1&&l!==(l=o[0].Location+"")&&ee(i,l),s&1&&r!==(r="http://maps.google.com/maps?z=20&t=k&q=loc:"+o[0].lat+","+o[0].lon+"&ll="+o[0].lat+","+o[0].lon)&&h(e,"href",r)},d(o){o&&E(e)}}}function Pn(t){let e,n,l="Coordinates",i,r,o,s=Number(t[0].lat).toFixed(6)+"",a,u,f,c=Number(t[0].lon).toFixed(6)+"",p,_;return{c(){e=T("div"),n=T("h3"),n.textContent=l,i=G(),r=T("a"),o=T("h2"),a=z(s),u=z(`
                                ,
                                `),f=T("h2"),p=z(c),this.h()},l(k){e=N(k,"DIV",{class:!0});var d=I(e);n=N(d,"H3",{class:!0,"data-svelte-h":!0}),oe(n)!=="svelte-ep1dcb"&&(n.textContent=l),i=B(d),r=N(d,"A",{class:!0,href:!0,target:!0});var v=I(r);o=N(v,"H2",{class:!0});var m=I(o);a=O(m,s),m.forEach(E),u=O(v,`
                                ,
                                `),f=N(v,"H2",{class:!0});var g=I(f);p=O(g,c),g.forEach(E),v.forEach(E),d.forEach(E),this.h()},h(){h(n,"class","svelte-ts752i"),h(o,"class","svelte-ts752i"),h(f,"class","svelte-ts752i"),h(r,"class","link svelte-ts752i"),h(r,"href",_="http://maps.google.com/maps?z=20&t=k&q=loc:"+t[0].lat+","+t[0].lon+"&ll="+t[0].lat+","+t[0].lon),h(r,"target","_blank"),h(e,"class","svelte-ts752i")},m(k,d){F(k,e,d),b(e,n),b(e,i),b(e,r),b(r,o),b(o,a),b(r,u),b(r,f),b(f,p)},p(k,d){d&1&&s!==(s=Number(k[0].lat).toFixed(6)+"")&&ee(a,s),d&1&&c!==(c=Number(k[0].lon).toFixed(6)+"")&&ee(p,c),d&1&&_!==(_="http://maps.google.com/maps?z=20&t=k&q=loc:"+k[0].lat+","+k[0].lon+"&ll="+k[0].lat+","+k[0].lon)&&h(r,"href",_)},d(k){k&&E(e)}}}function Vn(t){let e,n,l="Civilians reported killed",i,r,o=t[0]["Civilians reported killed"]+"",s;return{c(){e=T("div"),n=T("h3"),n.textContent=l,i=G(),r=T("h2"),s=z(o),this.h()},l(a){e=N(a,"DIV",{class:!0});var u=I(e);n=N(u,"H3",{class:!0,"data-svelte-h":!0}),oe(n)!=="svelte-107powc"&&(n.textContent=l),i=B(u),r=N(u,"H2",{class:!0});var f=I(r);s=O(f,o),f.forEach(E),u.forEach(E),this.h()},h(){h(n,"class","svelte-ts752i"),h(r,"class","svelte-ts752i"),h(e,"class","svelte-ts752i")},m(a,u){F(a,e,u),b(e,n),b(e,i),b(e,r),b(r,s)},p(a,u){u&1&&o!==(o=a[0]["Civilians reported killed"]+"")&&ee(s,o)},d(a){a&&E(e)}}}function An(t){let e,n,l="Source",i,r,o,s,a,u,f,c,p,_,k;function d(g,w){return w&1&&(p=null),w&1&&(_=null),p==null&&(p=!!g[0]["Footage link"].includes("IAFsite")),p?Wi:(_==null&&(_=!!(g[0]["Footage link"].includes("IDF")||g[0]["Footage link"].includes("idfonline"))),_?Bi:Gi)}let v=d(t,-1),m=v(t);return{c(){e=T("div"),n=T("h3"),n.textContent=l,i=G(),r=T("span"),o=T("a"),s=Z("svg"),a=Z("rect"),u=Z("path"),f=G(),c=T("h2"),m.c(),this.h()},l(g){e=N(g,"DIV",{class:!0});var w=I(e);n=N(w,"H3",{class:!0,"data-svelte-h":!0}),oe(n)!=="svelte-x8n8kl"&&(n.textContent=l),i=B(w),r=N(w,"SPAN",{class:!0});var C=I(r);o=N(C,"A",{class:!0,href:!0,target:!0,rel:!0});var y=I(o);s=Y(y,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var M=I(s);a=Y(M,"rect",{width:!0,height:!0,rx:!0,fill:!0}),I(a).forEach(E),u=Y(M,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,class:!0}),I(u).forEach(E),M.forEach(E),f=B(y),c=N(y,"H2",{style:!0,class:!0});var S=I(c);m.l(S),S.forEach(E),y.forEach(E),C.forEach(E),w.forEach(E),this.h()},h(){h(n,"class","svelte-ts752i"),h(a,"width","37.6627"),h(a,"height","37.6627"),h(a,"rx","18.8314"),h(a,"fill","#120908"),h(u,"fill-rule","evenodd"),h(u,"clip-rule","evenodd"),h(u,"d","M23.1892 8L29.6626 14.4734L24.5965 19.5396L20.0627 20.0627L19.5396 24.5966L14.4734 29.6627L8.00002 23.1893L13.0662 18.1232L17.5999 17.6L18.1231 13.0661L23.1892 8ZM24.8016 15.02L22.6438 12.8622L12.7179 22.7881L14.8757 24.9459L24.8016 15.02Z"),h(u,"class","svelte-ts752i"),h(s,"width","22"),h(s,"height","22"),h(s,"viewBox","0 0 38 38"),h(s,"fill","none"),h(s,"xmlns","http://www.w3.org/2000/svg"),h(s,"class","svelte-ts752i"),We(c,"display","inline"),h(c,"class","svelte-ts752i"),h(o,"class","footage-link svelte-ts752i"),h(o,"href",k=t[0]["Footage link"]),h(o,"target","_blank"),h(o,"rel","noopener noreferrer"),h(r,"class","ico svelte-ts752i"),h(e,"class","svelte-ts752i")},m(g,w){F(g,e,w),b(e,n),b(e,i),b(e,r),b(r,o),b(o,s),b(s,a),b(s,u),b(o,f),b(o,c),m.m(c,null)},p(g,w){v!==(v=d(g,w))&&(m.d(1),m=v(g),m&&(m.c(),m.m(c,null))),w&1&&k!==(k=g[0]["Footage link"])&&h(o,"href",k)},d(g){g&&E(e),m.d()}}}function Gi(t){let e;return{c(){e=z("Israeli military footage")},l(n){e=O(n,"Israeli military footage")},m(n,l){F(n,e,l)},d(n){n&&E(e)}}}function Bi(t){let e;return{c(){e=z("Israel Defense Forces")},l(n){e=O(n,"Israel Defense Forces")},m(n,l){F(n,e,l)},d(n){n&&E(e)}}}function Wi(t){let e;return{c(){e=z("Israeli Air Force")},l(n){e=O(n,"Israeli Air Force")},m(n,l){F(n,e,l)},d(n){n&&E(e)}}}function Fn(t){let e,n,l="External geolocation",i,r,o,s,a,u,f,c,p=t[0]["External Geolocation Credit"].replace("https://x.com/","")+"",_,k;return{c(){e=T("div"),n=T("h3"),n.textContent=l,i=G(),r=T("span"),o=T("a"),s=Z("svg"),a=Z("rect"),u=Z("path"),f=G(),c=T("h2"),_=z(p),this.h()},l(d){e=N(d,"DIV",{class:!0});var v=I(e);n=N(v,"H3",{class:!0,"data-svelte-h":!0}),oe(n)!=="svelte-e5gmtl"&&(n.textContent=l),i=B(v),r=N(v,"SPAN",{class:!0});var m=I(r);o=N(m,"A",{class:!0,href:!0,target:!0});var g=I(o);s=Y(g,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var w=I(s);a=Y(w,"rect",{width:!0,height:!0,rx:!0,fill:!0}),I(a).forEach(E),u=Y(w,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,class:!0}),I(u).forEach(E),w.forEach(E),f=B(g),c=N(g,"H2",{class:!0});var C=I(c);_=O(C,p),C.forEach(E),g.forEach(E),m.forEach(E),v.forEach(E),this.h()},h(){h(n,"class","svelte-ts752i"),h(a,"width","37.6627"),h(a,"height","37.6627"),h(a,"rx","18.8314"),h(a,"fill","#120908"),h(u,"fill-rule","evenodd"),h(u,"clip-rule","evenodd"),h(u,"d","M23.1892 8L29.6626 14.4734L24.5965 19.5396L20.0627 20.0627L19.5396 24.5966L14.4734 29.6627L8.00002 23.1893L13.0662 18.1232L17.5999 17.6L18.1231 13.0661L23.1892 8ZM24.8016 15.02L22.6438 12.8622L12.7179 22.7881L14.8757 24.9459L24.8016 15.02Z"),h(u,"class","svelte-ts752i"),h(s,"width","22"),h(s,"height","22"),h(s,"viewBox","0 0 38 38"),h(s,"fill","none"),h(s,"xmlns","http://www.w3.org/2000/svg"),h(s,"class","svelte-ts752i"),h(c,"class","svelte-ts752i"),h(o,"class","footage-link svelte-ts752i"),h(o,"href",k=t[0]["External Geolocation Credit"]),h(o,"target","_blank"),h(r,"class","ico svelte-ts752i"),h(e,"class","svelte-ts752i")},m(d,v){F(d,e,v),b(e,n),b(e,i),b(e,r),b(r,o),b(o,s),b(s,a),b(s,u),b(o,f),b(o,c),b(c,_)},p(d,v){v&1&&p!==(p=d[0]["External Geolocation Credit"].replace("https://x.com/","")+"")&&ee(_,p),v&1&&k!==(k=d[0]["External Geolocation Credit"])&&h(o,"href",k)},d(d){d&&E(e)}}}function Un(t){let e,n,l='Full Incident report <svg width="22" height="15" viewBox="0 0 24 15" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-ts752i"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.0001 9V15L13.7565 15L23.2728 7.5L13.7565 0H11.0001V6L0.727539 6V9L11.0001 9ZM11.0001 9H15.7275V6H11.0001L11.0001 9Z" fill="black" class="svelte-ts752i"></path></svg>',i;return{c(){e=T("a"),n=T("button"),n.innerHTML=l,this.h()},l(r){e=N(r,"A",{href:!0,target:!0,class:!0});var o=I(e);n=N(o,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(n)!=="svelte-wkvdmi"&&(n.innerHTML=l),o.forEach(E),this.h()},h(){h(n,"class","svelte-ts752i"),h(e,"href",i=t[0].Report),h(e,"target","_blank"),h(e,"class","svelte-ts752i")},m(r,o){F(r,e,o),b(e,n)},p(r,o){o&1&&i!==(i=r[0].Report)&&h(e,"href",i)},d(r){r&&E(e)}}}function qn(t){let e,n="Other strikes in footage",l,i,r=le(t[0].related),o=[];for(let s=0;s<r.length;s+=1)o[s]=On(Dn(t,r,s));return{c(){e=T("p"),e.textContent=n,l=G();for(let s=0;s<o.length;s+=1)o[s].c();i=ie(),this.h()},l(s){e=N(s,"P",{class:!0,"data-svelte-h":!0}),oe(e)!=="svelte-xotl0v"&&(e.textContent=n),l=B(s);for(let a=0;a<o.length;a+=1)o[a].l(s);i=ie(),this.h()},h(){h(e,"class","related-text svelte-ts752i")},m(s,a){F(s,e,a),F(s,l,a);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(s,a);F(s,i,a)},p(s,a){if(a&9){r=le(s[0].related);let u;for(u=0;u<r.length;u+=1){const f=Dn(s,r,u);o[u]?o[u].p(f,a):(o[u]=On(f),o[u].c(),o[u].m(i.parentNode,i))}for(;u<o.length;u+=1)o[u].d(1);o.length=r.length}},d(s){s&&(E(e),E(l),E(i)),Se(o,s)}}}function jn(t){let e,n,l=t[9].Title+"",i;return{c(){e=T("div"),n=T("h1"),i=z(l),this.h()},l(r){e=N(r,"DIV",{class:!0});var o=I(e);n=N(o,"H1",{class:!0});var s=I(n);i=O(s,l),s.forEach(E),o.forEach(E),this.h()},h(){h(n,"class","svelte-ts752i"),h(e,"class","svelte-ts752i")},m(r,o){F(r,e,o),b(e,n),b(n,i)},p(r,o){o&1&&l!==(l=r[9].Title+"")&&ee(i,l)},d(r){r&&E(e)}}}function Gn(t){let e,n,l="Location",i,r,o=t[9].Location&&Bn(t),s=t[9].lat&&t[9].lon&&Wn(t);return{c(){e=T("div"),n=T("h3"),n.textContent=l,i=G(),o&&o.c(),r=G(),s&&s.c(),this.h()},l(a){e=N(a,"DIV",{class:!0});var u=I(e);n=N(u,"H3",{class:!0,"data-svelte-h":!0}),oe(n)!=="svelte-15gguv3"&&(n.textContent=l),i=B(u),o&&o.l(u),r=B(u),s&&s.l(u),u.forEach(E),this.h()},h(){h(n,"class","svelte-ts752i"),h(e,"class","svelte-ts752i")},m(a,u){F(a,e,u),b(e,n),b(e,i),o&&o.m(e,null),b(e,r),s&&s.m(e,null)},p(a,u){a[9].Location?o?o.p(a,u):(o=Bn(a),o.c(),o.m(e,r)):o&&(o.d(1),o=null),a[9].lat&&a[9].lon?s?s.p(a,u):(s=Wn(a),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(a){a&&E(e),o&&o.d(),s&&s.d()}}}function Bn(t){let e;function n(r,o){return r[9].lat&&r[9].lon?Oi:zi}let l=n(t),i=l(t);return{c(){i.c(),e=ie()},l(r){i.l(r),e=ie()},m(r,o){i.m(r,o),F(r,e,o)},p(r,o){l===(l=n(r))&&i?i.p(r,o):(i.d(1),i=l(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){r&&E(e),i.d(r)}}}function zi(t){let e,n=t[9].Location+"",l;return{c(){e=T("h2"),l=z(n),this.h()},l(i){e=N(i,"H2",{class:!0});var r=I(e);l=O(r,n),r.forEach(E),this.h()},h(){h(e,"class","svelte-ts752i")},m(i,r){F(i,e,r),b(e,l)},p(i,r){r&1&&n!==(n=i[9].Location+"")&&ee(l,n)},d(i){i&&E(e)}}}function Oi(t){let e,n,l=t[9].Location+"",i,r;return{c(){e=T("a"),n=T("h2"),i=z(l),this.h()},l(o){e=N(o,"A",{class:!0,href:!0,target:!0});var s=I(e);n=N(s,"H2",{class:!0});var a=I(n);i=O(a,l),a.forEach(E),s.forEach(E),this.h()},h(){h(n,"class","svelte-ts752i"),h(e,"class","link svelte-ts752i"),h(e,"href",r="http://maps.google.com/maps?z=20&t=k&q=loc:"+t[9].lat+","+t[9].lon+"&ll="+t[9].lat+","+t[9].lon),h(e,"target","_blank")},m(o,s){F(o,e,s),b(e,n),b(n,i)},p(o,s){s&1&&l!==(l=o[9].Location+"")&&ee(i,l),s&1&&r!==(r="http://maps.google.com/maps?z=20&t=k&q=loc:"+o[9].lat+","+o[9].lon+"&ll="+o[9].lat+","+o[9].lon)&&h(e,"href",r)},d(o){o&&E(e)}}}function Wn(t){let e,n,l=Number(t[9].lat).toFixed(6)+"",i,r,o,s=Number(t[9].lon).toFixed(6)+"",a;return{c(){e=T("span"),n=T("h2"),i=z(l),r=z(`
                                        ,
                                        `),o=T("h2"),a=z(s),this.h()},l(u){e=N(u,"SPAN",{class:!0});var f=I(e);n=N(f,"H2",{class:!0});var c=I(n);i=O(c,l),c.forEach(E),r=O(f,`
                                        ,
                                        `),o=N(f,"H2",{class:!0});var p=I(o);a=O(p,s),p.forEach(E),f.forEach(E),this.h()},h(){h(n,"class","svelte-ts752i"),h(o,"class","svelte-ts752i"),h(e,"class","link svelte-ts752i")},m(u,f){F(u,e,f),b(e,n),b(n,i),b(e,r),b(e,o),b(o,a)},p(u,f){f&1&&l!==(l=Number(u[9].lat).toFixed(6)+"")&&ee(i,l),f&1&&s!==(s=Number(u[9].lon).toFixed(6)+"")&&ee(a,s)},d(u){u&&E(e)}}}function zn(t){let e,n,l="Incident Date",i,r,o=t[9]["Incident date"]+"",s;return{c(){e=T("div"),n=T("h3"),n.textContent=l,i=G(),r=T("h2"),s=z(o),this.h()},l(a){e=N(a,"DIV",{class:!0});var u=I(e);n=N(u,"H3",{class:!0,"data-svelte-h":!0}),oe(n)!=="svelte-ykyqoc"&&(n.textContent=l),i=B(u),r=N(u,"H2",{class:!0});var f=I(r);s=O(f,o),f.forEach(E),u.forEach(E),this.h()},h(){h(n,"class","svelte-ts752i"),h(r,"class","svelte-ts752i"),h(e,"class","svelte-ts752i")},m(a,u){F(a,e,u),b(e,n),b(e,i),b(e,r),b(r,s)},p(a,u){u&1&&o!==(o=a[9]["Incident date"]+"")&&ee(s,o)},d(a){a&&E(e)}}}function On(t){let e,n,l,i,r,o,s,a=t[9].Title&&jn(t),u=(t[9].Location||t[9].lat||t[9].lon)&&Gn(t),f=t[9]["Incident date"]&&zn(t);function c(...p){return t[5](t[9],...p)}return{c(){e=T("div"),n=T("div"),a&&a.c(),l=G(),u&&u.c(),i=G(),f&&f.c(),r=G(),this.h()},l(p){e=N(p,"DIV",{class:!0});var _=I(e);n=N(_,"DIV",{class:!0});var k=I(n);a&&a.l(k),l=B(k),u&&u.l(k),i=B(k),f&&f.l(k),k.forEach(E),r=B(_),_.forEach(E),this.h()},h(){h(n,"class","metadata svelte-ts752i"),h(e,"class","related-point svelte-ts752i")},m(p,_){F(p,e,_),b(e,n),a&&a.m(n,null),b(n,l),u&&u.m(n,null),b(n,i),f&&f.m(n,null),b(e,r),o||(s=_t(e,"click",c),o=!0)},p(p,_){t=p,t[9].Title?a?a.p(t,_):(a=jn(t),a.c(),a.m(n,l)):a&&(a.d(1),a=null),t[9].Location||t[9].lat||t[9].lon?u?u.p(t,_):(u=Gn(t),u.c(),u.m(n,i)):u&&(u.d(1),u=null),t[9]["Incident date"]?f?f.p(t,_):(f=zn(t),f.c(),f.m(n,null)):f&&(f.d(1),f=null)},d(p){p&&E(e),a&&a.d(),u&&u.d(),f&&f.d(),o=!1,s()}}}function Zi(t){let e,n=t[1]&&Ln(t);return{c(){n&&n.c(),e=ie()},l(l){n&&n.l(l),e=ie()},m(l,i){n&&n.m(l,i),F(l,e,i)},p(l,[i]){l[1]?n?n.p(l,i):(n=Ln(l),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:re,o:re,d(l){l&&E(e),n&&n.d(l)}}}function Yi(t,e,n){let l;Je(t,gt,p=>n(7,l=p));let i=!1,r=null,o;al(()=>{document.addEventListener("click",s,!0)}),Al(()=>{document.removeEventListener("click",s,!0)});function s(p){i&&o&&!o.contains(p.target)&&Ne.set(null)}function a(p){const _=p["Group ID"]||null,k=l.filter(d=>d["Group ID"]===_&&d["Unmatched ID"]!==p.id);Ne.set({...p,cx:p.cx,cy:p.cy,lat:p.lat,lon:p.lon,id:p["Unmatched ID"],related:k.map(d=>({...d,cx:d.cx,cy:d.cy,lat:d.lat,lon:d.lon,id:d["Unmatched ID"]}))})}const u=()=>Ne.set(null),f=(p,_)=>a(p);function c(p){mt[p?"unshift":"push"](()=>{o=p,n(2,o)})}return t.$$.update=()=>{t.$$.dirty&1&&Ne.subscribe(p=>{n(0,r=p),n(1,i=!!r)})},[r,i,o,a,u,f,c]}class Xi extends Le{constructor(e){super(),Ie(this,e,Yi,Zi,De,{})}}function Zn(t,e,n){const l=t.slice();return l[18]=e[n],l[20]=n,l}function Yn(t,e,n){const l=t.slice();return l[21]=e[n],l[20]=n,l}function Xn(t,e,n){const l=t.slice();return l[21]=e[n],l[20]=n,l}function Kn(t){let e,n,l,i,r,o,s,a,u,f=le(t[2]),c=[];for(let v=0;v<f.length;v+=1)c[v]=Jn(Xn(t,f,v));let p=le(t[6]),_=[];for(let v=0;v<p.length;v+=1)_[v]=Qn(Yn(t,p,v));let k=le(t[3]),d=[];for(let v=0;v<k.length;v+=1)d[v]=xn(Zn(t,k,v));return{c(){e=Z("svg"),n=Z("g");for(let v=0;v<c.length;v+=1)c[v].c();l=Z("g");for(let v=0;v<_.length;v+=1)_[v].c();i=Z("g");for(let v=0;v<d.length;v+=1)d[v].c();r=Z("rect"),this.h()},l(v){e=Y(v,"svg",{width:!0,height:!0});var m=I(e);n=Y(m,"g",{class:!0});var g=I(n);for(let y=0;y<c.length;y+=1)c[y].l(g);g.forEach(E),l=Y(m,"g",{class:!0});var w=I(l);for(let y=0;y<_.length;y+=1)_[y].l(w);w.forEach(E),i=Y(m,"g",{class:!0});var C=I(i);for(let y=0;y<d.length;y+=1)d[y].l(C);C.forEach(E),r=Y(m,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0,class:!0}),I(r).forEach(E),m.forEach(E),this.h()},h(){h(n,"class","boundary svelte-190di1o"),h(l,"class","streets svelte-190di1o"),h(i,"class","legend-points svelte-190di1o"),h(r,"x",o=t[7].x),h(r,"y",s=t[7].y),h(r,"width",a=t[7].width),h(r,"height",u=t[7].height),h(r,"fill","var(--primary-color)"),h(r,"stroke","red"),h(r,"stroke-width","0.5"),h(r,"class","svelte-190di1o"),h(e,"width",t[0]),h(e,"height",t[1])},m(v,m){F(v,e,m),b(e,n);for(let g=0;g<c.length;g+=1)c[g]&&c[g].m(n,null);b(e,l);for(let g=0;g<_.length;g+=1)_[g]&&_[g].m(l,null);b(e,i);for(let g=0;g<d.length;g+=1)d[g]&&d[g].m(i,null);b(e,r)},p(v,m){if(m&36){f=le(v[2]);let g;for(g=0;g<f.length;g+=1){const w=Xn(v,f,g);c[g]?c[g].p(w,m):(c[g]=Jn(w),c[g].c(),c[g].m(n,null))}for(;g<c.length;g+=1)c[g].d(1);c.length=f.length}if(m&96){p=le(v[6]);let g;for(g=0;g<p.length;g+=1){const w=Yn(v,p,g);_[g]?_[g].p(w,m):(_[g]=Qn(w),_[g].c(),_[g].m(l,null))}for(;g<_.length;g+=1)_[g].d(1);_.length=p.length}if(m&8){k=le(v[3]);let g;for(g=0;g<k.length;g+=1){const w=Zn(v,k,g);d[g]?d[g].p(w,m):(d[g]=xn(w),d[g].c(),d[g].m(i,null))}for(;g<d.length;g+=1)d[g].d(1);d.length=k.length}m&128&&o!==(o=v[7].x)&&h(r,"x",o),m&128&&s!==(s=v[7].y)&&h(r,"y",s),m&128&&a!==(a=v[7].width)&&h(r,"width",a),m&128&&u!==(u=v[7].height)&&h(r,"height",u),m&1&&h(e,"width",v[0]),m&2&&h(e,"height",v[1])},d(v){v&&E(e),Se(c,v),Se(_,v),Se(d,v)}}}function Jn(t){let e,n;return{c(){e=Z("path"),this.h()},l(l){e=Y(l,"path",{d:!0,class:!0}),I(e).forEach(E),this.h()},h(){h(e,"d",n=t[5](t[21])),h(e,"class","boundary svelte-190di1o")},m(l,i){F(l,e,i)},p(l,i){i&36&&n!==(n=l[5](l[21]))&&h(e,"d",n)},d(l){l&&E(e)}}}function Qn(t){let e,n;return{c(){e=Z("path"),this.h()},l(l){e=Y(l,"path",{d:!0,class:!0}),I(e).forEach(E),this.h()},h(){h(e,"d",n=t[5](t[21])),h(e,"class","street")},m(l,i){F(l,e,i)},p(l,i){i&96&&n!==(n=l[5](l[21]))&&h(e,"d",n)},d(l){l&&E(e)}}}function $n(t){let e,n,l;return{c(){e=Z("circle"),this.h()},l(i){e=Y(i,"circle",{cx:!0,cy:!0,r:!0,class:!0}),I(e).forEach(E),this.h()},h(){h(e,"cx",n=t[18].cx),h(e,"cy",l=t[18].cy),h(e,"r",1),h(e,"class","svelte-190di1o")},m(i,r){F(i,e,r)},p(i,r){r&8&&n!==(n=i[18].cx)&&h(e,"cx",n),r&8&&l!==(l=i[18].cy)&&h(e,"cy",l)},d(i){i&&E(e)}}}function xn(t){let e,n=t[18].cx&&t[18].cy&&$n(t);return{c(){n&&n.c(),e=ie()},l(l){n&&n.l(l),e=ie()},m(l,i){n&&n.m(l,i),F(l,e,i)},p(l,i){l[18].cx&&l[18].cy?n?n.p(l,i):(n=$n(l),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(l){l&&E(e),n&&n.d(l)}}}function Ki(t){let e,n=t[2].length>0&&Kn(t);return{c(){e=T("article"),n&&n.c(),this.h()},l(l){e=N(l,"ARTICLE",{class:!0});var i=I(e);n&&n.l(i),i.forEach(E),this.h()},h(){h(e,"class","map")},m(l,i){F(l,e,i),n&&n.m(e,null),t[13](e)},p(l,[i]){l[2].length>0?n?n.p(l,i):(n=Kn(l),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},i:re,o:re,d(l){l&&E(e),n&&n.d(),t[13](null)}}}function Ji(t,e,n){let{data:l}=e,{windowWidth:i}=e,{scrollPercentage:r}=e,{containerHeight:o}=e,{viewportHeight:s}=e,a,u=i>800?100:50,f=i>800?300:150,c=0,p=0,_,k,d=[],v=[],m=[],g={};function w(y,M){_=Il().rotate([-48,48]).scale(1).translate([0,0]);const L=vt().projection(_).bounds({type:"FeatureCollection",features:d}),P=L[1][0]-L[0][0],R=L[1][1]-L[0][1],H=(L[0][0]+L[1][0])/2,V=(L[0][1]+L[1][1])/2,A=[10,10],U=Math.min((y-A[0])/P,(M-A[1])/R),D=[y/2-U*H,M/2-U*V];_=_.scale(U).translate(D),n(5,k=vt().projection(_)),n(3,v=v.map(q=>{const[J,te]=_([q.lon,q.lat]);return{...q,cx:J,cy:te}})),n(0,c=y),n(1,p=M)}function C(y){mt[y?"unshift":"push"](()=>{a=y,n(4,a)})}return t.$$set=y=>{"data"in y&&n(8,l=y.data),"windowWidth"in y&&n(9,i=y.windowWidth),"scrollPercentage"in y&&n(10,r=y.scrollPercentage),"containerHeight"in y&&n(11,o=y.containerHeight),"viewportHeight"in y&&n(12,s=y.viewportHeight)},t.$$.update=()=>{if(t.$$.dirty&4&&d.length==0&&(fetch("boundary.geojson").then(y=>y.json()).then(y=>{n(2,d=y.features)}),fetch("streets.geojson").then(y=>y.json()).then(y=>{n(6,m=y.features)})),t.$$.dirty&256&&n(3,v=l.map(y=>({...y,direction:y.Direction?y.Direction:Math.random()>.5?"left":"right",date:y["Date of incident"]}))),t.$$.dirty&8&&v&&w(u,f),t.$$.dirty&4&&u&&d.length>0&&w(u,f),t.$$.dirty&7171&&p&&o){const y=p/o,M=s*y;n(7,g={x:0,y:(p-M)*(r/100),width:c,height:M})}},[c,p,d,v,a,k,m,g,l,i,r,o,s,C]}class Qi extends Le{constructor(e){super(),Ie(this,e,Ji,Ki,De,{data:8,windowWidth:9,scrollPercentage:10,containerHeight:11,viewportHeight:12})}}var el={},Ct={},St=34,Be=10,Dt=13;function Tl(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function $i(t,e){var n=Tl(t);return function(l,i){return e(n(l),i,t)}}function tl(t){var e=Object.create(null),n=[];return t.forEach(function(l){for(var i in l)i in e||n.push(e[i]=i)}),n}function se(t,e){var n=t+"",l=n.length;return l<e?new Array(e-l+1).join(0)+n:n}function xi(t){return t<0?"-"+se(-t,6):t>9999?"+"+se(t,6):se(t,4)}function er(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),l=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":xi(t.getUTCFullYear())+"-"+se(t.getUTCMonth()+1,2)+"-"+se(t.getUTCDate(),2)+(i?"T"+se(e,2)+":"+se(n,2)+":"+se(l,2)+"."+se(i,3)+"Z":l?"T"+se(e,2)+":"+se(n,2)+":"+se(l,2)+"Z":n||e?"T"+se(e,2)+":"+se(n,2)+"Z":"")}function tr(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function l(c,p){var _,k,d=i(c,function(v,m){if(_)return _(v,m-1);k=v,_=p?$i(v,p):Tl(v)});return d.columns=k||[],d}function i(c,p){var _=[],k=c.length,d=0,v=0,m,g=k<=0,w=!1;c.charCodeAt(k-1)===Be&&--k,c.charCodeAt(k-1)===Dt&&--k;function C(){if(g)return Ct;if(w)return w=!1,el;var M,S=d,L;if(c.charCodeAt(S)===St){for(;d++<k&&c.charCodeAt(d)!==St||c.charCodeAt(++d)===St;);return(M=d)>=k?g=!0:(L=c.charCodeAt(d++))===Be?w=!0:L===Dt&&(w=!0,c.charCodeAt(d)===Be&&++d),c.slice(S+1,M-1).replace(/""/g,'"')}for(;d<k;){if((L=c.charCodeAt(M=d++))===Be)w=!0;else if(L===Dt)w=!0,c.charCodeAt(d)===Be&&++d;else if(L!==n)continue;return c.slice(S,M)}return g=!0,c.slice(S,k)}for(;(m=C())!==Ct;){for(var y=[];m!==el&&m!==Ct;)y.push(m),m=C();p&&(y=p(y,v++))==null||_.push(y)}return _}function r(c,p){return c.map(function(_){return p.map(function(k){return f(_[k])}).join(t)})}function o(c,p){return p==null&&(p=tl(c)),[p.map(f).join(t)].concat(r(c,p)).join(`
`)}function s(c,p){return p==null&&(p=tl(c)),r(c,p).join(`
`)}function a(c){return c.map(u).join(`
`)}function u(c){return c.map(f).join(t)}function f(c){return c==null?"":c instanceof Date?er(c):e.test(c+="")?'"'+c.replace(/"/g,'""')+'"':c}return{parse:l,parseRows:i,format:o,formatBody:s,formatRows:a,formatRow:u,formatValue:f}}var nr=tr(","),lr=nr.parse;function ir(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function rr(t,e){return fetch(t,e).then(ir)}function or(t){return function(e,n,l){return arguments.length===2&&typeof n=="function"&&(l=n,n=void 0),rr(e,n).then(function(i){return t(i,l)})}}var sr=or(lr);function Ke(t,e,n){this.k=t,this.x=e,this.y=n}Ke.prototype={constructor:Ke,scale:function(t){return t===1?this:new Ke(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ke(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Ke.prototype;const Bt=t=>new Date(t),Nl=t=>{const e=t.map(i=>Bt(i["Post Date"])).filter(i=>i instanceof Date&&!isNaN(i)),n=new Date(Math.min(...e.map(i=>i.getTime()))),l=new Date(Math.max(...e.map(i=>i.getTime())));return{min:n,max:l}};function ar(t){let e,n="Loading date range...";return{c(){e=T("p"),e.textContent=n,this.h()},l(l){e=N(l,"P",{class:!0,"data-svelte-h":!0}),oe(e)!=="svelte-1ibifh0"&&(e.textContent=n),this.h()},h(){h(e,"class","tiny svelte-11vhuo5")},m(l,i){F(l,e,i)},p:re,d(l){l&&E(e)}}}function fr(t){let e,n="Geolocated Israeli military strike footage in Gaza",l,i,r=t[0].min.toLocaleDateString("en-US",{month:"short",day:"numeric"})+"",o,s,a=t[0].max.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})+"",u;return{c(){e=T("p"),e.textContent=n,l=G(),i=T("p"),o=z(r),s=z(` –
            `),u=z(a),this.h()},l(f){e=N(f,"P",{class:!0,"data-svelte-h":!0}),oe(e)!=="svelte-1d8yc0y"&&(e.textContent=n),l=B(f),i=N(f,"P",{class:!0});var c=I(i);o=O(c,r),s=O(c,` –
            `),u=O(c,a),c.forEach(E),this.h()},h(){h(e,"class","svelte-11vhuo5"),h(i,"class","tiny svelte-11vhuo5")},m(f,c){F(f,e,c),F(f,l,c),F(f,i,c),b(i,o),b(i,s),b(i,u)},p(f,c){c&1&&r!==(r=f[0].min.toLocaleDateString("en-US",{month:"short",day:"numeric"})+"")&&ee(o,r),c&1&&a!==(a=f[0].max.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})+"")&&ee(u,a)},d(f){f&&(E(e),E(l),E(i))}}}function ur(t){let e;function n(r,o){return r[0].min&&r[0].max?fr:ar}let l=n(t),i=l(t);return{c(){e=T("div"),i.c()},l(r){e=N(r,"DIV",{});var o=I(e);i.l(o),o.forEach(E)},m(r,o){F(r,e,o),i.m(e,null)},p(r,[o]){l===(l=n(r))&&i?i.p(r,o):(i.d(1),i=l(r),i&&(i.c(),i.m(e,null)))},i:re,o:re,d(r){r&&E(e),i.d()}}}function cr(t,e,n){let{data:l=[]}=e,i={min:null,max:null};return t.$$set=r=>{"data"in r&&n(1,l=r.data)},t.$$.update=()=>{t.$$.dirty&2&&l.length&&n(0,i=Nl(l))},[i,l]}class hr extends Le{constructor(e){super(),Ie(this,e,cr,ur,De,{data:1})}}function nl(t,e,n){const l=t.slice();return l[12]=e[n],l[14]=n,l}function ll(t){let e,n,l=t[4][t[14]]+"",i,r,o,s;function a(){return t[10](t[12])}return{c(){e=T("div"),n=T("div"),i=z(l),this.h()},l(u){e=N(u,"DIV",{class:!0,style:!0,title:!0});var f=I(e);n=N(f,"DIV",{class:!0});var c=I(n);i=O(c,l),c.forEach(E),f.forEach(E),this.h()},h(){h(n,"class","count svelte-fdu0gk"),h(e,"class","bar svelte-fdu0gk"),We(e,"height",t[4][t[14]]*2+"px"),We(e,"background-color",t[6]===t[12]?"white":"var(--primary-color)"),h(e,"title",r=t[12]+": "+t[4][t[14]]+" incidents")},m(u,f){F(u,e,f),b(e,n),b(n,i),o||(s=_t(e,"click",a),o=!0)},p(u,f){t=u,f&16&&l!==(l=t[4][t[14]]+"")&&ee(i,l),f&16&&We(e,"height",t[4][t[14]]*2+"px"),f&72&&We(e,"background-color",t[6]===t[12]?"white":"var(--primary-color)"),f&24&&r!==(r=t[12]+": "+t[4][t[14]]+" incidents")&&h(e,"title",r)},d(u){u&&E(e),o=!1,s()}}}function dr(t){let e,n,l,i,r,o,s=t[5].length+"",a,u,f=(t[6]?t[8](new Date(t[6])):"all dates")+"",c,p,_,k,d,v=t[8](new Date(t[1]))+"",m,g,w,C,y=t[8](new Date(t[2]))+"",M,S;i=new hr({props:{data:t[0]}});let L=le(t[3]),P=[];for(let R=0;R<L.length;R+=1)P[R]=ll(nl(t,L,R));return{c(){e=T("div"),n=T("div"),l=T("div"),me(i.$$.fragment),r=G(),o=T("div"),a=z(s),u=z(" items found from "),c=z(f),p=z(" onwards"),_=G(),k=T("div"),d=T("p"),m=z(v),g=G();for(let R=0;R<P.length;R+=1)P[R].c();w=G(),C=T("p"),M=z(y),this.h()},l(R){e=N(R,"DIV",{class:!0});var H=I(e);n=N(H,"DIV",{class:!0});var V=I(n);l=N(V,"DIV",{class:!0});var A=I(l);ke(i.$$.fragment,A),A.forEach(E),r=B(V),o=N(V,"DIV",{class:!0});var U=I(o);a=O(U,s),u=O(U," items found from "),c=O(U,f),p=O(U," onwards"),U.forEach(E),V.forEach(E),_=B(H),k=N(H,"DIV",{class:!0});var D=I(k);d=N(D,"P",{class:!0});var q=I(d);m=O(q,v),q.forEach(E),g=B(D);for(let te=0;te<P.length;te+=1)P[te].l(D);w=B(D),C=N(D,"P",{class:!0});var J=I(C);M=O(J,y),J.forEach(E),D.forEach(E),H.forEach(E),this.h()},h(){h(l,"class","svelte-fdu0gk"),h(o,"class","centre-heading svelte-fdu0gk"),h(n,"class","results svelte-fdu0gk"),h(d,"class","date svelte-fdu0gk"),h(C,"class","date svelte-fdu0gk"),h(k,"class","chart svelte-fdu0gk"),h(e,"class","timeline-container svelte-fdu0gk")},m(R,H){F(R,e,H),b(e,n),b(n,l),we(i,l,null),b(n,r),b(n,o),b(o,a),b(o,u),b(o,c),b(o,p),b(e,_),b(e,k),b(k,d),b(d,m),b(k,g);for(let V=0;V<P.length;V+=1)P[V]&&P[V].m(k,null);b(k,w),b(k,C),b(C,M),S=!0},p(R,[H]){const V={};if(H&1&&(V.data=R[0]),i.$set(V),(!S||H&32)&&s!==(s=R[5].length+"")&&ee(a,s),(!S||H&64)&&f!==(f=(R[6]?R[8](new Date(R[6])):"all dates")+"")&&ee(c,f),(!S||H&2)&&v!==(v=R[8](new Date(R[1]))+"")&&ee(m,v),H&216){L=le(R[3]);let A;for(A=0;A<L.length;A+=1){const U=nl(R,L,A);P[A]?P[A].p(U,H):(P[A]=ll(U),P[A].c(),P[A].m(k,w))}for(;A<P.length;A+=1)P[A].d(1);P.length=L.length}(!S||H&4)&&y!==(y=R[8](new Date(R[2]))+"")&&ee(M,y)},i(R){S||(j(i.$$.fragment,R),S=!0)},o(R){X(i.$$.fragment,R),S=!1},d(R){R&&E(e),Ee(i),Se(P,R)}}}function pr(t,e,n){let l,{data:i=[]}=e;const r=Fl();let o,s,a=i,u={},f=[],c=[];function p(d){l===d?(n(5,a=i),n(6,l=null)):(n(5,a=i.filter(v=>{const m=Bt(v["Post Date"]);return m&&m.toISOString().split("T")[0]===d})),n(6,l=d)),r("filteredData",a)}const _=d=>d.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),k=d=>p(d);return t.$$set=d=>{"data"in d&&n(0,i=d.data)},t.$$.update=()=>{if(t.$$.dirty&1&&n(1,{min:o,max:s}=Nl(i),o,(n(2,s),n(0,i))),t.$$.dirty&513&&i.length){n(9,u={});for(let d of i){const v=Bt(d["Post Date"]);if(v&&!isNaN(v.getTime())){const m=v.toISOString().split("T")[0];n(9,u[m]=(u[m]||0)+1,u)}}}if(t.$$.dirty&542&&o&&s){n(3,f=[]),n(4,c=[]);for(let d=o.getTime();d<=s.getTime();d+=864e5){const v=new Date(d).toISOString().split("T")[0];f.push(v),c.push(u[v]||0)}}},n(6,l=null),[i,o,s,f,c,a,l,p,_,u,k]}class vr extends Le{constructor(e){super(),Ie(this,e,pr,dr,De,{data:0})}}function gr(t){let e,n,l,i,r,o,s,a,u,f,c,p,_,k,d=t[3]<=800&&il(),v=!t[7]&&rl(t);o=new Xi({});let m=t[3]>800&&sl(t);return f=new Fi({props:{data:t[1].length>0?t[1]:t[0]}}),_=new vr({props:{data:t[0]}}),_.$on("filteredData",t[8]),{c(){e=T("section"),d&&d.c(),n=G(),l=T("div"),i=T("div"),v&&v.c(),r=G(),me(o.$$.fragment),s=G(),m&&m.c(),a=G(),u=T("div"),me(f.$$.fragment),c=G(),p=T("div"),me(_.$$.fragment),this.h()},l(g){e=N(g,"SECTION",{});var w=I(e);d&&d.l(w),n=B(w),l=N(w,"DIV",{class:!0});var C=I(l);i=N(C,"DIV",{class:!0});var y=I(i);v&&v.l(y),r=B(y),ke(o.$$.fragment,y),y.forEach(E),s=B(C),m&&m.l(C),C.forEach(E),a=B(w),u=N(w,"DIV",{class:!0});var M=I(u);ke(f.$$.fragment,M),M.forEach(E),w.forEach(E),c=B(g),p=N(g,"DIV",{class:!0});var S=I(p);ke(_.$$.fragment,S),S.forEach(E),this.h()},h(){h(i,"class","panel svelte-hi2yqr"),h(l,"class","sticky svelte-hi2yqr"),h(u,"class","mapContainer svelte-hi2yqr"),h(p,"class","timeline svelte-hi2yqr")},m(g,w){F(g,e,w),d&&d.m(e,null),b(e,n),b(e,l),b(l,i),v&&v.m(i,null),b(i,r),we(o,i,null),b(l,s),m&&m.m(l,null),b(e,a),b(e,u),we(f,u,null),t[9](u),F(g,c,w),F(g,p,w),we(_,p,null),k=!0},p(g,w){g[3]<=800?d?w&8&&j(d,1):(d=il(),d.c(),j(d,1),d.m(e,n)):d&&(ge(),X(d,1,1,()=>{d=null}),_e()),g[7]?v&&(ge(),X(v,1,1,()=>{v=null}),_e()):v?(v.p(g,w),w&128&&j(v,1)):(v=rl(g),v.c(),j(v,1),v.m(i,r)),g[3]>800?m?(m.p(g,w),w&8&&j(m,1)):(m=sl(g),m.c(),j(m,1),m.m(l,null)):m&&(ge(),X(m,1,1,()=>{m=null}),_e());const C={};w&3&&(C.data=g[1].length>0?g[1]:g[0]),f.$set(C);const y={};w&1&&(y.data=g[0]),_.$set(y)},i(g){k||(j(d),j(v),j(o.$$.fragment,g),j(m),j(f.$$.fragment,g),j(_.$$.fragment,g),k=!0)},o(g){X(d),X(v),X(o.$$.fragment,g),X(m),X(f.$$.fragment,g),X(_.$$.fragment,g),k=!1},d(g){g&&(E(e),E(c),E(p)),d&&d.d(),v&&v.d(),Ee(o),m&&m.d(),Ee(f),t[9](null),Ee(_)}}}function _r(t){let e,n="Loading...";return{c(){e=T("p"),e.textContent=n,this.h()},l(l){e=N(l,"P",{class:!0,"data-svelte-h":!0}),oe(e)!=="svelte-1m6gtj"&&(e.textContent=n),this.h()},h(){h(e,"class","loading svelte-hi2yqr")},m(l,i){F(l,e,i)},p:re,i:re,o:re,d(l){l&&E(e)}}}function il(t){let e,n;return e=new Rl({}),{c(){me(e.$$.fragment)},l(l){ke(e.$$.fragment,l)},m(l,i){we(e,l,i),n=!0},i(l){n||(j(e.$$.fragment,l),n=!0)},o(l){X(e.$$.fragment,l),n=!1},d(l){Ee(e,l)}}}function rl(t){let e,n,l=t[3]>800&&ol();return{c(){l&&l.c(),e=ie()},l(i){l&&l.l(i),e=ie()},m(i,r){l&&l.m(i,r),F(i,e,r),n=!0},p(i,r){i[3]>800?l?r&8&&j(l,1):(l=ol(),l.c(),j(l,1),l.m(e.parentNode,e)):l&&(ge(),X(l,1,1,()=>{l=null}),_e())},i(i){n||(j(l),n=!0)},o(i){X(l),n=!1},d(i){i&&E(e),l&&l.d(i)}}}function ol(t){let e,n;return e=new Rl({}),{c(){me(e.$$.fragment)},l(l){ke(e.$$.fragment,l)},m(l,i){we(e,l,i),n=!0},i(l){n||(j(e.$$.fragment,l),n=!0)},o(l){X(e.$$.fragment,l),n=!1},d(l){Ee(e,l)}}}function sl(t){let e,n,l;return n=new Qi({props:{data:t[1].length>0?t[1]:t[0],windowWidth:t[3],scrollPercentage:t[4],containerHeight:t[5],viewportHeight:t[6]}}),{c(){e=T("div"),me(n.$$.fragment),this.h()},l(i){e=N(i,"DIV",{class:!0});var r=I(e);ke(n.$$.fragment,r),r.forEach(E),this.h()},h(){h(e,"class","small svelte-hi2yqr")},m(i,r){F(i,e,r),we(n,e,null),l=!0},p(i,r){const o={};r&3&&(o.data=i[1].length>0?i[1]:i[0]),r&8&&(o.windowWidth=i[3]),r&16&&(o.scrollPercentage=i[4]),r&32&&(o.containerHeight=i[5]),r&64&&(o.viewportHeight=i[6]),n.$set(o)},i(i){l||(j(n.$$.fragment,i),l=!0)},o(i){X(n.$$.fragment,i),l=!1},d(i){i&&E(e),Ee(n)}}}function mr(t){let e,n,l,i;const r=[_r,gr],o=[];function s(a,u){return a[0].length===0?0:1}return n=s(t),l=o[n]=r[n](t),{c(){e=T("section"),l.c(),this.h()},l(a){e=N(a,"SECTION",{class:!0});var u=I(e);l.l(u),u.forEach(E),this.h()},h(){h(e,"class","map svelte-hi2yqr")},m(a,u){F(a,e,u),o[n].m(e,null),i=!0},p(a,[u]){let f=n;n=s(a),n===f?o[n].p(a,u):(ge(),X(o[f],1,1,()=>{o[f]=null}),_e(),l=o[n],l?l.p(a,u):(l=o[n]=r[n](a),l.c()),j(l,1),l.m(e,null))},i(a){i||(j(l),i=!0)},o(a){X(l),i=!1},d(a){a&&E(e),o[n].d()}}}function kr(t,e,n){let l;Je(t,Ne,d=>n(7,l=d));let i=[],r=[],o,s=0,a=0,u=0,f=0;const c=()=>{n(3,s=window.innerWidth),n(6,f=window.innerHeight)},p=()=>{if(o){const d=o.getBoundingClientRect();n(5,u=d.height);const v=u-f,m=Math.max(0,-d.top);n(4,a=Math.min(Math.max(0,m/v*100),100))}},_=d=>{n(1,r=d==null?void 0:d.detail)};al(async()=>{n(0,i=await sr("https://docs.google.com/spreadsheets/d/e/2PACX-1vR2ixzurghRCd5eNEn15gsUC9wjAW2PoB2eIkxNvp89g2vIFjG-to5geUiBIN9yxJrJ_vZkIYesjKOW/pub?output=csv")),n(0,i=i.filter(v=>v["Add to Map"]=="TRUE")),c(),window.addEventListener("resize",c),window.addEventListener("scroll",p),p()});function k(d){mt[d?"unshift":"push"](()=>{o=d,n(2,o)})}return[i,r,o,s,a,u,f,l,_,k]}class wr extends Le{constructor(e){super(),Ie(this,e,kr,mr,De,{})}}function Er(t){let e,n,l;return n=new wr({}),{c(){e=T("article"),me(n.$$.fragment),this.h()},l(i){e=N(i,"ARTICLE",{class:!0});var r=I(e);ke(n.$$.fragment,r),r.forEach(E),this.h()},h(){h(e,"class","svelte-jyvm0e")},m(i,r){F(i,e,r),we(n,e,null),l=!0},p:re,i(i){l||(j(n.$$.fragment,i),l=!0)},o(i){X(n.$$.fragment,i),l=!1},d(i){i&&E(e),Ee(n)}}}class Dr extends Le{constructor(e){super(),Ie(this,e,null,Er,De,{})}}export{Dr as component};

import{s as De,O as Y,P as X,f as M,i as y,v as h,Q as Zt,k as H,R as _t,n as le,o as Je,e as R,t as O,d as T,h as Z,S as Re,l as C,F as Vl,T as Al,p as ie,U as Se,V as Fl,x as mt,W as oe,r as fl,X as Ul,b as j,j as G,m as x,w as We,Y as ql}from"../chunks/scheduler.PErhBX7R.js";import{S as Le,i as Ie,t as U,g as pe,a as z,c as ve,b as ge,d as _e,m as me,e as we}from"../chunks/index.Sgcten2w.js";import{w as ul}from"../chunks/index.D4Gonu2H.js";function ne(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}class He{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let l=0;for(let i=0;i<this._n&&i<32;i++){const r=n[i],o=e+r,s=Math.abs(e)<Math.abs(r)?e-(o-r):r-(o-e);s&&(n[l++]=s),e=o}return n[l]=e,this._n=l+1,this}valueOf(){const e=this._partials;let n=this._n,l,i,r,o=0;if(n>0){for(o=e[--n];n>0&&(l=o,i=e[--n],o=l+i,r=i-(o-l),!r););n>0&&(r<0&&e[n-1]<0||r>0&&e[n-1]>0)&&(i=r*2,l=o+i,i==l-o&&(o=l))}return o}}function*jl(t){for(const e of t)yield*e}function cl(t){return Array.from(jl(t))}var K=1e-6,Gl=1e-12,W=Math.PI,ae=W/2,Yt=W/4,ue=W*2,fe=180/W,te=W/180,J=Math.abs,hl=Math.atan,Qe=Math.atan2,Q=Math.cos,Bl=Math.exp,Wl=Math.log,$=Math.sin,zl=Math.sign||function(t){return t>0?1:t<0?-1:0},Ve=Math.sqrt,Ol=Math.tan;function Zl(t){return t>1?0:t<-1?W:Math.acos(t)}function $e(t){return t>1?ae:t<-1?-ae:Math.asin(t)}function de(){}function st(t,e){t&&Kt.hasOwnProperty(t.type)&&Kt[t.type](t,e)}var Xt={Feature:function(t,e){st(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,l=-1,i=n.length;++l<i;)st(n[l].geometry,e)}},Kt={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,l=-1,i=n.length;++l<i;)t=n[l],e.point(t[0],t[1],t[2])},LineString:function(t,e){Lt(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,l=-1,i=n.length;++l<i;)Lt(n[l],e,0)},Polygon:function(t,e){Jt(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,l=-1,i=n.length;++l<i;)Jt(n[l],e)},GeometryCollection:function(t,e){for(var n=t.geometries,l=-1,i=n.length;++l<i;)st(n[l],e)}};function Lt(t,e,n){var l=-1,i=t.length-n,r;for(e.lineStart();++l<i;)r=t[l],e.point(r[0],r[1],r[2]);e.lineEnd()}function Jt(t,e){var n=-1,l=t.length;for(e.polygonStart();++n<l;)Lt(t[n],e,1);e.polygonEnd()}function Fe(t,e){t&&Xt.hasOwnProperty(t.type)?Xt[t.type](t,e):st(t,e)}function It(t){return[Qe(t[1],t[0]),$e(t[2])]}function qe(t){var e=t[0],n=t[1],l=Q(n);return[l*Q(e),l*$(e),$(n)]}function nt(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function at(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function wt(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function lt(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Mt(t){var e=Ve(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Rt(t,e){function n(l,i){return l=t(l,i),e(l[0],l[1])}return t.invert&&e.invert&&(n.invert=function(l,i){return l=e.invert(l,i),l&&t.invert(l[0],l[1])}),n}function Tt(t,e){return J(t)>W&&(t-=Math.round(t/ue)*ue),[t,e]}Tt.invert=Tt;function dl(t,e,n){return(t%=ue)?e||n?Rt($t(t),xt(e,n)):$t(t):e||n?xt(e,n):Tt}function Qt(t){return function(e,n){return e+=t,J(e)>W&&(e-=Math.round(e/ue)*ue),[e,n]}}function $t(t){var e=Qt(t);return e.invert=Qt(-t),e}function xt(t,e){var n=Q(t),l=$(t),i=Q(e),r=$(e);function o(s,a){var c=Q(a),f=Q(s)*c,u=$(s)*c,d=$(a),g=d*n+f*l;return[Qe(u*i-g*r,f*n-d*l),$e(g*i+u*r)]}return o.invert=function(s,a){var c=Q(a),f=Q(s)*c,u=$(s)*c,d=$(a),g=d*i-u*r;return[Qe(u*i+d*r,f*n+g*l),$e(g*n-f*l)]},o}function Yl(t){t=dl(t[0]*te,t[1]*te,t.length>2?t[2]*te:0);function e(n){return n=t(n[0]*te,n[1]*te),n[0]*=fe,n[1]*=fe,n}return e.invert=function(n){return n=t.invert(n[0]*te,n[1]*te),n[0]*=fe,n[1]*=fe,n},e}function Xl(t,e,n,l,i,r){if(n){var o=Q(e),s=$(e),a=l*n;i==null?(i=e+l*ue,r=e-a/2):(i=en(o,i),r=en(o,r),(l>0?i<r:i>r)&&(i+=l*ue));for(var c,f=i;l>0?f>r:f<r;f-=a)c=It([o,-s*Q(f),-s*$(f)]),t.point(c[0],c[1])}}function en(t,e){e=qe(e),e[0]-=t,Mt(e);var n=Zl(-e[1]);return((-e[2]<0?-n:n)+ue-K)%ue}function pl(){var t=[],e;return{point:function(n,l,i){e.push([n,l,i])},lineStart:function(){t.push(e=[])},lineEnd:de,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function ot(t,e){return J(t[0]-e[0])<K&&J(t[1]-e[1])<K}function it(t,e,n,l){this.x=t,this.z=e,this.o=n,this.e=l,this.v=!1,this.n=this.p=null}function vl(t,e,n,l,i){var r=[],o=[],s,a;if(t.forEach(function(w){if(!((p=w.length-1)<=0)){var p,v=w[0],_=w[p],m;if(ot(v,_)){if(!v[2]&&!_[2]){for(i.lineStart(),s=0;s<p;++s)i.point((v=w[s])[0],v[1]);i.lineEnd();return}_[0]+=2*K}r.push(m=new it(v,w,null,!0)),o.push(m.o=new it(v,null,m,!1)),r.push(m=new it(_,w,null,!1)),o.push(m.o=new it(_,null,m,!0))}}),!!r.length){for(o.sort(e),tn(r),tn(o),s=0,a=o.length;s<a;++s)o[s].e=n=!n;for(var c=r[0],f,u;;){for(var d=c,g=!0;d.v;)if((d=d.n)===c)return;f=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(g)for(s=0,a=f.length;s<a;++s)i.point((u=f[s])[0],u[1]);else l(d.x,d.n.x,1,i);d=d.n}else{if(g)for(f=d.p.z,s=f.length-1;s>=0;--s)i.point((u=f[s])[0],u[1]);else l(d.x,d.p.x,-1,i);d=d.p}d=d.o,f=d.z,g=!g}while(!d.v);i.lineEnd()}}}function tn(t){if(e=t.length){for(var e,n=0,l=t[0],i;++n<e;)l.n=i=t[n],i.p=l,l=i;l.n=i=t[0],i.p=l}}function kt(t){return J(t[0])<=W?t[0]:zl(t[0])*((J(t[0])+W)%ue-W)}function Kl(t,e){var n=kt(e),l=e[1],i=$(l),r=[$(n),-Q(n),0],o=0,s=0,a=new He;i===1?l=ae+K:i===-1&&(l=-ae-K);for(var c=0,f=t.length;c<f;++c)if(d=(u=t[c]).length)for(var u,d,g=u[d-1],w=kt(g),p=g[1]/2+Yt,v=$(p),_=Q(p),m=0;m<d;++m,w=b,v=D,_=S,g=k){var k=u[m],b=kt(k),E=k[1]/2+Yt,D=$(E),S=Q(E),L=b-w,N=L>=0?1:-1,A=N*L,P=A>W,V=v*D;if(a.add(Qe(V*N*$(A),_*S+V*Q(A))),o+=P?L+N*ue:L,P^w>=n^b>=n){var F=at(qe(g),qe(k));Mt(F);var B=at(r,F);Mt(B);var I=(P^L>=0?-1:1)*$e(B[2]);(l>I||l===I&&(F[0]||F[1]))&&(s+=P^L>=0?1:-1)}}return(o<-K||o<K&&a<-Gl)^s&1}function gl(t,e,n,l){return function(i){var r=e(i),o=pl(),s=e(o),a=!1,c,f,u,d={point:g,lineStart:p,lineEnd:v,polygonStart:function(){d.point=_,d.lineStart=m,d.lineEnd=k,f=[],c=[]},polygonEnd:function(){d.point=g,d.lineStart=p,d.lineEnd=v,f=cl(f);var b=Kl(c,l);f.length?(a||(i.polygonStart(),a=!0),vl(f,Ql,b,n,i)):b&&(a||(i.polygonStart(),a=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),a&&(i.polygonEnd(),a=!1),f=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function g(b,E){t(b,E)&&i.point(b,E)}function w(b,E){r.point(b,E)}function p(){d.point=w,r.lineStart()}function v(){d.point=g,r.lineEnd()}function _(b,E){u.push([b,E]),s.point(b,E)}function m(){s.lineStart(),u=[]}function k(){_(u[0][0],u[0][1]),s.lineEnd();var b=s.clean(),E=o.result(),D,S=E.length,L,N,A;if(u.pop(),c.push(u),u=null,!!S){if(b&1){if(N=E[0],(L=N.length-1)>0){for(a||(i.polygonStart(),a=!0),i.lineStart(),D=0;D<L;++D)i.point((A=N[D])[0],A[1]);i.lineEnd()}return}S>1&&b&2&&E.push(E.pop().concat(E.shift())),f.push(E.filter(Jl))}}return d}}function Jl(t){return t.length>1}function Ql(t,e){return((t=t.x)[0]<0?t[1]-ae-K:ae-t[1])-((e=e.x)[0]<0?e[1]-ae-K:ae-e[1])}const nn=gl(function(){return!0},$l,ei,[-W,-ae]);function $l(t){var e=NaN,n=NaN,l=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(r,o){var s=r>0?W:-W,a=J(r-e);J(a-W)<K?(t.point(e,n=(n+o)/2>0?ae:-ae),t.point(l,n),t.lineEnd(),t.lineStart(),t.point(s,n),t.point(r,n),i=0):l!==s&&a>=W&&(J(e-l)<K&&(e-=l*K),J(r-s)<K&&(r-=s*K),n=xl(e,n,r,o),t.point(l,n),t.lineEnd(),t.lineStart(),t.point(s,n),i=0),t.point(e=r,n=o),l=s},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function xl(t,e,n,l){var i,r,o=$(t-n);return J(o)>K?hl(($(e)*(r=Q(l))*$(n)-$(l)*(i=Q(e))*$(t))/(i*r*o)):(e+l)/2}function ei(t,e,n,l){var i;if(t==null)i=n*ae,l.point(-W,i),l.point(0,i),l.point(W,i),l.point(W,0),l.point(W,-i),l.point(0,-i),l.point(-W,-i),l.point(-W,0),l.point(-W,i);else if(J(t[0]-e[0])>K){var r=t[0]<e[0]?W:-W;i=n*r/2,l.point(-r,i),l.point(0,i),l.point(r,i)}else l.point(e[0],e[1])}function ti(t){var e=Q(t),n=2*te,l=e>0,i=J(e)>K;function r(f,u,d,g){Xl(g,t,n,d,f,u)}function o(f,u){return Q(f)*Q(u)>e}function s(f){var u,d,g,w,p;return{lineStart:function(){w=g=!1,p=1},point:function(v,_){var m=[v,_],k,b=o(v,_),E=l?b?0:c(v,_):b?c(v+(v<0?W:-W),_):0;if(!u&&(w=g=b)&&f.lineStart(),b!==g&&(k=a(u,m),(!k||ot(u,k)||ot(m,k))&&(m[2]=1)),b!==g)p=0,b?(f.lineStart(),k=a(m,u),f.point(k[0],k[1])):(k=a(u,m),f.point(k[0],k[1],2),f.lineEnd()),u=k;else if(i&&u&&l^b){var D;!(E&d)&&(D=a(m,u,!0))&&(p=0,l?(f.lineStart(),f.point(D[0][0],D[0][1]),f.point(D[1][0],D[1][1]),f.lineEnd()):(f.point(D[1][0],D[1][1]),f.lineEnd(),f.lineStart(),f.point(D[0][0],D[0][1],3)))}b&&(!u||!ot(u,m))&&f.point(m[0],m[1]),u=m,g=b,d=E},lineEnd:function(){g&&f.lineEnd(),u=null},clean:function(){return p|(w&&g)<<1}}}function a(f,u,d){var g=qe(f),w=qe(u),p=[1,0,0],v=at(g,w),_=nt(v,v),m=v[0],k=_-m*m;if(!k)return!d&&f;var b=e*_/k,E=-e*m/k,D=at(p,v),S=lt(p,b),L=lt(v,E);wt(S,L);var N=D,A=nt(S,N),P=nt(N,N),V=A*A-P*(nt(S,S)-1);if(!(V<0)){var F=Ve(V),B=lt(N,(-A-F)/P);if(wt(B,S),B=It(B),!d)return B;var I=f[0],q=u[0],ee=f[1],re=u[1],ce;q<I&&(ce=I,I=q,q=ce);var Ge=q-I,ye=J(Ge-W)<K,Te=ye||Ge<K;if(!ye&&re<ee&&(ce=ee,ee=re,re=ce),Te?ye?ee+re>0^B[1]<(J(B[0]-I)<K?ee:re):ee<=B[1]&&B[1]<=re:Ge>W^(I<=B[0]&&B[0]<=q)){var be=lt(N,(-A+F)/P);return wt(be,S),[B,It(be)]}}}function c(f,u){var d=l?t:W-t,g=0;return f<-d?g|=1:f>d&&(g|=2),u<-d?g|=4:u>d&&(g|=8),g}return gl(o,s,r,l?[0,-t]:[-W,t-W])}function ni(t,e,n,l,i,r){var o=t[0],s=t[1],a=e[0],c=e[1],f=0,u=1,d=a-o,g=c-s,w;if(w=n-o,!(!d&&w>0)){if(w/=d,d<0){if(w<f)return;w<u&&(u=w)}else if(d>0){if(w>u)return;w>f&&(f=w)}if(w=i-o,!(!d&&w<0)){if(w/=d,d<0){if(w>u)return;w>f&&(f=w)}else if(d>0){if(w<f)return;w<u&&(u=w)}if(w=l-s,!(!g&&w>0)){if(w/=g,g<0){if(w<f)return;w<u&&(u=w)}else if(g>0){if(w>u)return;w>f&&(f=w)}if(w=r-s,!(!g&&w<0)){if(w/=g,g<0){if(w>u)return;w>f&&(f=w)}else if(g>0){if(w<f)return;w<u&&(u=w)}return f>0&&(t[0]=o+f*d,t[1]=s+f*g),u<1&&(e[0]=o+u*d,e[1]=s+u*g),!0}}}}}var ze=1e9,rt=-ze;function li(t,e,n,l){function i(c,f){return t<=c&&c<=n&&e<=f&&f<=l}function r(c,f,u,d){var g=0,w=0;if(c==null||(g=o(c,u))!==(w=o(f,u))||a(c,f)<0^u>0)do d.point(g===0||g===3?t:n,g>1?l:e);while((g=(g+u+4)%4)!==w);else d.point(f[0],f[1])}function o(c,f){return J(c[0]-t)<K?f>0?0:3:J(c[0]-n)<K?f>0?2:1:J(c[1]-e)<K?f>0?1:0:f>0?3:2}function s(c,f){return a(c.x,f.x)}function a(c,f){var u=o(c,1),d=o(f,1);return u!==d?u-d:u===0?f[1]-c[1]:u===1?c[0]-f[0]:u===2?c[1]-f[1]:f[0]-c[0]}return function(c){var f=c,u=pl(),d,g,w,p,v,_,m,k,b,E,D,S={point:L,lineStart:V,lineEnd:F,polygonStart:A,polygonEnd:P};function L(I,q){i(I,q)&&f.point(I,q)}function N(){for(var I=0,q=0,ee=g.length;q<ee;++q)for(var re=g[q],ce=1,Ge=re.length,ye=re[0],Te,be,tt=ye[0],Ae=ye[1];ce<Ge;++ce)Te=tt,be=Ae,ye=re[ce],tt=ye[0],Ae=ye[1],be<=l?Ae>l&&(tt-Te)*(l-be)>(Ae-be)*(t-Te)&&++I:Ae<=l&&(tt-Te)*(l-be)<(Ae-be)*(t-Te)&&--I;return I}function A(){f=u,d=[],g=[],D=!0}function P(){var I=N(),q=D&&I,ee=(d=cl(d)).length;(q||ee)&&(c.polygonStart(),q&&(c.lineStart(),r(null,null,1,c),c.lineEnd()),ee&&vl(d,s,I,r,c),c.polygonEnd()),f=c,d=g=w=null}function V(){S.point=B,g&&g.push(w=[]),E=!0,b=!1,m=k=NaN}function F(){d&&(B(p,v),_&&b&&u.rejoin(),d.push(u.result())),S.point=L,b&&f.lineEnd()}function B(I,q){var ee=i(I,q);if(g&&w.push([I,q]),E)p=I,v=q,_=ee,E=!1,ee&&(f.lineStart(),f.point(I,q));else if(ee&&b)f.point(I,q);else{var re=[m=Math.max(rt,Math.min(ze,m)),k=Math.max(rt,Math.min(ze,k))],ce=[I=Math.max(rt,Math.min(ze,I)),q=Math.max(rt,Math.min(ze,q))];ni(re,ce,t,e,n,l)?(b||(f.lineStart(),f.point(re[0],re[1])),f.point(ce[0],ce[1]),ee||f.lineEnd(),D=!1):ee&&(f.lineStart(),f.point(I,q),D=!1)}m=I,k=q,b=ee}return S}}const Nt=t=>t;var Et=new He,Ht=new He,_l,ml,Pt,Vt,Ce={point:de,lineStart:de,lineEnd:de,polygonStart:function(){Ce.lineStart=ii,Ce.lineEnd=oi},polygonEnd:function(){Ce.lineStart=Ce.lineEnd=Ce.point=de,Et.add(J(Ht)),Ht=new He},result:function(){var t=Et/2;return Et=new He,t}};function ii(){Ce.point=ri}function ri(t,e){Ce.point=wl,_l=Pt=t,ml=Vt=e}function wl(t,e){Ht.add(Vt*t-Pt*e),Pt=t,Vt=e}function oi(){wl(_l,ml)}var je=1/0,ft=je,xe=-je,ut=xe,ct={point:si,lineStart:de,lineEnd:de,polygonStart:de,polygonEnd:de,result:function(){var t=[[je,ft],[xe,ut]];return xe=ut=-(ft=je=1/0),t}};function si(t,e){t<je&&(je=t),t>xe&&(xe=t),e<ft&&(ft=e),e>ut&&(ut=e)}var At=0,Ft=0,Oe=0,ht=0,dt=0,Ue=0,Ut=0,qt=0,Ze=0,kl,El,ke,Ee,he={point:Pe,lineStart:ln,lineEnd:rn,polygonStart:function(){he.lineStart=ui,he.lineEnd=ci},polygonEnd:function(){he.point=Pe,he.lineStart=ln,he.lineEnd=rn},result:function(){var t=Ze?[Ut/Ze,qt/Ze]:Ue?[ht/Ue,dt/Ue]:Oe?[At/Oe,Ft/Oe]:[NaN,NaN];return At=Ft=Oe=ht=dt=Ue=Ut=qt=Ze=0,t}};function Pe(t,e){At+=t,Ft+=e,++Oe}function ln(){he.point=ai}function ai(t,e){he.point=fi,Pe(ke=t,Ee=e)}function fi(t,e){var n=t-ke,l=e-Ee,i=Ve(n*n+l*l);ht+=i*(ke+t)/2,dt+=i*(Ee+e)/2,Ue+=i,Pe(ke=t,Ee=e)}function rn(){he.point=Pe}function ui(){he.point=hi}function ci(){yl(kl,El)}function hi(t,e){he.point=yl,Pe(kl=ke=t,El=Ee=e)}function yl(t,e){var n=t-ke,l=e-Ee,i=Ve(n*n+l*l);ht+=i*(ke+t)/2,dt+=i*(Ee+e)/2,Ue+=i,i=Ee*t-ke*e,Ut+=i*(ke+t),qt+=i*(Ee+e),Ze+=i*3,Pe(ke=t,Ee=e)}function bl(t){this._context=t}bl.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,ue);break}}},result:de};var jt=new He,yt,Cl,Sl,Ye,Xe,et={point:de,lineStart:function(){et.point=di},lineEnd:function(){yt&&Dl(Cl,Sl),et.point=de},polygonStart:function(){yt=!0},polygonEnd:function(){yt=null},result:function(){var t=+jt;return jt=new He,t}};function di(t,e){et.point=Dl,Cl=Ye=t,Sl=Xe=e}function Dl(t,e){Ye-=t,Xe-=e,jt.add(Ve(Ye*Ye+Xe*Xe)),Ye=t,Xe=e}let on,pt,sn,an;class fn{constructor(e){this._append=e==null?Ll:pi(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==sn||this._append!==pt){const l=this._radius,i=this._;this._="",this._append`m0,${l}a${l},${l} 0 1,1 0,${-2*l}a${l},${l} 0 1,1 0,${2*l}z`,sn=l,pt=this._append,an=this._,this._=i}this._+=an;break}}}result(){const e=this._;return this._="",e.length?e:null}}function Ll(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function pi(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return Ll;if(e!==on){const n=10**e;on=e,pt=function(i){let r=1;this._+=i[0];for(const o=i.length;r<o;++r)this._+=Math.round(arguments[r]*n)/n+i[r]}}return pt}function vt(t,e){let n=3,l=4.5,i,r;function o(s){return s&&(typeof l=="function"&&r.pointRadius(+l.apply(this,arguments)),Fe(s,i(r))),r.result()}return o.area=function(s){return Fe(s,i(Ce)),Ce.result()},o.measure=function(s){return Fe(s,i(et)),et.result()},o.bounds=function(s){return Fe(s,i(ct)),ct.result()},o.centroid=function(s){return Fe(s,i(he)),he.result()},o.projection=function(s){return arguments.length?(i=s==null?(t=null,Nt):(t=s).stream,o):t},o.context=function(s){return arguments.length?(r=s==null?(e=null,new fn(n)):new bl(e=s),typeof l!="function"&&r.pointRadius(l),o):e},o.pointRadius=function(s){return arguments.length?(l=typeof s=="function"?s:(r.pointRadius(+s),+s),o):l},o.digits=function(s){if(!arguments.length)return n;if(s==null)n=null;else{const a=Math.floor(s);if(!(a>=0))throw new RangeError(`invalid digits: ${s}`);n=a}return e===null&&(r=new fn(n)),o},o.projection(t).digits(n).context(e)}function Wt(t){return function(e){var n=new Gt;for(var l in t)n[l]=t[l];return n.stream=e,n}}function Gt(){}Gt.prototype={constructor:Gt,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function zt(t,e,n){var l=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),l!=null&&t.clipExtent(null),Fe(n,t.stream(ct)),e(ct.result()),l!=null&&t.clipExtent(l),t}function Il(t,e,n){return zt(t,function(l){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],o=Math.min(i/(l[1][0]-l[0][0]),r/(l[1][1]-l[0][1])),s=+e[0][0]+(i-o*(l[1][0]+l[0][0]))/2,a=+e[0][1]+(r-o*(l[1][1]+l[0][1]))/2;t.scale(150*o).translate([s,a])},n)}function vi(t,e,n){return Il(t,[[0,0],e],n)}function gi(t,e,n){return zt(t,function(l){var i=+e,r=i/(l[1][0]-l[0][0]),o=(i-r*(l[1][0]+l[0][0]))/2,s=-r*l[0][1];t.scale(150*r).translate([o,s])},n)}function _i(t,e,n){return zt(t,function(l){var i=+e,r=i/(l[1][1]-l[0][1]),o=-r*l[0][0],s=(i-r*(l[1][1]+l[0][1]))/2;t.scale(150*r).translate([o,s])},n)}var un=16,mi=Q(30*te);function cn(t,e){return+e?ki(t,e):wi(t)}function wi(t){return Wt({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function ki(t,e){function n(l,i,r,o,s,a,c,f,u,d,g,w,p,v){var _=c-l,m=f-i,k=_*_+m*m;if(k>4*e&&p--){var b=o+d,E=s+g,D=a+w,S=Ve(b*b+E*E+D*D),L=$e(D/=S),N=J(J(D)-1)<K||J(r-u)<K?(r+u)/2:Qe(E,b),A=t(N,L),P=A[0],V=A[1],F=P-l,B=V-i,I=m*F-_*B;(I*I/k>e||J((_*F+m*B)/k-.5)>.3||o*d+s*g+a*w<mi)&&(n(l,i,r,o,s,a,P,V,N,b/=S,E/=S,D,p,v),v.point(P,V),n(P,V,N,b,E,D,c,f,u,d,g,w,p,v))}}return function(l){var i,r,o,s,a,c,f,u,d,g,w,p,v={point:_,lineStart:m,lineEnd:b,polygonStart:function(){l.polygonStart(),v.lineStart=E},polygonEnd:function(){l.polygonEnd(),v.lineStart=m}};function _(L,N){L=t(L,N),l.point(L[0],L[1])}function m(){u=NaN,v.point=k,l.lineStart()}function k(L,N){var A=qe([L,N]),P=t(L,N);n(u,d,f,g,w,p,u=P[0],d=P[1],f=L,g=A[0],w=A[1],p=A[2],un,l),l.point(u,d)}function b(){v.point=_,l.lineEnd()}function E(){m(),v.point=D,v.lineEnd=S}function D(L,N){k(i=L,N),r=u,o=d,s=g,a=w,c=p,v.point=k}function S(){n(u,d,f,g,w,p,r,o,i,s,a,c,un,l),v.lineEnd=b,b()}return v}}var Ei=Wt({point:function(t,e){this.stream.point(t*te,e*te)}});function yi(t){return Wt({point:function(e,n){var l=t(e,n);return this.stream.point(l[0],l[1])}})}function bi(t,e,n,l,i){function r(o,s){return o*=l,s*=i,[e+t*o,n-t*s]}return r.invert=function(o,s){return[(o-e)/t*l,(n-s)/t*i]},r}function hn(t,e,n,l,i,r){if(!r)return bi(t,e,n,l,i);var o=Q(r),s=$(r),a=o*t,c=s*t,f=o/t,u=s/t,d=(s*n-o*e)/t,g=(s*e+o*n)/t;function w(p,v){return p*=l,v*=i,[a*p-c*v+e,n-c*p-a*v]}return w.invert=function(p,v){return[l*(f*p-u*v+d),i*(g-u*p-f*v)]},w}function Ci(t){return Si(function(){return t})()}function Si(t){var e,n=150,l=480,i=250,r=0,o=0,s=0,a=0,c=0,f,u=0,d=1,g=1,w=null,p=nn,v=null,_,m,k,b=Nt,E=.5,D,S,L,N,A;function P(I){return L(I[0]*te,I[1]*te)}function V(I){return I=L.invert(I[0],I[1]),I&&[I[0]*fe,I[1]*fe]}P.stream=function(I){return N&&A===I?N:N=Ei(yi(f)(p(D(b(A=I)))))},P.preclip=function(I){return arguments.length?(p=I,w=void 0,B()):p},P.postclip=function(I){return arguments.length?(b=I,v=_=m=k=null,B()):b},P.clipAngle=function(I){return arguments.length?(p=+I?ti(w=I*te):(w=null,nn),B()):w*fe},P.clipExtent=function(I){return arguments.length?(b=I==null?(v=_=m=k=null,Nt):li(v=+I[0][0],_=+I[0][1],m=+I[1][0],k=+I[1][1]),B()):v==null?null:[[v,_],[m,k]]},P.scale=function(I){return arguments.length?(n=+I,F()):n},P.translate=function(I){return arguments.length?(l=+I[0],i=+I[1],F()):[l,i]},P.center=function(I){return arguments.length?(r=I[0]%360*te,o=I[1]%360*te,F()):[r*fe,o*fe]},P.rotate=function(I){return arguments.length?(s=I[0]%360*te,a=I[1]%360*te,c=I.length>2?I[2]%360*te:0,F()):[s*fe,a*fe,c*fe]},P.angle=function(I){return arguments.length?(u=I%360*te,F()):u*fe},P.reflectX=function(I){return arguments.length?(d=I?-1:1,F()):d<0},P.reflectY=function(I){return arguments.length?(g=I?-1:1,F()):g<0},P.precision=function(I){return arguments.length?(D=cn(S,E=I*I),B()):Ve(E)},P.fitExtent=function(I,q){return Il(P,I,q)},P.fitSize=function(I,q){return vi(P,I,q)},P.fitWidth=function(I,q){return gi(P,I,q)},P.fitHeight=function(I,q){return _i(P,I,q)};function F(){var I=hn(n,0,0,d,g,u).apply(null,e(r,o)),q=hn(n,l-I[0],i-I[1],d,g,u);return f=dl(s,a,c),S=Rt(e,q),L=Rt(f,S),D=cn(S,E),B()}function B(){return N=A=null,P}return function(){return e=t.apply(this,arguments),P.invert=e.invert&&V,F()}}function Ot(t,e){return[t,Wl(Ol((ae+e)/2))]}Ot.invert=function(t,e){return[t,2*hl(Bl(e))-ae]};function Ml(){return Di(Ot).scale(961/ue)}function Di(t){var e=Ci(t),n=e.center,l=e.scale,i=e.translate,r=e.clipExtent,o=null,s,a,c;e.scale=function(u){return arguments.length?(l(u),f()):l()},e.translate=function(u){return arguments.length?(i(u),f()):i()},e.center=function(u){return arguments.length?(n(u),f()):n()},e.clipExtent=function(u){return arguments.length?(u==null?o=s=a=c=null:(o=+u[0][0],s=+u[0][1],a=+u[1][0],c=+u[1][1]),f()):o==null?null:[[o,s],[a,c]]};function f(){var u=W*l(),d=e(Yl(e.rotate()).invert([0,0]));return r(o==null?[[d[0]-u,d[1]-u],[d[0]+u,d[1]+u]]:t===Ot?[[Math.max(d[0]-u,o),s],[Math.min(d[0]+u,a),c]]:[[o,Math.max(d[1]-u,s)],[a,Math.min(d[1]+u,c)]])}return f()}function Li(t){return t}function Ii(t){if(t==null)return Li;var e,n,l=t.scale[0],i=t.scale[1],r=t.translate[0],o=t.translate[1];return function(s,a){a||(e=n=0);var c=2,f=s.length,u=new Array(f);for(u[0]=(e+=s[0])*l+r,u[1]=(n+=s[1])*i+o;c<f;)u[c]=s[c],++c;return u}}function Mi(t,e){for(var n,l=t.length,i=l-e;i<--l;)n=t[i],t[i++]=t[l],t[l]=n}function bt(t,e){return typeof e=="string"&&(e=t.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(n){return dn(t,n)})}:dn(t,e)}function dn(t,e){var n=e.id,l=e.bbox,i=e.properties==null?{}:e.properties,r=Ri(t,e);return n==null&&l==null?{type:"Feature",properties:i,geometry:r}:l==null?{type:"Feature",id:n,properties:i,geometry:r}:{type:"Feature",id:n,bbox:l,properties:i,geometry:r}}function Ri(t,e){var n=Ii(t.transform),l=t.arcs;function i(f,u){u.length&&u.pop();for(var d=l[f<0?~f:f],g=0,w=d.length;g<w;++g)u.push(n(d[g],g));f<0&&Mi(u,w)}function r(f){return n(f)}function o(f){for(var u=[],d=0,g=f.length;d<g;++d)i(f[d],u);return u.length<2&&u.push(u[0]),u}function s(f){for(var u=o(f);u.length<4;)u.push(u[0]);return u}function a(f){return f.map(s)}function c(f){var u=f.type,d;switch(u){case"GeometryCollection":return{type:u,geometries:f.geometries.map(c)};case"Point":d=r(f.coordinates);break;case"MultiPoint":d=f.coordinates.map(r);break;case"LineString":d=o(f.arcs);break;case"MultiLineString":d=f.arcs.map(o);break;case"Polygon":d=a(f.arcs);break;case"MultiPolygon":d=f.arcs.map(a);break;default:return null}return{type:u,coordinates:d}}return c(e)}const Ne=ul(null),gt=ul(null);function Ti(t){let e,n,l,i,r;return{c(){e=Y("circle"),this.h()},l(o){e=X(o,"circle",{class:!0,id:!0,r:!0,cx:!0,cy:!0}),M(e).forEach(y),this.h()},h(){h(e,"class","secondary svelte-s3qdx5"),h(e,"id",n=t[0]["Unmatched ID"]),h(e,"r",l=t[1]<=768?2.5:5),h(e,"cx",i=t[0].cx),h(e,"cy",r=t[0].cy)},m(o,s){H(o,e,s)},p(o,s){s&1&&n!==(n=o[0]["Unmatched ID"])&&h(e,"id",n),s&2&&l!==(l=o[1]<=768?2.5:5)&&h(e,"r",l),s&1&&i!==(i=o[0].cx)&&h(e,"cx",i),s&1&&r!==(r=o[0].cy)&&h(e,"cy",r)},d(o){o&&y(e)}}}function Ni(t){let e,n,l,i,r,o,s,a,c,f,u,d,g,w,p,v,_,m,k;function b(S,L){return S[1]>768?Pi:Hi}let E=b(t),D=E(t);return{c(){e=Y("line"),o=Y("rect"),D.c(),c=Y("foreignObject"),f=R("div"),u=R("video"),d=R("track"),g=R("source"),p=R("source"),_=O(`
                    Your browser does not support the video tag.`),this.h()},l(S){e=X(S,"line",{class:!0,x1:!0,y1:!0,x2:!0,y2:!0}),M(e).forEach(y),o=X(S,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,ry:!0}),M(o).forEach(y),D.l(S),c=X(S,"foreignObject",{x:!0,y:!0,width:!0,height:!0,class:!0});var L=M(c);f=T(L,"DIV",{class:!0});var N=M(f);u=T(N,"VIDEO",{"webkit-playsinline":!0,class:!0});var A=M(u);d=T(A,"TRACK",{kind:!0}),g=T(A,"SOURCE",{src:!0,type:!0}),p=T(A,"SOURCE",{src:!0,type:!0}),_=Z(A,`
                    Your browser does not support the video tag.`),A.forEach(y),N.forEach(y),L.forEach(y),this.h()},h(){h(e,"class","line svelte-s3qdx5"),h(e,"x1",n=t[0].cx-t[7]),h(e,"y1",l=t[0].cy-Me),h(e,"x2",i=t[0].direction==="top"?t[0].cx-t[7]:t[0].cx+t[5]),h(e,"y2",r=t[0].cy-Me+(t[0].direction==="top"?t[6]:0)),h(o,"class","box svelte-s3qdx5"),h(o,"x",s=t[0].cx+t[5]),h(o,"y",a=t[0].cy-Me+t[6]-t[3]/2),h(o,"width",t[2]),h(o,"height",t[3]),h(o,"rx","10"),h(o,"ry","10"),h(d,"kind","captions"),Re(g.src,w="videos/"+t[0]["Reference Code"].trim()+".webm")||h(g,"src",w),h(g,"type","video/webm"),Re(p.src,v="videos/"+t[0]["Reference Code"].trim()+".mp4")||h(p,"src",v),h(p,"type","video/mp4"),u.autoplay=!0,u.loop=!0,u.muted=!0,h(u,"webkit-playsinline",""),u.playsInline=!0,h(u,"class","svelte-s3qdx5"),h(f,"class","svelte-s3qdx5"),h(c,"x",m=t[0].cx+t[5]),h(c,"y",k=t[0].cy-Me+t[6]-t[3]/2),h(c,"width",t[2]),h(c,"height",t[3]),h(c,"class","svelte-s3qdx5")},m(S,L){H(S,e,L),H(S,o,L),D.m(S,L),H(S,c,L),C(c,f),C(f,u),C(u,d),C(u,g),C(u,p),C(u,_)},p(S,L){L&129&&n!==(n=S[0].cx-S[7])&&h(e,"x1",n),L&1&&l!==(l=S[0].cy-Me)&&h(e,"y1",l),L&161&&i!==(i=S[0].direction==="top"?S[0].cx-S[7]:S[0].cx+S[5])&&h(e,"x2",i),L&65&&r!==(r=S[0].cy-Me+(S[0].direction==="top"?S[6]:0))&&h(e,"y2",r),L&33&&s!==(s=S[0].cx+S[5])&&h(o,"x",s),L&73&&a!==(a=S[0].cy-Me+S[6]-S[3]/2)&&h(o,"y",a),L&4&&h(o,"width",S[2]),L&8&&h(o,"height",S[3]),E===(E=b(S))&&D?D.p(S,L):(D.d(1),D=E(S),D&&(D.c(),D.m(c.parentNode,c))),L&1&&!Re(g.src,w="videos/"+S[0]["Reference Code"].trim()+".webm")&&h(g,"src",w),L&1&&!Re(p.src,v="videos/"+S[0]["Reference Code"].trim()+".mp4")&&h(p,"src",v),L&33&&m!==(m=S[0].cx+S[5])&&h(c,"x",m),L&73&&k!==(k=S[0].cy-Me+S[6]-S[3]/2)&&h(c,"y",k),L&4&&h(c,"width",S[2]),L&8&&h(c,"height",S[3])},d(S){S&&(y(e),y(o),y(c)),D.d(S)}}}function Hi(t){let e,n,l;return{c(){e=Y("svg"),n=Y("path"),l=Y("circle"),this.h()},l(i){e=X(i,"svg",{x:!0,y:!0,width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var r=M(e);n=X(r,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0,class:!0}),M(n).forEach(y),l=X(r,"circle",{class:!0,cx:!0,cy:!0,fill:!0,stroke:!0}),M(l).forEach(y),r.forEach(y),this.h()},h(){h(n,"fill-rule","evenodd"),h(n,"clip-rule","evenodd"),h(n,"d","M20 0H0V15.6522L10 28.2609L20 15.6522V0ZM10 15.8967C13.1216 15.8967 15.6522 13.3266 15.6522 10.1562C15.6522 6.98586 13.1216 4.41576 10 4.41576C6.87839 4.41576 4.34783 6.98586 4.34783 10.1562C4.34783 13.3266 6.87839 15.8967 10 15.8967Z"),h(n,"fill","white"),h(n,"class","svelte-s3qdx5"),h(l,"class","hide svelte-s3qdx5"),h(l,"cx","10"),h(l,"cy","10.1562"),h(l,"fill","black"),h(l,"stroke","none"),h(e,"x",t[9]),h(e,"y",t[8]),h(e,"width","10"),h(e,"height","16"),h(e,"viewBox","0 0 20 29"),h(e,"fill","none"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","svelte-s3qdx5")},m(i,r){H(i,e,r),C(e,n),C(e,l)},p(i,r){r&512&&h(e,"x",i[9]),r&256&&h(e,"y",i[8])},d(i){i&&y(e)}}}function Pi(t){let e,n,l;return{c(){e=Y("svg"),n=Y("path"),l=Y("circle"),this.h()},l(i){e=X(i,"svg",{x:!0,y:!0,width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var r=M(e);n=X(r,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0,class:!0}),M(n).forEach(y),l=X(r,"circle",{class:!0,cx:!0,cy:!0,fill:!0,stroke:!0}),M(l).forEach(y),r.forEach(y),this.h()},h(){h(n,"fill-rule","evenodd"),h(n,"clip-rule","evenodd"),h(n,"d","M20 0H0V15.6522L10 28.2609L20 15.6522V0ZM10 15.8967C13.1216 15.8967 15.6522 13.3266 15.6522 10.1562C15.6522 6.98586 13.1216 4.41576 10 4.41576C6.87839 4.41576 4.34783 6.98586 4.34783 10.1562C4.34783 13.3266 6.87839 15.8967 10 15.8967Z"),h(n,"fill","white"),h(n,"class","svelte-s3qdx5"),h(l,"class","hide svelte-s3qdx5"),h(l,"cx","10"),h(l,"cy","10.1562"),h(l,"fill","black"),h(l,"stroke","none"),h(e,"x",t[9]),h(e,"y",t[8]),h(e,"width","15"),h(e,"height","24"),h(e,"viewBox","0 0 20 29"),h(e,"fill","none"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","svelte-s3qdx5")},m(i,r){H(i,e,r),C(e,n),C(e,l)},p(i,r){r&512&&h(e,"x",i[9]),r&256&&h(e,"y",i[8])},d(i){i&&y(e)}}}function Vi(t){let e,n,l,i;function r(a,c){return a[0]["Reference Code"]&&a[0]["Show Tooltip"]=="TRUE"?Ni:Ti}let o=r(t),s=o(t);return{c(){e=Y("g"),s.c(),this.h()},l(a){e=X(a,"g",{id:!0,class:!0});var c=M(e);s.l(c),c.forEach(y),this.h()},h(){h(e,"id",n=t[0]["Reference Code"]),h(e,"class","svelte-s3qdx5"),Zt(e,"selected",t[4])},m(a,c){H(a,e,c),s.m(e,null),l||(i=_t(e,"click",t[10]),l=!0)},p(a,[c]){o===(o=r(a))&&s?s.p(a,c):(s.d(1),s=o(a),s&&(s.c(),s.m(e,null))),c&1&&n!==(n=a[0]["Reference Code"])&&h(e,"id",n),c&16&&Zt(e,"selected",a[4])},i:le,o:le,d(a){a&&y(e),s.d(),l=!1,i()}}}let Me=29;function Ai(t,e,n){let l,i,r,o,s;Je(t,gt,_=>n(12,o=_)),Je(t,Ne,_=>n(11,s=_));let{point:a}=e,{w:c}=e,f=195,u=122,d="",g=0,w=0;function p(_){const m=a["Group ID"]||null,k=o.filter(b=>b["Group ID"]===m&&b["Unmatched ID"]!==a["Unmatched ID"]);Ne.set({...a,cx:a.cx,cy:a.cy,lat:a.lat,lon:a.lon,id:a["Unmatched ID"],related:k.map(b=>({...b,cx:b.cx,cy:b.cy,lat:b.lat,lon:b.lon,id:b["Unmatched ID"]}))}),v(_)}function v(_){let m;if(_ instanceof Event&&(m=_.target.closest("g"),m&&m.parentNode&&m.parentNode.appendChild(m)),_!=null&&_["Unmatched ID"]){m=document.getElementById(a["Unmatched ID"]);const k=document.querySelector(".points");if(m&&m.parentNode){const b=m.parentNode;k.appendChild(b)}}}return t.$$set=_=>{"point"in _&&n(0,a=_.point),"w"in _&&n(1,c=_.w)},t.$$.update=()=>{t.$$.dirty&15&&(c<=768?(n(2,f=c/7.38),n(3,u=c/11.8),a.direction.startsWith("left")||a.direction.startsWith("right")?n(7,w=a.direction.startsWith("left")?1:9):n(7,w=5)):(n(2,f=195),n(3,u=122),a.direction.startsWith("left")||a.direction.startsWith("right")?n(7,w=a.direction.startsWith("left")?-4:9):n(7,w=2)),a.direction.startsWith("right")?a.direction==="right"?n(5,d=u/2):a.direction==="right-1"?n(5,d=u):a.direction==="right-2"&&n(5,d=u*2):a.direction.startsWith("left")?a.direction==="left"?n(5,d=-(f+u/2)):a.direction==="left-1"?n(5,d=-(f+u)):a.direction==="left-2"&&n(5,d=-(f+u*2)):a.direction==="top"&&(n(5,d=-(f/2)),n(6,g=-u/1.3))),t.$$.dirty&2049&&n(4,l=(s==null?void 0:s.cx)==a.cx&&(s==null?void 0:s.cy)==a.cy),t.$$.dirty&17&&l&&v(a),t.$$.dirty&1&&n(9,i=a.cx-10),t.$$.dirty&1&&n(8,r=a.cy-30)},[a,c,f,u,l,d,g,w,r,i,p,s]}class Rl extends Le{constructor(e){super(),Ie(this,e,Ai,Vi,De,{point:0,w:1})}}function pn(t,e,n){const l=t.slice();return l[17]=e[n],l[19]=n,l}function vn(t,e,n){const l=t.slice();return l[17]=e[n],l[19]=n,l}function gn(t,e,n){const l=t.slice();return l[21]=e[n],l[19]=n,l}function _n(t,e,n){const l=t.slice();return l[21]=e[n],l[19]=n,l}function mn(t){let e,n,l,i,r,o=t[6].length>0&&wn(t),s=ne(t[1]),a=[];for(let p=0;p<s.length;p+=1)a[p]=En(gn(t,s,p));let c=ne(t[7]),f=[];for(let p=0;p<c.length;p+=1)f[p]=bn(vn(t,c,p));const u=p=>z(f[p],1,1,()=>{f[p]=null});let d=ne(t[8]),g=[];for(let p=0;p<d.length;p+=1)g[p]=Sn(pn(t,d,p));const w=p=>z(g[p],1,1,()=>{g[p]=null});return{c(){e=Y("svg"),o&&o.c(),n=Y("g");for(let p=0;p<a.length;p+=1)a[p].c();l=Y("g");for(let p=0;p<f.length;p+=1)f[p].c();i=ie();for(let p=0;p<g.length;p+=1)g[p].c();this.h()},l(p){e=X(p,"svg",{width:!0,height:!0});var v=M(e);o&&o.l(v),n=X(v,"g",{class:!0});var _=M(n);for(let k=0;k<a.length;k+=1)a[k].l(_);_.forEach(y),l=X(v,"g",{class:!0});var m=M(l);for(let k=0;k<f.length;k+=1)f[k].l(m);i=ie();for(let k=0;k<g.length;k+=1)g[k].l(m);m.forEach(y),v.forEach(y),this.h()},h(){h(n,"class","streets svelte-hkkn8l"),h(l,"class","points"),h(e,"width",t[3]),h(e,"height",t[4])},m(p,v){H(p,e,v),o&&o.m(e,null),C(e,n);for(let _=0;_<a.length;_+=1)a[_]&&a[_].m(n,null);C(e,l);for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(l,null);C(l,i);for(let _=0;_<g.length;_+=1)g[_]&&g[_].m(l,null);r=!0},p(p,v){if(p[6].length>0?o?o.p(p,v):(o=wn(p),o.c(),o.m(e,n)):o&&(o.d(1),o=null),v&34){s=ne(p[1]);let _;for(_=0;_<s.length;_+=1){const m=gn(p,s,_);a[_]?a[_].p(m,v):(a[_]=En(m),a[_].c(),a[_].m(n,null))}for(;_<a.length;_+=1)a[_].d(1);a.length=s.length}if(v&129){c=ne(p[7]);let _;for(_=0;_<c.length;_+=1){const m=vn(p,c,_);f[_]?(f[_].p(m,v),U(f[_],1)):(f[_]=bn(m),f[_].c(),U(f[_],1),f[_].m(l,i))}for(pe(),_=c.length;_<f.length;_+=1)u(_);ve()}if(v&257){d=ne(p[8]);let _;for(_=0;_<d.length;_+=1){const m=pn(p,d,_);g[_]?(g[_].p(m,v),U(g[_],1)):(g[_]=Sn(m),g[_].c(),U(g[_],1),g[_].m(l,null))}for(pe(),_=d.length;_<g.length;_+=1)w(_);ve()}(!r||v&8)&&h(e,"width",p[3]),(!r||v&16)&&h(e,"height",p[4])},i(p){if(!r){for(let v=0;v<c.length;v+=1)U(f[v]);for(let v=0;v<d.length;v+=1)U(g[v]);r=!0}},o(p){f=f.filter(Boolean);for(let v=0;v<f.length;v+=1)z(f[v]);g=g.filter(Boolean);for(let v=0;v<g.length;v+=1)z(g[v]);r=!1},d(p){p&&y(e),o&&o.d(),Se(a,p),Se(f,p),Se(g,p)}}}function wn(t){let e,n=ne(t[6]),l=[];for(let i=0;i<n.length;i+=1)l[i]=kn(_n(t,n,i));return{c(){e=Y("g");for(let i=0;i<l.length;i+=1)l[i].c();this.h()},l(i){e=X(i,"g",{class:!0});var r=M(e);for(let o=0;o<l.length;o+=1)l[o].l(r);r.forEach(y),this.h()},h(){h(e,"class","boundary svelte-hkkn8l")},m(i,r){H(i,e,r);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(i,r){if(r&96){n=ne(i[6]);let o;for(o=0;o<n.length;o+=1){const s=_n(i,n,o);l[o]?l[o].p(s,r):(l[o]=kn(s),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(i){i&&y(e),Se(l,i)}}}function kn(t){let e,n;return{c(){e=Y("path"),this.h()},l(l){e=X(l,"path",{d:!0,class:!0}),M(e).forEach(y),this.h()},h(){h(e,"d",n=t[5](t[21])),h(e,"class","boundary svelte-hkkn8l")},m(l,i){H(l,e,i)},p(l,i){i&96&&n!==(n=l[5](l[21]))&&h(e,"d",n)},d(l){l&&y(e)}}}function En(t){let e,n;return{c(){e=Y("path"),this.h()},l(l){e=X(l,"path",{d:!0,class:!0}),M(e).forEach(y),this.h()},h(){h(e,"d",n=t[5](t[21])),h(e,"class","street")},m(l,i){H(l,e,i)},p(l,i){i&34&&n!==(n=l[5](l[21]))&&h(e,"d",n)},d(l){l&&y(e)}}}function yn(t){let e,n;return e=new Rl({props:{point:t[17],w:t[0]}}),{c(){ge(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,i){me(e,l,i),n=!0},p(l,i){const r={};i&128&&(r.point=l[17]),i&1&&(r.w=l[0]),e.$set(r)},i(l){n||(U(e.$$.fragment,l),n=!0)},o(l){z(e.$$.fragment,l),n=!1},d(l){we(e,l)}}}function bn(t){let e,n,l=t[17].cx&&t[17].cy&&yn(t);return{c(){l&&l.c(),e=ie()},l(i){l&&l.l(i),e=ie()},m(i,r){l&&l.m(i,r),H(i,e,r),n=!0},p(i,r){i[17].cx&&i[17].cy?l?(l.p(i,r),r&128&&U(l,1)):(l=yn(i),l.c(),U(l,1),l.m(e.parentNode,e)):l&&(pe(),z(l,1,1,()=>{l=null}),ve())},i(i){n||(U(l),n=!0)},o(i){z(l),n=!1},d(i){i&&y(e),l&&l.d(i)}}}function Cn(t){let e,n;return e=new Rl({props:{point:t[17],w:t[0]}}),{c(){ge(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,i){me(e,l,i),n=!0},p(l,i){const r={};i&256&&(r.point=l[17]),i&1&&(r.w=l[0]),e.$set(r)},i(l){n||(U(e.$$.fragment,l),n=!0)},o(l){z(e.$$.fragment,l),n=!1},d(l){we(e,l)}}}function Sn(t){let e,n,l=t[17].cx&&t[17].cy&&Cn(t);return{c(){l&&l.c(),e=ie()},l(i){l&&l.l(i),e=ie()},m(i,r){l&&l.m(i,r),H(i,e,r),n=!0},p(i,r){i[17].cx&&i[17].cy?l?(l.p(i,r),r&256&&U(l,1)):(l=Cn(i),l.c(),U(l,1),l.m(e.parentNode,e)):l&&(pe(),z(l,1,1,()=>{l=null}),ve())},i(i){n||(U(l),n=!0)},o(i){z(l),n=!1},d(i){i&&y(e),l&&l.d(i)}}}function Fi(t){let e,n,l,i=t[1].length>0&&mn(t);return{c(){e=R("article"),i&&i.c(),this.h()},l(r){e=T(r,"ARTICLE",{class:!0});var o=M(e);i&&i.l(o),o.forEach(y),this.h()},h(){h(e,"class","map svelte-hkkn8l"),Vl(()=>t[13].call(e))},m(r,o){H(r,e,o),i&&i.m(e,null),t[12](e),n=Al(e,t[13].bind(e)),l=!0},p(r,[o]){r[1].length>0?i?(i.p(r,o),o&2&&U(i,1)):(i=mn(r),i.c(),U(i,1),i.m(e,null)):i&&(pe(),z(i,1,1,()=>{i=null}),ve())},i(r){l||(U(i),l=!0)},o(r){z(i),l=!1},d(r){r&&y(e),i&&i.d(),t[12](null),n()}}}function Ui(t,e,n){let l,i,r;Je(t,gt,k=>n(11,r=k));let{data:o}=e,s,a,c=0,f=0,u,d,g=[],w=[],p=[];function v(k){u=Ml().rotate([-48,48]).scale(1).translate([0,0]);const E=vt().projection(u).bounds({type:"FeatureCollection",features:g}),D=E[1][0]-E[0][0],S=E[1][1]-E[0][1],L=(E[0][0]+E[1][0])/2;E[0][1]+E[1][1];const N=[100,10,20],A=(k-N[0])/D,P=[k/2-A*L,(-A-N[1])*E[0][1]+E[1][1]];u=u.scale(A).translate(P),n(5,d=vt().projection(u)),n(3,c=k),n(4,f=A*S+N[2]),Fl(gt,r=p.map(V=>{const[F,B]=u([V.lon,V.lat]);return{...V,cx:F,cy:B}}),r)}function _(k){mt[k?"unshift":"push"](()=>{s=k,n(2,s)})}function m(){a=this.clientWidth,n(0,a)}return t.$$set=k=>{"data"in k&&n(9,o=k.data)},t.$$.update=()=>{t.$$.dirty&2&&g.length===0&&(fetch("boundary.json").then(k=>k.json()).then(k=>{n(6,w=bt(k,k.objects.boundary).features)}),fetch("streets.json").then(k=>k.json()).then(k=>{n(1,g=bt(k,k.objects.streets).features)}),fetch("buildings2.json").then(k=>k.json()).then(k=>{bt(k,k.objects.test1).features})),t.$$.dirty&512&&n(10,p=o.map(k=>({...k,direction:k.Direction?k.Direction:Math.random()>.5?"left":"right",date:k["Date of incident"]}))),t.$$.dirty&3&&a&&g.length>0&&v(a),t.$$.dirty&1025&&p&&v(a),t.$$.dirty&2048&&n(8,l=r?r.filter(k=>k["Reference Code"]):[]),t.$$.dirty&2048&&n(7,i=r?r.filter(k=>!k["Reference Code"]):[])},[a,g,s,c,f,d,w,i,l,o,p,r,_,m]}let qi=class extends Le{constructor(e){super(),Ie(this,e,Ui,Fi,De,{data:9})}};function ji(t){let e,n='<svg class="marker svelte-m2lk42" width=".8rem" height=".8rem" viewBox="0 0 20 29" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M20 0H0V15.6522L10 28.2609L20 15.6522V0ZM10 15.8967C13.1216 15.8967 15.6522 13.3266 15.6522 10.1562C15.6522 6.98586 13.1216 4.41576 10 4.41576C6.87839 4.41576 4.34783 6.98586 4.34783 10.1562C4.34783 13.3266 6.87839 15.8967 10 15.8967Z" fill="white" class="svelte-m2lk42"></path></svg> <p class="explore svelte-m2lk42">Strike footage matched with civilian harm allegation</p> <svg class="marker svelte-m2lk42" width=".8rem" height=".8rem" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><ellipse cx="10" cy="10" rx="4" ry="4" fill="white" class="svelte-m2lk42"></ellipse></svg> <p class="svelte-m2lk42">Geolocated Israeli military strike footage</p>';return{c(){e=R("div"),e.innerHTML=n,this.h()},l(l){e=T(l,"DIV",{class:!0,"data-svelte-h":!0}),oe(e)!=="svelte-iimw29"&&(e.innerHTML=n),this.h()},h(){h(e,"class","legend svelte-m2lk42")},m(l,i){H(l,e,i)},p:le,i:le,o:le,d(l){l&&y(e)}}}class Tl extends Le{constructor(e){super(),Ie(this,e,null,ji,De,{})}}function Dn(t,e,n){const l=t.slice();return l[9]=e[n],l}function Ln(t){let e,n,l='<svg width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-ts752i"><path d="M8.48528 12.6065L9.54594 13.6672L10.6066 14.7278L2.12132 23.2131L0 21.0918L8.48528 12.6065Z" fill="#FC540D" class="svelte-ts752i"></path><path d="M10.6066 8.48528L9.54596 9.54594L8.4853 10.6066L1.68061e-05 2.12132L2.12134 0L10.6066 8.48528Z" fill="#FC540D" class="svelte-ts752i"></path><path d="M23.2133 21.0918L22.1526 22.1525L21.092 23.2132L12.6067 14.7279L14.728 12.6066L23.2133 21.0918Z" fill="#FC540D" class="svelte-ts752i"></path><path d="M21.092 -4.98836e-05L22.1526 1.06061L23.2133 2.12127L14.728 10.6066L12.6067 8.48523L21.092 -4.98836e-05Z" fill="#FC540D" class="svelte-ts752i"></path></svg>',i,r,o,s,a,c,f,u,d,g,w,p,v,_,m=(t[0]["Reference Code"]||t[0]["Group ID"]||t[0]["Unmatched ID"])&&In(t),k=t[0].related&&t[0].related.length>0&&Mn(),b=t[0].Title&&Rn(t),E=t[0]["Post date"]&&Tn(t),D=(t[0].Location||t[0].lat||t[0].lon)&&Nn(t),S=t[0]["Civilians reported killed"]&&Vn(t),L=t[0]["Footage link"]&&An(t),N=t[0]["External Geolocation Credit"]&&Fn(t),A=t[0]["Civilians reported killed"]&&Un(t),P=t[0].related&&t[0].related.length>0&&qn(t);return{c(){e=R("div"),n=R("div"),n.innerHTML=l,i=j(),m&&m.c(),r=j(),k&&k.c(),o=j(),s=R("div"),a=R("div"),b&&b.c(),c=j(),E&&E.c(),f=j(),D&&D.c(),u=j(),S&&S.c(),d=j(),L&&L.c(),g=j(),N&&N.c(),w=j(),A&&A.c(),p=j(),P&&P.c(),this.h()},l(V){e=T(V,"DIV",{class:!0});var F=M(e);n=T(F,"DIV",{class:!0,"data-svelte-h":!0}),oe(n)!=="svelte-j1vfst"&&(n.innerHTML=l),i=G(F),m&&m.l(F),r=G(F),k&&k.l(F),o=G(F),s=T(F,"DIV",{class:!0});var B=M(s);a=T(B,"DIV",{class:!0});var I=M(a);b&&b.l(I),c=G(I),E&&E.l(I),f=G(I),D&&D.l(I),u=G(I),S&&S.l(I),d=G(I),L&&L.l(I),g=G(I),N&&N.l(I),I.forEach(y),B.forEach(y),w=G(F),A&&A.l(F),p=G(F),P&&P.l(F),F.forEach(y),this.h()},h(){h(n,"class","close svelte-ts752i"),h(a,"class","metadata svelte-ts752i"),h(s,"class","main svelte-ts752i"),h(e,"class","panel svelte-ts752i")},m(V,F){H(V,e,F),C(e,n),C(e,i),m&&m.m(e,null),C(e,r),k&&k.m(e,null),C(e,o),C(e,s),C(s,a),b&&b.m(a,null),C(a,c),E&&E.m(a,null),C(a,f),D&&D.m(a,null),C(a,u),S&&S.m(a,null),C(a,d),L&&L.m(a,null),C(a,g),N&&N.m(a,null),C(e,w),A&&A.m(e,null),C(e,p),P&&P.m(e,null),t[6](e),v||(_=_t(n,"click",t[4]),v=!0)},p(V,F){V[0]["Reference Code"]||V[0]["Group ID"]||V[0]["Unmatched ID"]?m?m.p(V,F):(m=In(V),m.c(),m.m(e,r)):m&&(m.d(1),m=null),V[0].related&&V[0].related.length>0?k||(k=Mn(),k.c(),k.m(e,o)):k&&(k.d(1),k=null),V[0].Title?b?b.p(V,F):(b=Rn(V),b.c(),b.m(a,c)):b&&(b.d(1),b=null),V[0]["Post date"]?E?E.p(V,F):(E=Tn(V),E.c(),E.m(a,f)):E&&(E.d(1),E=null),V[0].Location||V[0].lat||V[0].lon?D?D.p(V,F):(D=Nn(V),D.c(),D.m(a,u)):D&&(D.d(1),D=null),V[0]["Civilians reported killed"]?S?S.p(V,F):(S=Vn(V),S.c(),S.m(a,d)):S&&(S.d(1),S=null),V[0]["Footage link"]?L?L.p(V,F):(L=An(V),L.c(),L.m(a,g)):L&&(L.d(1),L=null),V[0]["External Geolocation Credit"]?N?N.p(V,F):(N=Fn(V),N.c(),N.m(a,null)):N&&(N.d(1),N=null),V[0]["Civilians reported killed"]?A?A.p(V,F):(A=Un(V),A.c(),A.m(e,p)):A&&(A.d(1),A=null),V[0].related&&V[0].related.length>0?P?P.p(V,F):(P=qn(V),P.c(),P.m(e,null)):P&&(P.d(1),P=null)},d(V){V&&y(e),m&&m.d(),k&&k.d(),b&&b.d(),E&&E.d(),D&&D.d(),S&&S.d(),L&&L.d(),N&&N.d(),A&&A.d(),P&&P.d(),t[6](null),v=!1,_()}}}function In(t){let e,n,l,i,r,o,s,a;return{c(){e=R("div"),n=R("video"),l=R("track"),i=R("source"),o=R("source"),a=O(`
                    Your browser does not support the video tag.`),this.h()},l(c){e=T(c,"DIV",{class:!0});var f=M(e);n=T(f,"VIDEO",{"webkit-playsinline":!0,class:!0});var u=M(n);l=T(u,"TRACK",{kind:!0}),i=T(u,"SOURCE",{src:!0,type:!0}),o=T(u,"SOURCE",{src:!0,type:!0}),a=Z(u,`
                    Your browser does not support the video tag.`),u.forEach(y),f.forEach(y),this.h()},h(){h(l,"kind","captions"),Re(i.src,r="videos/"+(t[0]["Reference Code"].trim()||t[0]["Group ID"].trim()||t[0]["Unmatched ID"].trim())+".webm")||h(i,"src",r),h(i,"type","video/webm"),Re(o.src,s="videos/"+(t[0]["Reference Code"].trim()||t[0]["Group ID"].trim()||t[0]["Unmatched ID"].trim())+".mp4")||h(o,"src",s),h(o,"type","video/mp4"),n.autoplay=!0,n.loop=!0,n.muted=!0,h(n,"webkit-playsinline",""),n.playsInline=!0,h(n,"class","svelte-ts752i"),h(e,"class","video svelte-ts752i")},m(c,f){H(c,e,f),C(e,n),C(n,l),C(n,i),C(n,o),C(n,a)},p(c,f){f&1&&!Re(i.src,r="videos/"+(c[0]["Reference Code"].trim()||c[0]["Group ID"].trim()||c[0]["Unmatched ID"].trim())+".webm")&&h(i,"src",r),f&1&&!Re(o.src,s="videos/"+(c[0]["Reference Code"].trim()||c[0]["Group ID"].trim()||c[0]["Unmatched ID"].trim())+".mp4")&&h(o,"src",s)},d(c){c&&y(e)}}}function Mn(t){let e,n='<svg width="15" height="14" viewBox="0 0 15 14" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="3.5" cy="3.5" r="3.5" transform="matrix(1 0 0 -1 8 14)" fill="#FC540D"></circle><circle cx="3.5" cy="3.5" r="3.5" transform="matrix(1 0 0 -1 0 14)" fill="#FC540D"></circle><circle cx="3.5" cy="3.5" r="3.5" transform="matrix(1 0 0 -1 4 7)" fill="#FC540D"></circle></svg> <span>Several explosions from one strike</span>';return{c(){e=R("div"),e.innerHTML=n,this.h()},l(l){e=T(l,"DIV",{class:!0,"data-svelte-h":!0}),oe(e)!=="svelte-1h5bjg9"&&(e.innerHTML=n),this.h()},h(){h(e,"class","related svelte-ts752i")},m(l,i){H(l,e,i)},d(l){l&&y(e)}}}function Rn(t){let e,n,l=t[0].Title+"",i;return{c(){e=R("div"),n=R("h1"),i=O(l),this.h()},l(r){e=T(r,"DIV",{class:!0});var o=M(e);n=T(o,"H1",{class:!0});var s=M(n);i=Z(s,l),s.forEach(y),o.forEach(y),this.h()},h(){h(n,"class","svelte-ts752i"),h(e,"class","svelte-ts752i")},m(r,o){H(r,e,o),C(e,n),C(n,i)},p(r,o){o&1&&l!==(l=r[0].Title+"")&&x(i,l)},d(r){r&&y(e)}}}function Tn(t){let e,n,l="Date Posted",i,r,o=t[0]["Post date"]+"",s;return{c(){e=R("div"),n=R("h3"),n.textContent=l,i=j(),r=R("h2"),s=O(o),this.h()},l(a){e=T(a,"DIV",{class:!0});var c=M(e);n=T(c,"H3",{class:!0,"data-svelte-h":!0}),oe(n)!=="svelte-gk40gb"&&(n.textContent=l),i=G(c),r=T(c,"H2",{class:!0});var f=M(r);s=Z(f,o),f.forEach(y),c.forEach(y),this.h()},h(){h(n,"class","svelte-ts752i"),h(r,"class","svelte-ts752i"),h(e,"class","svelte-ts752i")},m(a,c){H(a,e,c),C(e,n),C(e,i),C(e,r),C(r,s)},p(a,c){c&1&&o!==(o=a[0]["Post date"]+"")&&x(s,o)},d(a){a&&y(e)}}}function Nn(t){let e,n,l=t[0].Location&&Hn(t),i=t[0].lat&&t[0].lon&&Pn(t);return{c(){l&&l.c(),e=j(),i&&i.c(),n=ie()},l(r){l&&l.l(r),e=G(r),i&&i.l(r),n=ie()},m(r,o){l&&l.m(r,o),H(r,e,o),i&&i.m(r,o),H(r,n,o)},p(r,o){r[0].Location?l?l.p(r,o):(l=Hn(r),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),r[0].lat&&r[0].lon?i?i.p(r,o):(i=Pn(r),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(r){r&&(y(e),y(n)),l&&l.d(r),i&&i.d(r)}}}function Hn(t){let e,n,l="Location",i;function r(a,c){return a[0].lat&&a[0].lon?Bi:Gi}let o=r(t),s=o(t);return{c(){e=R("div"),n=R("h3"),n.textContent=l,i=j(),s.c(),this.h()},l(a){e=T(a,"DIV",{class:!0});var c=M(e);n=T(c,"H3",{class:!0,"data-svelte-h":!0}),oe(n)!=="svelte-15gguv3"&&(n.textContent=l),i=G(c),s.l(c),c.forEach(y),this.h()},h(){h(n,"class","svelte-ts752i"),h(e,"class","svelte-ts752i")},m(a,c){H(a,e,c),C(e,n),C(e,i),s.m(e,null)},p(a,c){o===(o=r(a))&&s?s.p(a,c):(s.d(1),s=o(a),s&&(s.c(),s.m(e,null)))},d(a){a&&y(e),s.d()}}}function Gi(t){let e,n=t[0].Location+"",l;return{c(){e=R("h2"),l=O(n),this.h()},l(i){e=T(i,"H2",{class:!0});var r=M(e);l=Z(r,n),r.forEach(y),this.h()},h(){h(e,"class","svelte-ts752i")},m(i,r){H(i,e,r),C(e,l)},p(i,r){r&1&&n!==(n=i[0].Location+"")&&x(l,n)},d(i){i&&y(e)}}}function Bi(t){let e,n,l=t[0].Location+"",i,r;return{c(){e=R("a"),n=R("h2"),i=O(l),this.h()},l(o){e=T(o,"A",{class:!0,href:!0,target:!0});var s=M(e);n=T(s,"H2",{class:!0});var a=M(n);i=Z(a,l),a.forEach(y),s.forEach(y),this.h()},h(){h(n,"class","svelte-ts752i"),h(e,"class","link svelte-ts752i"),h(e,"href",r="http://maps.google.com/maps?z=20&t=k&q=loc:"+t[0].lat+","+t[0].lon+"&ll="+t[0].lat+","+t[0].lon),h(e,"target","_blank")},m(o,s){H(o,e,s),C(e,n),C(n,i)},p(o,s){s&1&&l!==(l=o[0].Location+"")&&x(i,l),s&1&&r!==(r="http://maps.google.com/maps?z=20&t=k&q=loc:"+o[0].lat+","+o[0].lon+"&ll="+o[0].lat+","+o[0].lon)&&h(e,"href",r)},d(o){o&&y(e)}}}function Pn(t){let e,n,l="Coordinates",i,r,o,s=Number(t[0].lat).toFixed(6)+"",a,c,f,u=Number(t[0].lon).toFixed(6)+"",d,g;return{c(){e=R("div"),n=R("h3"),n.textContent=l,i=j(),r=R("a"),o=R("h2"),a=O(s),c=O(`
                                ,
                                `),f=R("h2"),d=O(u),this.h()},l(w){e=T(w,"DIV",{class:!0});var p=M(e);n=T(p,"H3",{class:!0,"data-svelte-h":!0}),oe(n)!=="svelte-ep1dcb"&&(n.textContent=l),i=G(p),r=T(p,"A",{class:!0,href:!0,target:!0});var v=M(r);o=T(v,"H2",{class:!0});var _=M(o);a=Z(_,s),_.forEach(y),c=Z(v,`
                                ,
                                `),f=T(v,"H2",{class:!0});var m=M(f);d=Z(m,u),m.forEach(y),v.forEach(y),p.forEach(y),this.h()},h(){h(n,"class","svelte-ts752i"),h(o,"class","svelte-ts752i"),h(f,"class","svelte-ts752i"),h(r,"class","link svelte-ts752i"),h(r,"href",g="http://maps.google.com/maps?z=20&t=k&q=loc:"+t[0].lat+","+t[0].lon+"&ll="+t[0].lat+","+t[0].lon),h(r,"target","_blank"),h(e,"class","svelte-ts752i")},m(w,p){H(w,e,p),C(e,n),C(e,i),C(e,r),C(r,o),C(o,a),C(r,c),C(r,f),C(f,d)},p(w,p){p&1&&s!==(s=Number(w[0].lat).toFixed(6)+"")&&x(a,s),p&1&&u!==(u=Number(w[0].lon).toFixed(6)+"")&&x(d,u),p&1&&g!==(g="http://maps.google.com/maps?z=20&t=k&q=loc:"+w[0].lat+","+w[0].lon+"&ll="+w[0].lat+","+w[0].lon)&&h(r,"href",g)},d(w){w&&y(e)}}}function Vn(t){let e,n,l="Civilians reported killed",i,r,o=t[0]["Civilians reported killed"]+"",s;return{c(){e=R("div"),n=R("h3"),n.textContent=l,i=j(),r=R("h2"),s=O(o),this.h()},l(a){e=T(a,"DIV",{class:!0});var c=M(e);n=T(c,"H3",{class:!0,"data-svelte-h":!0}),oe(n)!=="svelte-107powc"&&(n.textContent=l),i=G(c),r=T(c,"H2",{class:!0});var f=M(r);s=Z(f,o),f.forEach(y),c.forEach(y),this.h()},h(){h(n,"class","svelte-ts752i"),h(r,"class","svelte-ts752i"),h(e,"class","svelte-ts752i")},m(a,c){H(a,e,c),C(e,n),C(e,i),C(e,r),C(r,s)},p(a,c){c&1&&o!==(o=a[0]["Civilians reported killed"]+"")&&x(s,o)},d(a){a&&y(e)}}}function An(t){let e,n,l="Source",i,r,o,s,a,c,f,u,d,g,w;function p(m,k){return k&1&&(d=null),k&1&&(g=null),d==null&&(d=!!m[0]["Footage link"].includes("IAFsite")),d?Oi:(g==null&&(g=!!(m[0]["Footage link"].includes("IDF")||m[0]["Footage link"].includes("idfonline"))),g?zi:Wi)}let v=p(t,-1),_=v(t);return{c(){e=R("div"),n=R("h3"),n.textContent=l,i=j(),r=R("span"),o=R("a"),s=Y("svg"),a=Y("rect"),c=Y("path"),f=j(),u=R("h2"),_.c(),this.h()},l(m){e=T(m,"DIV",{class:!0});var k=M(e);n=T(k,"H3",{class:!0,"data-svelte-h":!0}),oe(n)!=="svelte-x8n8kl"&&(n.textContent=l),i=G(k),r=T(k,"SPAN",{class:!0});var b=M(r);o=T(b,"A",{class:!0,href:!0,target:!0,rel:!0});var E=M(o);s=X(E,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var D=M(s);a=X(D,"rect",{width:!0,height:!0,rx:!0,fill:!0}),M(a).forEach(y),c=X(D,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,class:!0}),M(c).forEach(y),D.forEach(y),f=G(E),u=T(E,"H2",{style:!0,class:!0});var S=M(u);_.l(S),S.forEach(y),E.forEach(y),b.forEach(y),k.forEach(y),this.h()},h(){h(n,"class","svelte-ts752i"),h(a,"width","37.6627"),h(a,"height","37.6627"),h(a,"rx","18.8314"),h(a,"fill","#120908"),h(c,"fill-rule","evenodd"),h(c,"clip-rule","evenodd"),h(c,"d","M23.1892 8L29.6626 14.4734L24.5965 19.5396L20.0627 20.0627L19.5396 24.5966L14.4734 29.6627L8.00002 23.1893L13.0662 18.1232L17.5999 17.6L18.1231 13.0661L23.1892 8ZM24.8016 15.02L22.6438 12.8622L12.7179 22.7881L14.8757 24.9459L24.8016 15.02Z"),h(c,"class","svelte-ts752i"),h(s,"width","22"),h(s,"height","22"),h(s,"viewBox","0 0 38 38"),h(s,"fill","none"),h(s,"xmlns","http://www.w3.org/2000/svg"),h(s,"class","svelte-ts752i"),We(u,"display","inline"),h(u,"class","svelte-ts752i"),h(o,"class","footage-link svelte-ts752i"),h(o,"href",w=t[0]["Footage link"]),h(o,"target","_blank"),h(o,"rel","noopener noreferrer"),h(r,"class","ico svelte-ts752i"),h(e,"class","svelte-ts752i")},m(m,k){H(m,e,k),C(e,n),C(e,i),C(e,r),C(r,o),C(o,s),C(s,a),C(s,c),C(o,f),C(o,u),_.m(u,null)},p(m,k){v!==(v=p(m,k))&&(_.d(1),_=v(m),_&&(_.c(),_.m(u,null))),k&1&&w!==(w=m[0]["Footage link"])&&h(o,"href",w)},d(m){m&&y(e),_.d()}}}function Wi(t){let e;return{c(){e=O("Israeli military footage")},l(n){e=Z(n,"Israeli military footage")},m(n,l){H(n,e,l)},d(n){n&&y(e)}}}function zi(t){let e;return{c(){e=O("Israel Defense Forces")},l(n){e=Z(n,"Israel Defense Forces")},m(n,l){H(n,e,l)},d(n){n&&y(e)}}}function Oi(t){let e;return{c(){e=O("Israeli Air Force")},l(n){e=Z(n,"Israeli Air Force")},m(n,l){H(n,e,l)},d(n){n&&y(e)}}}function Fn(t){let e,n,l="External geolocation",i,r,o,s,a,c,f,u,d=t[0]["External Geolocation Credit"].replace("https://x.com/","")+"",g,w;return{c(){e=R("div"),n=R("h3"),n.textContent=l,i=j(),r=R("span"),o=R("a"),s=Y("svg"),a=Y("rect"),c=Y("path"),f=j(),u=R("h2"),g=O(d),this.h()},l(p){e=T(p,"DIV",{class:!0});var v=M(e);n=T(v,"H3",{class:!0,"data-svelte-h":!0}),oe(n)!=="svelte-e5gmtl"&&(n.textContent=l),i=G(v),r=T(v,"SPAN",{class:!0});var _=M(r);o=T(_,"A",{class:!0,href:!0,target:!0});var m=M(o);s=X(m,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var k=M(s);a=X(k,"rect",{width:!0,height:!0,rx:!0,fill:!0}),M(a).forEach(y),c=X(k,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,class:!0}),M(c).forEach(y),k.forEach(y),f=G(m),u=T(m,"H2",{class:!0});var b=M(u);g=Z(b,d),b.forEach(y),m.forEach(y),_.forEach(y),v.forEach(y),this.h()},h(){h(n,"class","svelte-ts752i"),h(a,"width","37.6627"),h(a,"height","37.6627"),h(a,"rx","18.8314"),h(a,"fill","#120908"),h(c,"fill-rule","evenodd"),h(c,"clip-rule","evenodd"),h(c,"d","M23.1892 8L29.6626 14.4734L24.5965 19.5396L20.0627 20.0627L19.5396 24.5966L14.4734 29.6627L8.00002 23.1893L13.0662 18.1232L17.5999 17.6L18.1231 13.0661L23.1892 8ZM24.8016 15.02L22.6438 12.8622L12.7179 22.7881L14.8757 24.9459L24.8016 15.02Z"),h(c,"class","svelte-ts752i"),h(s,"width","22"),h(s,"height","22"),h(s,"viewBox","0 0 38 38"),h(s,"fill","none"),h(s,"xmlns","http://www.w3.org/2000/svg"),h(s,"class","svelte-ts752i"),h(u,"class","svelte-ts752i"),h(o,"class","footage-link svelte-ts752i"),h(o,"href",w=t[0]["External Geolocation Credit"]),h(o,"target","_blank"),h(r,"class","ico svelte-ts752i"),h(e,"class","svelte-ts752i")},m(p,v){H(p,e,v),C(e,n),C(e,i),C(e,r),C(r,o),C(o,s),C(s,a),C(s,c),C(o,f),C(o,u),C(u,g)},p(p,v){v&1&&d!==(d=p[0]["External Geolocation Credit"].replace("https://x.com/","")+"")&&x(g,d),v&1&&w!==(w=p[0]["External Geolocation Credit"])&&h(o,"href",w)},d(p){p&&y(e)}}}function Un(t){let e,n,l='Full Incident report <svg width="22" height="15" viewBox="0 0 24 15" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-ts752i"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.0001 9V15L13.7565 15L23.2728 7.5L13.7565 0H11.0001V6L0.727539 6V9L11.0001 9ZM11.0001 9H15.7275V6H11.0001L11.0001 9Z" fill="black" class="svelte-ts752i"></path></svg>',i;return{c(){e=R("a"),n=R("button"),n.innerHTML=l,this.h()},l(r){e=T(r,"A",{href:!0,target:!0,class:!0});var o=M(e);n=T(o,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(n)!=="svelte-wkvdmi"&&(n.innerHTML=l),o.forEach(y),this.h()},h(){h(n,"class","svelte-ts752i"),h(e,"href",i=t[0].Report),h(e,"target","_blank"),h(e,"class","svelte-ts752i")},m(r,o){H(r,e,o),C(e,n)},p(r,o){o&1&&i!==(i=r[0].Report)&&h(e,"href",i)},d(r){r&&y(e)}}}function qn(t){let e,n="Other strikes in footage",l,i,r=ne(t[0].related),o=[];for(let s=0;s<r.length;s+=1)o[s]=On(Dn(t,r,s));return{c(){e=R("p"),e.textContent=n,l=j();for(let s=0;s<o.length;s+=1)o[s].c();i=ie(),this.h()},l(s){e=T(s,"P",{class:!0,"data-svelte-h":!0}),oe(e)!=="svelte-xotl0v"&&(e.textContent=n),l=G(s);for(let a=0;a<o.length;a+=1)o[a].l(s);i=ie(),this.h()},h(){h(e,"class","related-text svelte-ts752i")},m(s,a){H(s,e,a),H(s,l,a);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(s,a);H(s,i,a)},p(s,a){if(a&9){r=ne(s[0].related);let c;for(c=0;c<r.length;c+=1){const f=Dn(s,r,c);o[c]?o[c].p(f,a):(o[c]=On(f),o[c].c(),o[c].m(i.parentNode,i))}for(;c<o.length;c+=1)o[c].d(1);o.length=r.length}},d(s){s&&(y(e),y(l),y(i)),Se(o,s)}}}function jn(t){let e,n,l=t[9].Title+"",i;return{c(){e=R("div"),n=R("h1"),i=O(l),this.h()},l(r){e=T(r,"DIV",{class:!0});var o=M(e);n=T(o,"H1",{class:!0});var s=M(n);i=Z(s,l),s.forEach(y),o.forEach(y),this.h()},h(){h(n,"class","svelte-ts752i"),h(e,"class","svelte-ts752i")},m(r,o){H(r,e,o),C(e,n),C(n,i)},p(r,o){o&1&&l!==(l=r[9].Title+"")&&x(i,l)},d(r){r&&y(e)}}}function Gn(t){let e,n,l="Location",i,r,o=t[9].Location&&Bn(t),s=t[9].lat&&t[9].lon&&Wn(t);return{c(){e=R("div"),n=R("h3"),n.textContent=l,i=j(),o&&o.c(),r=j(),s&&s.c(),this.h()},l(a){e=T(a,"DIV",{class:!0});var c=M(e);n=T(c,"H3",{class:!0,"data-svelte-h":!0}),oe(n)!=="svelte-15gguv3"&&(n.textContent=l),i=G(c),o&&o.l(c),r=G(c),s&&s.l(c),c.forEach(y),this.h()},h(){h(n,"class","svelte-ts752i"),h(e,"class","svelte-ts752i")},m(a,c){H(a,e,c),C(e,n),C(e,i),o&&o.m(e,null),C(e,r),s&&s.m(e,null)},p(a,c){a[9].Location?o?o.p(a,c):(o=Bn(a),o.c(),o.m(e,r)):o&&(o.d(1),o=null),a[9].lat&&a[9].lon?s?s.p(a,c):(s=Wn(a),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(a){a&&y(e),o&&o.d(),s&&s.d()}}}function Bn(t){let e;function n(r,o){return r[9].lat&&r[9].lon?Yi:Zi}let l=n(t),i=l(t);return{c(){i.c(),e=ie()},l(r){i.l(r),e=ie()},m(r,o){i.m(r,o),H(r,e,o)},p(r,o){l===(l=n(r))&&i?i.p(r,o):(i.d(1),i=l(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){r&&y(e),i.d(r)}}}function Zi(t){let e,n=t[9].Location+"",l;return{c(){e=R("h2"),l=O(n),this.h()},l(i){e=T(i,"H2",{class:!0});var r=M(e);l=Z(r,n),r.forEach(y),this.h()},h(){h(e,"class","svelte-ts752i")},m(i,r){H(i,e,r),C(e,l)},p(i,r){r&1&&n!==(n=i[9].Location+"")&&x(l,n)},d(i){i&&y(e)}}}function Yi(t){let e,n,l=t[9].Location+"",i,r;return{c(){e=R("a"),n=R("h2"),i=O(l),this.h()},l(o){e=T(o,"A",{class:!0,href:!0,target:!0});var s=M(e);n=T(s,"H2",{class:!0});var a=M(n);i=Z(a,l),a.forEach(y),s.forEach(y),this.h()},h(){h(n,"class","svelte-ts752i"),h(e,"class","link svelte-ts752i"),h(e,"href",r="http://maps.google.com/maps?z=20&t=k&q=loc:"+t[9].lat+","+t[9].lon+"&ll="+t[9].lat+","+t[9].lon),h(e,"target","_blank")},m(o,s){H(o,e,s),C(e,n),C(n,i)},p(o,s){s&1&&l!==(l=o[9].Location+"")&&x(i,l),s&1&&r!==(r="http://maps.google.com/maps?z=20&t=k&q=loc:"+o[9].lat+","+o[9].lon+"&ll="+o[9].lat+","+o[9].lon)&&h(e,"href",r)},d(o){o&&y(e)}}}function Wn(t){let e,n,l=Number(t[9].lat).toFixed(6)+"",i,r,o,s=Number(t[9].lon).toFixed(6)+"",a;return{c(){e=R("span"),n=R("h2"),i=O(l),r=O(`
                                        ,
                                        `),o=R("h2"),a=O(s),this.h()},l(c){e=T(c,"SPAN",{class:!0});var f=M(e);n=T(f,"H2",{class:!0});var u=M(n);i=Z(u,l),u.forEach(y),r=Z(f,`
                                        ,
                                        `),o=T(f,"H2",{class:!0});var d=M(o);a=Z(d,s),d.forEach(y),f.forEach(y),this.h()},h(){h(n,"class","svelte-ts752i"),h(o,"class","svelte-ts752i"),h(e,"class","link svelte-ts752i")},m(c,f){H(c,e,f),C(e,n),C(n,i),C(e,r),C(e,o),C(o,a)},p(c,f){f&1&&l!==(l=Number(c[9].lat).toFixed(6)+"")&&x(i,l),f&1&&s!==(s=Number(c[9].lon).toFixed(6)+"")&&x(a,s)},d(c){c&&y(e)}}}function zn(t){let e,n,l="Incident Date",i,r,o=t[9]["Incident date"]+"",s;return{c(){e=R("div"),n=R("h3"),n.textContent=l,i=j(),r=R("h2"),s=O(o),this.h()},l(a){e=T(a,"DIV",{class:!0});var c=M(e);n=T(c,"H3",{class:!0,"data-svelte-h":!0}),oe(n)!=="svelte-ykyqoc"&&(n.textContent=l),i=G(c),r=T(c,"H2",{class:!0});var f=M(r);s=Z(f,o),f.forEach(y),c.forEach(y),this.h()},h(){h(n,"class","svelte-ts752i"),h(r,"class","svelte-ts752i"),h(e,"class","svelte-ts752i")},m(a,c){H(a,e,c),C(e,n),C(e,i),C(e,r),C(r,s)},p(a,c){c&1&&o!==(o=a[9]["Incident date"]+"")&&x(s,o)},d(a){a&&y(e)}}}function On(t){let e,n,l,i,r,o,s,a=t[9].Title&&jn(t),c=(t[9].Location||t[9].lat||t[9].lon)&&Gn(t),f=t[9]["Incident date"]&&zn(t);function u(...d){return t[5](t[9],...d)}return{c(){e=R("div"),n=R("div"),a&&a.c(),l=j(),c&&c.c(),i=j(),f&&f.c(),r=j(),this.h()},l(d){e=T(d,"DIV",{class:!0});var g=M(e);n=T(g,"DIV",{class:!0});var w=M(n);a&&a.l(w),l=G(w),c&&c.l(w),i=G(w),f&&f.l(w),w.forEach(y),r=G(g),g.forEach(y),this.h()},h(){h(n,"class","metadata svelte-ts752i"),h(e,"class","related-point svelte-ts752i")},m(d,g){H(d,e,g),C(e,n),a&&a.m(n,null),C(n,l),c&&c.m(n,null),C(n,i),f&&f.m(n,null),C(e,r),o||(s=_t(e,"click",u),o=!0)},p(d,g){t=d,t[9].Title?a?a.p(t,g):(a=jn(t),a.c(),a.m(n,l)):a&&(a.d(1),a=null),t[9].Location||t[9].lat||t[9].lon?c?c.p(t,g):(c=Gn(t),c.c(),c.m(n,i)):c&&(c.d(1),c=null),t[9]["Incident date"]?f?f.p(t,g):(f=zn(t),f.c(),f.m(n,null)):f&&(f.d(1),f=null)},d(d){d&&y(e),a&&a.d(),c&&c.d(),f&&f.d(),o=!1,s()}}}function Xi(t){let e,n=t[1]&&Ln(t);return{c(){n&&n.c(),e=ie()},l(l){n&&n.l(l),e=ie()},m(l,i){n&&n.m(l,i),H(l,e,i)},p(l,[i]){l[1]?n?n.p(l,i):(n=Ln(l),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:le,o:le,d(l){l&&y(e),n&&n.d(l)}}}function Ki(t,e,n){let l;Je(t,gt,d=>n(7,l=d));let i=!1,r=null,o;fl(()=>{document.addEventListener("click",s,!0)}),Ul(()=>{document.removeEventListener("click",s,!0)});function s(d){i&&o&&!o.contains(d.target)&&Ne.set(null)}function a(d){const g=d["Group ID"]||null,w=l.filter(p=>p["Group ID"]===g&&p["Unmatched ID"]!==d.id);Ne.set({...d,cx:d.cx,cy:d.cy,lat:d.lat,lon:d.lon,id:d["Unmatched ID"],related:w.map(p=>({...p,cx:p.cx,cy:p.cy,lat:p.lat,lon:p.lon,id:p["Unmatched ID"]}))})}const c=()=>Ne.set(null),f=(d,g)=>a(d);function u(d){mt[d?"unshift":"push"](()=>{o=d,n(2,o)})}return t.$$.update=()=>{t.$$.dirty&1&&Ne.subscribe(d=>{n(0,r=d),n(1,i=!!r)})},[r,i,o,a,c,f,u]}class Ji extends Le{constructor(e){super(),Ie(this,e,Ki,Xi,De,{})}}function Zn(t,e,n){const l=t.slice();return l[18]=e[n],l[20]=n,l}function Yn(t,e,n){const l=t.slice();return l[21]=e[n],l[20]=n,l}function Xn(t,e,n){const l=t.slice();return l[21]=e[n],l[20]=n,l}function Kn(t){let e,n,l,i,r,o,s,a,c,f=ne(t[2]),u=[];for(let v=0;v<f.length;v+=1)u[v]=Jn(Xn(t,f,v));let d=ne(t[6]),g=[];for(let v=0;v<d.length;v+=1)g[v]=Qn(Yn(t,d,v));let w=ne(t[3]),p=[];for(let v=0;v<w.length;v+=1)p[v]=xn(Zn(t,w,v));return{c(){e=Y("svg"),n=Y("g");for(let v=0;v<u.length;v+=1)u[v].c();l=Y("g");for(let v=0;v<g.length;v+=1)g[v].c();i=Y("g");for(let v=0;v<p.length;v+=1)p[v].c();r=Y("rect"),this.h()},l(v){e=X(v,"svg",{width:!0,height:!0});var _=M(e);n=X(_,"g",{class:!0});var m=M(n);for(let E=0;E<u.length;E+=1)u[E].l(m);m.forEach(y),l=X(_,"g",{class:!0});var k=M(l);for(let E=0;E<g.length;E+=1)g[E].l(k);k.forEach(y),i=X(_,"g",{class:!0});var b=M(i);for(let E=0;E<p.length;E+=1)p[E].l(b);b.forEach(y),r=X(_,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0,class:!0}),M(r).forEach(y),_.forEach(y),this.h()},h(){h(n,"class","boundary svelte-190di1o"),h(l,"class","streets svelte-190di1o"),h(i,"class","legend-points svelte-190di1o"),h(r,"x",o=t[7].x),h(r,"y",s=t[7].y),h(r,"width",a=t[7].width),h(r,"height",c=t[7].height),h(r,"fill","var(--primary-color)"),h(r,"stroke","red"),h(r,"stroke-width","0.5"),h(r,"class","svelte-190di1o"),h(e,"width",t[0]),h(e,"height",t[1])},m(v,_){H(v,e,_),C(e,n);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(n,null);C(e,l);for(let m=0;m<g.length;m+=1)g[m]&&g[m].m(l,null);C(e,i);for(let m=0;m<p.length;m+=1)p[m]&&p[m].m(i,null);C(e,r)},p(v,_){if(_&36){f=ne(v[2]);let m;for(m=0;m<f.length;m+=1){const k=Xn(v,f,m);u[m]?u[m].p(k,_):(u[m]=Jn(k),u[m].c(),u[m].m(n,null))}for(;m<u.length;m+=1)u[m].d(1);u.length=f.length}if(_&96){d=ne(v[6]);let m;for(m=0;m<d.length;m+=1){const k=Yn(v,d,m);g[m]?g[m].p(k,_):(g[m]=Qn(k),g[m].c(),g[m].m(l,null))}for(;m<g.length;m+=1)g[m].d(1);g.length=d.length}if(_&8){w=ne(v[3]);let m;for(m=0;m<w.length;m+=1){const k=Zn(v,w,m);p[m]?p[m].p(k,_):(p[m]=xn(k),p[m].c(),p[m].m(i,null))}for(;m<p.length;m+=1)p[m].d(1);p.length=w.length}_&128&&o!==(o=v[7].x)&&h(r,"x",o),_&128&&s!==(s=v[7].y)&&h(r,"y",s),_&128&&a!==(a=v[7].width)&&h(r,"width",a),_&128&&c!==(c=v[7].height)&&h(r,"height",c),_&1&&h(e,"width",v[0]),_&2&&h(e,"height",v[1])},d(v){v&&y(e),Se(u,v),Se(g,v),Se(p,v)}}}function Jn(t){let e,n;return{c(){e=Y("path"),this.h()},l(l){e=X(l,"path",{d:!0,class:!0}),M(e).forEach(y),this.h()},h(){h(e,"d",n=t[5](t[21])),h(e,"class","boundary svelte-190di1o")},m(l,i){H(l,e,i)},p(l,i){i&36&&n!==(n=l[5](l[21]))&&h(e,"d",n)},d(l){l&&y(e)}}}function Qn(t){let e,n;return{c(){e=Y("path"),this.h()},l(l){e=X(l,"path",{d:!0,class:!0}),M(e).forEach(y),this.h()},h(){h(e,"d",n=t[5](t[21])),h(e,"class","street")},m(l,i){H(l,e,i)},p(l,i){i&96&&n!==(n=l[5](l[21]))&&h(e,"d",n)},d(l){l&&y(e)}}}function $n(t){let e,n,l;return{c(){e=Y("circle"),this.h()},l(i){e=X(i,"circle",{cx:!0,cy:!0,r:!0,class:!0}),M(e).forEach(y),this.h()},h(){h(e,"cx",n=t[18].cx),h(e,"cy",l=t[18].cy),h(e,"r",1),h(e,"class","svelte-190di1o")},m(i,r){H(i,e,r)},p(i,r){r&8&&n!==(n=i[18].cx)&&h(e,"cx",n),r&8&&l!==(l=i[18].cy)&&h(e,"cy",l)},d(i){i&&y(e)}}}function xn(t){let e,n=t[18].cx&&t[18].cy&&$n(t);return{c(){n&&n.c(),e=ie()},l(l){n&&n.l(l),e=ie()},m(l,i){n&&n.m(l,i),H(l,e,i)},p(l,i){l[18].cx&&l[18].cy?n?n.p(l,i):(n=$n(l),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(l){l&&y(e),n&&n.d(l)}}}function Qi(t){let e,n=t[2].length>0&&Kn(t);return{c(){e=R("article"),n&&n.c(),this.h()},l(l){e=T(l,"ARTICLE",{class:!0});var i=M(e);n&&n.l(i),i.forEach(y),this.h()},h(){h(e,"class","map")},m(l,i){H(l,e,i),n&&n.m(e,null),t[13](e)},p(l,[i]){l[2].length>0?n?n.p(l,i):(n=Kn(l),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},i:le,o:le,d(l){l&&y(e),n&&n.d(),t[13](null)}}}function $i(t,e,n){let{data:l}=e,{windowWidth:i}=e,{scrollPercentage:r}=e,{containerHeight:o}=e,{viewportHeight:s}=e,a,c=i>800?100:50,f=i>800?300:150,u=0,d=0,g,w,p=[],v=[],_=[],m={};function k(E,D){g=Ml().rotate([-48,48]).scale(1).translate([0,0]);const L=vt().projection(g).bounds({type:"FeatureCollection",features:p}),N=L[1][0]-L[0][0],A=L[1][1]-L[0][1],P=(L[0][0]+L[1][0])/2,V=(L[0][1]+L[1][1])/2,F=[10,10],B=Math.min((E-F[0])/N,(D-F[1])/A),I=[E/2-B*P,D/2-B*V];g=g.scale(B).translate(I),n(5,w=vt().projection(g)),n(3,v=v.map(q=>{const[ee,re]=g([q.lon,q.lat]);return{...q,cx:ee,cy:re}})),n(0,u=E),n(1,d=D)}function b(E){mt[E?"unshift":"push"](()=>{a=E,n(4,a)})}return t.$$set=E=>{"data"in E&&n(8,l=E.data),"windowWidth"in E&&n(9,i=E.windowWidth),"scrollPercentage"in E&&n(10,r=E.scrollPercentage),"containerHeight"in E&&n(11,o=E.containerHeight),"viewportHeight"in E&&n(12,s=E.viewportHeight)},t.$$.update=()=>{if(t.$$.dirty&4&&p.length==0&&(fetch("boundary.geojson").then(E=>E.json()).then(E=>{n(2,p=E.features)}),fetch("streets.geojson").then(E=>E.json()).then(E=>{n(6,_=E.features)})),t.$$.dirty&256&&n(3,v=l.map(E=>({...E,direction:E.Direction?E.Direction:Math.random()>.5?"left":"right",date:E["Date of incident"]}))),t.$$.dirty&8&&v&&k(c,f),t.$$.dirty&4&&c&&p.length>0&&k(c,f),t.$$.dirty&7171&&d&&o){const E=d/o,D=s*E;n(7,m={x:0,y:(d-D)*(r/100),width:u,height:D})}},[u,d,p,v,a,w,_,m,l,i,r,o,s,b]}class xi extends Le{constructor(e){super(),Ie(this,e,$i,Qi,De,{data:8,windowWidth:9,scrollPercentage:10,containerHeight:11,viewportHeight:12})}}var el={},Ct={},St=34,Be=10,Dt=13;function Nl(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function er(t,e){var n=Nl(t);return function(l,i){return e(n(l),i,t)}}function tl(t){var e=Object.create(null),n=[];return t.forEach(function(l){for(var i in l)i in e||n.push(e[i]=i)}),n}function se(t,e){var n=t+"",l=n.length;return l<e?new Array(e-l+1).join(0)+n:n}function tr(t){return t<0?"-"+se(-t,6):t>9999?"+"+se(t,6):se(t,4)}function nr(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),l=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":tr(t.getUTCFullYear())+"-"+se(t.getUTCMonth()+1,2)+"-"+se(t.getUTCDate(),2)+(i?"T"+se(e,2)+":"+se(n,2)+":"+se(l,2)+"."+se(i,3)+"Z":l?"T"+se(e,2)+":"+se(n,2)+":"+se(l,2)+"Z":n||e?"T"+se(e,2)+":"+se(n,2)+"Z":"")}function lr(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function l(u,d){var g,w,p=i(u,function(v,_){if(g)return g(v,_-1);w=v,g=d?er(v,d):Nl(v)});return p.columns=w||[],p}function i(u,d){var g=[],w=u.length,p=0,v=0,_,m=w<=0,k=!1;u.charCodeAt(w-1)===Be&&--w,u.charCodeAt(w-1)===Dt&&--w;function b(){if(m)return Ct;if(k)return k=!1,el;var D,S=p,L;if(u.charCodeAt(S)===St){for(;p++<w&&u.charCodeAt(p)!==St||u.charCodeAt(++p)===St;);return(D=p)>=w?m=!0:(L=u.charCodeAt(p++))===Be?k=!0:L===Dt&&(k=!0,u.charCodeAt(p)===Be&&++p),u.slice(S+1,D-1).replace(/""/g,'"')}for(;p<w;){if((L=u.charCodeAt(D=p++))===Be)k=!0;else if(L===Dt)k=!0,u.charCodeAt(p)===Be&&++p;else if(L!==n)continue;return u.slice(S,D)}return m=!0,u.slice(S,w)}for(;(_=b())!==Ct;){for(var E=[];_!==el&&_!==Ct;)E.push(_),_=b();d&&(E=d(E,v++))==null||g.push(E)}return g}function r(u,d){return u.map(function(g){return d.map(function(w){return f(g[w])}).join(t)})}function o(u,d){return d==null&&(d=tl(u)),[d.map(f).join(t)].concat(r(u,d)).join(`
`)}function s(u,d){return d==null&&(d=tl(u)),r(u,d).join(`
`)}function a(u){return u.map(c).join(`
`)}function c(u){return u.map(f).join(t)}function f(u){return u==null?"":u instanceof Date?nr(u):e.test(u+="")?'"'+u.replace(/"/g,'""')+'"':u}return{parse:l,parseRows:i,format:o,formatBody:s,formatRows:a,formatRow:c,formatValue:f}}var ir=lr(","),rr=ir.parse;function or(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function sr(t,e){return fetch(t,e).then(or)}function ar(t){return function(e,n,l){return arguments.length===2&&typeof n=="function"&&(l=n,n=void 0),sr(e,n).then(function(i){return t(i,l)})}}var fr=ar(rr);function Ke(t,e,n){this.k=t,this.x=e,this.y=n}Ke.prototype={constructor:Ke,scale:function(t){return t===1?this:new Ke(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ke(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Ke.prototype;const Bt=t=>new Date(t),Hl=t=>{const e=t.map(i=>Bt(i["Post Date"])).filter(i=>i instanceof Date&&!isNaN(i)),n=new Date(Math.min(...e.map(i=>i.getTime()))),l=new Date(Math.max(...e.map(i=>i.getTime())));return{min:n,max:l}};function ur(t){let e,n="Loading date range...";return{c(){e=R("p"),e.textContent=n,this.h()},l(l){e=T(l,"P",{class:!0,"data-svelte-h":!0}),oe(e)!=="svelte-1ibifh0"&&(e.textContent=n),this.h()},h(){h(e,"class","tiny svelte-11vhuo5")},m(l,i){H(l,e,i)},p:le,d(l){l&&y(e)}}}function cr(t){let e,n="Geolocated Israeli military strike footage in Gaza",l,i,r=t[0].min.toLocaleDateString("en-US",{month:"short",day:"numeric"})+"",o,s,a=t[0].max.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})+"",c;return{c(){e=R("p"),e.textContent=n,l=j(),i=R("p"),o=O(r),s=O(` –
            `),c=O(a),this.h()},l(f){e=T(f,"P",{class:!0,"data-svelte-h":!0}),oe(e)!=="svelte-1d8yc0y"&&(e.textContent=n),l=G(f),i=T(f,"P",{class:!0});var u=M(i);o=Z(u,r),s=Z(u,` –
            `),c=Z(u,a),u.forEach(y),this.h()},h(){h(e,"class","svelte-11vhuo5"),h(i,"class","tiny svelte-11vhuo5")},m(f,u){H(f,e,u),H(f,l,u),H(f,i,u),C(i,o),C(i,s),C(i,c)},p(f,u){u&1&&r!==(r=f[0].min.toLocaleDateString("en-US",{month:"short",day:"numeric"})+"")&&x(o,r),u&1&&a!==(a=f[0].max.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})+"")&&x(c,a)},d(f){f&&(y(e),y(l),y(i))}}}function hr(t){let e;function n(r,o){return r[0].min&&r[0].max?cr:ur}let l=n(t),i=l(t);return{c(){e=R("div"),i.c()},l(r){e=T(r,"DIV",{});var o=M(e);i.l(o),o.forEach(y)},m(r,o){H(r,e,o),i.m(e,null)},p(r,[o]){l===(l=n(r))&&i?i.p(r,o):(i.d(1),i=l(r),i&&(i.c(),i.m(e,null)))},i:le,o:le,d(r){r&&y(e),i.d()}}}function dr(t,e,n){let{data:l=[]}=e,i={min:null,max:null};return t.$$set=r=>{"data"in r&&n(1,l=r.data)},t.$$.update=()=>{t.$$.dirty&2&&l.length&&n(0,i=Hl(l))},[i,l]}class Pl extends Le{constructor(e){super(),Ie(this,e,dr,hr,De,{data:1})}}function nl(t,e,n){const l=t.slice();return l[12]=e[n],l[14]=n,l}function ll(t){let e,n,l=t[3][t[14]]+"",i,r,o,s;function a(){return t[10](t[12])}return{c(){e=R("div"),n=R("div"),i=O(l),this.h()},l(c){e=T(c,"DIV",{class:!0,style:!0,title:!0});var f=M(e);n=T(f,"DIV",{class:!0});var u=M(n);i=Z(u,l),u.forEach(y),f.forEach(y),this.h()},h(){h(n,"class","count svelte-5vu47q"),h(e,"class","bar svelte-5vu47q"),We(e,"height",t[3][t[14]]*2+"px"),We(e,"background-color",t[5]===t[12]?"white":"var(--primary-color)"),h(e,"title",r=t[12]+": "+t[3][t[14]]+" incidents")},m(c,f){H(c,e,f),C(e,n),C(n,i),o||(s=_t(e,"click",a),o=!0)},p(c,f){t=c,f&8&&l!==(l=t[3][t[14]]+"")&&x(i,l),f&8&&We(e,"height",t[3][t[14]]*2+"px"),f&36&&We(e,"background-color",t[5]===t[12]?"white":"var(--primary-color)"),f&12&&r!==(r=t[12]+": "+t[3][t[14]]+" incidents")&&h(e,"title",r)},d(c){c&&y(e),o=!1,s()}}}function pr(t){let e,n,l,i=t[4].length+"",r,o,s=(t[5]?t[7](new Date(t[5])):"all dates")+"",a,c,f,u,d,g=t[7](new Date(t[0]))+"",w,p,v,_,m=t[7](new Date(t[1]))+"",k,b=ne(t[2]),E=[];for(let D=0;D<b.length;D+=1)E[D]=ll(nl(t,b,D));return{c(){e=R("div"),n=R("div"),l=R("p"),r=O(i),o=O(" items found from "),a=O(s),c=O(" onwards"),f=j(),u=R("div"),d=R("p"),w=O(g),p=j();for(let D=0;D<E.length;D+=1)E[D].c();v=j(),_=R("p"),k=O(m),this.h()},l(D){e=T(D,"DIV",{class:!0});var S=M(e);n=T(S,"DIV",{class:!0});var L=M(n);l=T(L,"P",{class:!0});var N=M(l);r=Z(N,i),o=Z(N," items found from "),a=Z(N,s),c=Z(N," onwards"),N.forEach(y),L.forEach(y),f=G(S),u=T(S,"DIV",{class:!0});var A=M(u);d=T(A,"P",{class:!0});var P=M(d);w=Z(P,g),P.forEach(y),p=G(A);for(let F=0;F<E.length;F+=1)E[F].l(A);v=G(A),_=T(A,"P",{class:!0});var V=M(_);k=Z(V,m),V.forEach(y),A.forEach(y),S.forEach(y),this.h()},h(){h(l,"class","svelte-5vu47q"),h(n,"class","results svelte-5vu47q"),h(d,"class","date svelte-5vu47q"),h(_,"class","date svelte-5vu47q"),h(u,"class","chart svelte-5vu47q"),h(e,"class","timeline-container svelte-5vu47q")},m(D,S){H(D,e,S),C(e,n),C(n,l),C(l,r),C(l,o),C(l,a),C(l,c),C(e,f),C(e,u),C(u,d),C(d,w),C(u,p);for(let L=0;L<E.length;L+=1)E[L]&&E[L].m(u,null);C(u,v),C(u,_),C(_,k)},p(D,[S]){if(S&16&&i!==(i=D[4].length+"")&&x(r,i),S&32&&s!==(s=(D[5]?D[7](new Date(D[5])):"all dates")+"")&&x(a,s),S&1&&g!==(g=D[7](new Date(D[0]))+"")&&x(w,g),S&108){b=ne(D[2]);let L;for(L=0;L<b.length;L+=1){const N=nl(D,b,L);E[L]?E[L].p(N,S):(E[L]=ll(N),E[L].c(),E[L].m(u,v))}for(;L<E.length;L+=1)E[L].d(1);E.length=b.length}S&2&&m!==(m=D[7](new Date(D[1]))+"")&&x(k,m)},i:le,o:le,d(D){D&&y(e),Se(E,D)}}}function vr(t,e,n){let l,{data:i=[]}=e;const r=ql();let o,s,a=i,c={},f=[],u=[];function d(p){l===p?(n(4,a=i),n(5,l=null)):(n(4,a=i.filter(v=>{const _=Bt(v["Post Date"]);return _&&_.toISOString().split("T")[0]===p})),n(5,l=p)),r("filteredData",a)}const g=p=>p.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),w=p=>d(p);return t.$$set=p=>{"data"in p&&n(8,i=p.data)},t.$$.update=()=>{if(t.$$.dirty&256&&n(0,{min:o,max:s}=Hl(i),o,(n(1,s),n(8,i))),t.$$.dirty&768&&i.length){n(9,c={});for(let p of i){const v=Bt(p["Post Date"]);if(v&&!isNaN(v.getTime())){const _=v.toISOString().split("T")[0];n(9,c[_]=(c[_]||0)+1,c)}}}if(t.$$.dirty&527&&o&&s){n(2,f=[]),n(3,u=[]);for(let p=o.getTime();p<=s.getTime();p+=864e5){const v=new Date(p).toISOString().split("T")[0];f.push(v),u.push(c[v]||0)}}},n(5,l=null),[o,s,f,u,a,l,d,g,i,c,w]}class gr extends Le{constructor(e){super(),Ie(this,e,vr,pr,De,{data:8})}}function _r(t){let e,n,l,i,r,o,s,a,c,f,u,d,g,w,p,v=t[3]<=800&&il(t),_=t[3]>800&&rl(t),m=!t[7]&&ol(t);s=new Ji({});let k=t[3]>800&&al(t);return u=new qi({props:{data:t[1].length>0?t[1]:t[0]}}),w=new gr({props:{data:t[0]}}),w.$on("filteredData",t[8]),{c(){e=R("section"),v&&v.c(),n=j(),l=R("div"),_&&_.c(),i=j(),r=R("div"),m&&m.c(),o=j(),ge(s.$$.fragment),a=j(),k&&k.c(),c=j(),f=R("div"),ge(u.$$.fragment),d=j(),g=R("div"),ge(w.$$.fragment),this.h()},l(b){e=T(b,"SECTION",{});var E=M(e);v&&v.l(E),n=G(E),l=T(E,"DIV",{class:!0});var D=M(l);_&&_.l(D),i=G(D),r=T(D,"DIV",{class:!0});var S=M(r);m&&m.l(S),o=G(S),_e(s.$$.fragment,S),S.forEach(y),a=G(D),k&&k.l(D),D.forEach(y),c=G(E),f=T(E,"DIV",{class:!0});var L=M(f);_e(u.$$.fragment,L),L.forEach(y),E.forEach(y),d=G(b),g=T(b,"DIV",{class:!0});var N=M(g);_e(w.$$.fragment,N),N.forEach(y),this.h()},h(){h(r,"class","panel svelte-luntis"),h(l,"class","sticky svelte-luntis"),h(f,"class","mapContainer svelte-luntis"),h(g,"class","timeline svelte-luntis")},m(b,E){H(b,e,E),v&&v.m(e,null),C(e,n),C(e,l),_&&_.m(l,null),C(l,i),C(l,r),m&&m.m(r,null),C(r,o),me(s,r,null),C(l,a),k&&k.m(l,null),C(e,c),C(e,f),me(u,f,null),t[9](f),H(b,d,E),H(b,g,E),me(w,g,null),p=!0},p(b,E){b[3]<=800?v?(v.p(b,E),E&8&&U(v,1)):(v=il(b),v.c(),U(v,1),v.m(e,n)):v&&(pe(),z(v,1,1,()=>{v=null}),ve()),b[3]>800?_?(_.p(b,E),E&8&&U(_,1)):(_=rl(b),_.c(),U(_,1),_.m(l,i)):_&&(pe(),z(_,1,1,()=>{_=null}),ve()),b[7]?m&&(pe(),z(m,1,1,()=>{m=null}),ve()):m?(m.p(b,E),E&128&&U(m,1)):(m=ol(b),m.c(),U(m,1),m.m(r,o)),b[3]>800?k?(k.p(b,E),E&8&&U(k,1)):(k=al(b),k.c(),U(k,1),k.m(l,null)):k&&(pe(),z(k,1,1,()=>{k=null}),ve());const D={};E&3&&(D.data=b[1].length>0?b[1]:b[0]),u.$set(D);const S={};E&1&&(S.data=b[0]),w.$set(S)},i(b){p||(U(v),U(_),U(m),U(s.$$.fragment,b),U(k),U(u.$$.fragment,b),U(w.$$.fragment,b),p=!0)},o(b){z(v),z(_),z(m),z(s.$$.fragment,b),z(k),z(u.$$.fragment,b),z(w.$$.fragment,b),p=!1},d(b){b&&(y(e),y(d),y(g)),v&&v.d(),_&&_.d(),m&&m.d(),we(s),k&&k.d(),we(u),t[9](null),we(w)}}}function mr(t){let e,n="Loading...";return{c(){e=R("p"),e.textContent=n,this.h()},l(l){e=T(l,"P",{class:!0,"data-svelte-h":!0}),oe(e)!=="svelte-1m6gtj"&&(e.textContent=n),this.h()},h(){h(e,"class","loading svelte-luntis")},m(l,i){H(l,e,i)},p:le,i:le,o:le,d(l){l&&y(e)}}}function il(t){let e,n,l,i,r;return n=new Pl({props:{data:t[0]}}),i=new Tl({}),{c(){e=R("div"),ge(n.$$.fragment),l=j(),ge(i.$$.fragment),this.h()},l(o){e=T(o,"DIV",{class:!0});var s=M(e);_e(n.$$.fragment,s),s.forEach(y),l=G(o),_e(i.$$.fragment,o),this.h()},h(){h(e,"class","small-heading svelte-luntis")},m(o,s){H(o,e,s),me(n,e,null),H(o,l,s),me(i,o,s),r=!0},p(o,s){const a={};s&1&&(a.data=o[0]),n.$set(a)},i(o){r||(U(n.$$.fragment,o),U(i.$$.fragment,o),r=!0)},o(o){z(n.$$.fragment,o),z(i.$$.fragment,o),r=!1},d(o){o&&(y(e),y(l)),we(n),we(i,o)}}}function rl(t){let e,n,l;return n=new Pl({props:{data:t[0]}}),{c(){e=R("div"),ge(n.$$.fragment),this.h()},l(i){e=T(i,"DIV",{class:!0});var r=M(e);_e(n.$$.fragment,r),r.forEach(y),this.h()},h(){h(e,"class","intro small-heading svelte-luntis")},m(i,r){H(i,e,r),me(n,e,null),l=!0},p(i,r){const o={};r&1&&(o.data=i[0]),n.$set(o)},i(i){l||(U(n.$$.fragment,i),l=!0)},o(i){z(n.$$.fragment,i),l=!1},d(i){i&&y(e),we(n)}}}function ol(t){let e,n,l=t[3]>800&&sl();return{c(){l&&l.c(),e=ie()},l(i){l&&l.l(i),e=ie()},m(i,r){l&&l.m(i,r),H(i,e,r),n=!0},p(i,r){i[3]>800?l?r&8&&U(l,1):(l=sl(),l.c(),U(l,1),l.m(e.parentNode,e)):l&&(pe(),z(l,1,1,()=>{l=null}),ve())},i(i){n||(U(l),n=!0)},o(i){z(l),n=!1},d(i){i&&y(e),l&&l.d(i)}}}function sl(t){let e,n;return e=new Tl({}),{c(){ge(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,i){me(e,l,i),n=!0},i(l){n||(U(e.$$.fragment,l),n=!0)},o(l){z(e.$$.fragment,l),n=!1},d(l){we(e,l)}}}function al(t){let e,n,l;return n=new xi({props:{data:t[1].length>0?t[1]:t[0],windowWidth:t[3],scrollPercentage:t[4],containerHeight:t[5],viewportHeight:t[6]}}),{c(){e=R("div"),ge(n.$$.fragment),this.h()},l(i){e=T(i,"DIV",{class:!0});var r=M(e);_e(n.$$.fragment,r),r.forEach(y),this.h()},h(){h(e,"class","small svelte-luntis")},m(i,r){H(i,e,r),me(n,e,null),l=!0},p(i,r){const o={};r&3&&(o.data=i[1].length>0?i[1]:i[0]),r&8&&(o.windowWidth=i[3]),r&16&&(o.scrollPercentage=i[4]),r&32&&(o.containerHeight=i[5]),r&64&&(o.viewportHeight=i[6]),n.$set(o)},i(i){l||(U(n.$$.fragment,i),l=!0)},o(i){z(n.$$.fragment,i),l=!1},d(i){i&&y(e),we(n)}}}function wr(t){let e,n,l,i;const r=[mr,_r],o=[];function s(a,c){return a[0].length===0?0:1}return n=s(t),l=o[n]=r[n](t),{c(){e=R("section"),l.c(),this.h()},l(a){e=T(a,"SECTION",{class:!0});var c=M(e);l.l(c),c.forEach(y),this.h()},h(){h(e,"class","map svelte-luntis")},m(a,c){H(a,e,c),o[n].m(e,null),i=!0},p(a,[c]){let f=n;n=s(a),n===f?o[n].p(a,c):(pe(),z(o[f],1,1,()=>{o[f]=null}),ve(),l=o[n],l?l.p(a,c):(l=o[n]=r[n](a),l.c()),U(l,1),l.m(e,null))},i(a){i||(U(l),i=!0)},o(a){z(l),i=!1},d(a){a&&y(e),o[n].d()}}}function kr(t,e,n){let l;Je(t,Ne,p=>n(7,l=p));let i=[],r=[],o,s=0,a=0,c=0,f=0;const u=()=>{n(3,s=window.innerWidth),n(6,f=window.innerHeight)},d=()=>{if(o){const p=o.getBoundingClientRect();n(5,c=p.height);const v=c-f,_=Math.max(0,-p.top);n(4,a=Math.min(Math.max(0,_/v*100),100))}},g=p=>{n(1,r=p==null?void 0:p.detail)};fl(async()=>{n(0,i=await fr("https://docs.google.com/spreadsheets/d/e/2PACX-1vR2ixzurghRCd5eNEn15gsUC9wjAW2PoB2eIkxNvp89g2vIFjG-to5geUiBIN9yxJrJ_vZkIYesjKOW/pub?output=csv")),n(0,i=i.filter(v=>v["Add to Map"]=="TRUE")),u(),window.addEventListener("resize",u),window.addEventListener("scroll",d),d()});function w(p){mt[p?"unshift":"push"](()=>{o=p,n(2,o)})}return[i,r,o,s,a,c,f,l,g,w]}class Er extends Le{constructor(e){super(),Ie(this,e,kr,wr,De,{})}}function yr(t){let e,n,l;return n=new Er({}),{c(){e=R("article"),ge(n.$$.fragment),this.h()},l(i){e=T(i,"ARTICLE",{class:!0});var r=M(e);_e(n.$$.fragment,r),r.forEach(y),this.h()},h(){h(e,"class","svelte-jyvm0e")},m(i,r){H(i,e,r),me(n,e,null),l=!0},p:le,i(i){l||(U(n.$$.fragment,i),l=!0)},o(i){z(n.$$.fragment,i),l=!1},d(i){i&&y(e),we(n)}}}class Lr extends Le{constructor(e){super(),Ie(this,e,null,yr,De,{})}}export{Lr as component};

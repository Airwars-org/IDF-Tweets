import{s as ye,O as q,P as B,f as M,i as S,v as w,Q as Rt,k as L,R as Re,n as le,o as at,e as T,t as te,d as P,h as ne,S as nt,l as b,F as mi,T as yi,p as Ie,U as De,V as wi,x as qt,b as Y,W as fe,j as Z,m as me,X as Zt,A as Ei,Y as Zn,r as Xn,w as Ue}from"../chunks/scheduler.CFfJM9d-.js";import{S as we,i as Ee,t as F,g as Me,a as O,c as Te,b as de,d as ge,m as ve,e as _e}from"../chunks/index.vBYw-KPi.js";import{w as Kn}from"../chunks/index.B0GAXNr7.js";function x(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}class Le{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let i=0;for(let r=0;r<this._n&&r<32;r++){const l=n[r],o=e+l,c=Math.abs(e)<Math.abs(l)?e-(o-l):l-(o-e);c&&(n[i++]=c),e=o}return n[i]=e,this._n=i+1,this}valueOf(){const e=this._partials;let n=this._n,i,r,l,o=0;if(n>0){for(o=e[--n];n>0&&(i=o,r=e[--n],o=i+r,l=r-(o-i),!l););n>0&&(l<0&&e[n-1]<0||l>0&&e[n-1]>0)&&(r=l*2,i=o+r,r==i-o&&(o=i))}return o}}function*Si(t){for(const e of t)yield*e}function Jn(t){return Array.from(Si(t))}var H=1e-6,ki=1e-12,U=Math.PI,re=U/2,Xt=U/4,se=U*2,oe=180/U,$=U/180,G=Math.abs,Qn=Math.atan,Qe=Math.atan2,X=Math.cos,Ci=Math.exp,Di=Math.log,K=Math.sin,bi=Math.sign||function(t){return t>0?1:t<0?-1:0},Ve=Math.sqrt,Ri=Math.tan;function Ii(t){return t>1?0:t<-1?U:Math.acos(t)}function $e(t){return t>1?re:t<-1?-re:Math.asin(t)}function ce(){}function ut(t,e){t&&Jt.hasOwnProperty(t.type)&&Jt[t.type](t,e)}var Kt={Feature:function(t,e){ut(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)ut(n[i].geometry,e)}},Jt={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){It(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)It(n[i],e,0)},Polygon:function(t,e){Qt(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Qt(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)ut(n[i],e)}};function It(t,e,n){var i=-1,r=t.length-n,l;for(e.lineStart();++i<r;)l=t[i],e.point(l[0],l[1],l[2]);e.lineEnd()}function Qt(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)It(t[n],e,1);e.polygonEnd()}function ze(t,e){t&&Kt.hasOwnProperty(t.type)?Kt[t.type](t,e):ut(t,e)}function Mt(t){return[Qe(t[1],t[0]),$e(t[2])]}function Oe(t){var e=t[0],n=t[1],i=X(n);return[i*X(e),i*K(e),K(n)]}function it(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ct(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function yt(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function rt(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Tt(t){var e=Ve(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Pt(t,e){function n(i,r){return i=t(i,r),e(i[0],i[1])}return t.invert&&e.invert&&(n.invert=function(i,r){return i=e.invert(i,r),i&&t.invert(i[0],i[1])}),n}function Nt(t,e){return G(t)>U&&(t-=Math.round(t/se)*se),[t,e]}Nt.invert=Nt;function $n(t,e,n){return(t%=se)?e||n?Pt(xt(t),en(e,n)):xt(t):e||n?en(e,n):Nt}function $t(t){return function(e,n){return e+=t,G(e)>U&&(e-=Math.round(e/se)*se),[e,n]}}function xt(t){var e=$t(t);return e.invert=$t(-t),e}function en(t,e){var n=X(t),i=K(t),r=X(e),l=K(e);function o(c,u){var f=X(u),a=X(c)*f,s=K(c)*f,d=K(u),g=d*n+a*i;return[Qe(s*r-g*l,a*n-d*i),$e(g*r+s*l)]}return o.invert=function(c,u){var f=X(u),a=X(c)*f,s=K(c)*f,d=K(u),g=d*r-s*l;return[Qe(s*r+d*l,a*n+g*i),$e(g*n-a*i)]},o}function Mi(t){t=$n(t[0]*$,t[1]*$,t.length>2?t[2]*$:0);function e(n){return n=t(n[0]*$,n[1]*$),n[0]*=oe,n[1]*=oe,n}return e.invert=function(n){return n=t.invert(n[0]*$,n[1]*$),n[0]*=oe,n[1]*=oe,n},e}function Ti(t,e,n,i,r,l){if(n){var o=X(e),c=K(e),u=i*n;r==null?(r=e+i*se,l=e-u/2):(r=tn(o,r),l=tn(o,l),(i>0?r<l:r>l)&&(r+=i*se));for(var f,a=r;i>0?a>l:a<l;a-=u)f=Mt([o,-c*X(a),-c*K(a)]),t.point(f[0],f[1])}}function tn(t,e){e=Oe(e),e[0]-=t,Tt(e);var n=Ii(-e[1]);return((-e[2]<0?-n:n)+se-H)%se}function xn(){var t=[],e;return{point:function(n,i,r){e.push([n,i,r])},lineStart:function(){t.push(e=[])},lineEnd:ce,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function st(t,e){return G(t[0]-e[0])<H&&G(t[1]-e[1])<H}function lt(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function ei(t,e,n,i,r){var l=[],o=[],c,u;if(t.forEach(function(y){if(!((p=y.length-1)<=0)){var p,h=y[0],m=y[p],v;if(st(h,m)){if(!h[2]&&!m[2]){for(r.lineStart(),c=0;c<p;++c)r.point((h=y[c])[0],h[1]);r.lineEnd();return}m[0]+=2*H}l.push(v=new lt(h,y,null,!0)),o.push(v.o=new lt(h,null,v,!1)),l.push(v=new lt(m,y,null,!1)),o.push(v.o=new lt(m,null,v,!0))}}),!!l.length){for(o.sort(e),nn(l),nn(o),c=0,u=o.length;c<u;++c)o[c].e=n=!n;for(var f=l[0],a,s;;){for(var d=f,g=!0;d.v;)if((d=d.n)===f)return;a=d.z,r.lineStart();do{if(d.v=d.o.v=!0,d.e){if(g)for(c=0,u=a.length;c<u;++c)r.point((s=a[c])[0],s[1]);else i(d.x,d.n.x,1,r);d=d.n}else{if(g)for(a=d.p.z,c=a.length-1;c>=0;--c)r.point((s=a[c])[0],s[1]);else i(d.x,d.p.x,-1,r);d=d.p}d=d.o,a=d.z,g=!g}while(!d.v);r.lineEnd()}}}function nn(t){if(e=t.length){for(var e,n=0,i=t[0],r;++n<e;)i.n=r=t[n],r.p=i,i=r;i.n=r=t[0],r.p=i}}function wt(t){return G(t[0])<=U?t[0]:bi(t[0])*((G(t[0])+U)%se-U)}function Pi(t,e){var n=wt(e),i=e[1],r=K(i),l=[K(n),-X(n),0],o=0,c=0,u=new Le;r===1?i=re+H:r===-1&&(i=-re-H);for(var f=0,a=t.length;f<a;++f)if(d=(s=t[f]).length)for(var s,d,g=s[d-1],y=wt(g),p=g[1]/2+Xt,h=K(p),m=X(p),v=0;v<d;++v,y=k,h=I,m=D,g=_){var _=s[v],k=wt(_),E=_[1]/2+Xt,I=K(E),D=X(E),R=k-y,A=R>=0?1:-1,j=A*R,N=j>U,J=h*I;if(u.add(Qe(J*A*K(j),m*D+J*X(j))),o+=N?R+A*se:R,N^y>=n^k>=n){var W=ct(Oe(g),Oe(_));Tt(W);var z=ct(l,W);Tt(z);var C=(N^R>=0?-1:1)*$e(z[2]);(i>C||i===C&&(W[0]||W[1]))&&(c+=N^R>=0?1:-1)}}return(o<-H||o<H&&u<-ki)^c&1}function ti(t,e,n,i){return function(r){var l=e(r),o=xn(),c=e(o),u=!1,f,a,s,d={point:g,lineStart:p,lineEnd:h,polygonStart:function(){d.point=m,d.lineStart=v,d.lineEnd=_,a=[],f=[]},polygonEnd:function(){d.point=g,d.lineStart=p,d.lineEnd=h,a=Jn(a);var k=Pi(f,i);a.length?(u||(r.polygonStart(),u=!0),ei(a,Li,k,n,r)):k&&(u||(r.polygonStart(),u=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),u&&(r.polygonEnd(),u=!1),a=f=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function g(k,E){t(k,E)&&r.point(k,E)}function y(k,E){l.point(k,E)}function p(){d.point=y,l.lineStart()}function h(){d.point=g,l.lineEnd()}function m(k,E){s.push([k,E]),c.point(k,E)}function v(){c.lineStart(),s=[]}function _(){m(s[0][0],s[0][1]),c.lineEnd();var k=c.clean(),E=o.result(),I,D=E.length,R,A,j;if(s.pop(),f.push(s),s=null,!!D){if(k&1){if(A=E[0],(R=A.length-1)>0){for(u||(r.polygonStart(),u=!0),r.lineStart(),I=0;I<R;++I)r.point((j=A[I])[0],j[1]);r.lineEnd()}return}D>1&&k&2&&E.push(E.pop().concat(E.shift())),a.push(E.filter(Ni))}}return d}}function Ni(t){return t.length>1}function Li(t,e){return((t=t.x)[0]<0?t[1]-re-H:re-t[1])-((e=e.x)[0]<0?e[1]-re-H:re-e[1])}const rn=ti(function(){return!0},Ai,ji,[-U,-re]);function Ai(t){var e=NaN,n=NaN,i=NaN,r;return{lineStart:function(){t.lineStart(),r=1},point:function(l,o){var c=l>0?U:-U,u=G(l-e);G(u-U)<H?(t.point(e,n=(n+o)/2>0?re:-re),t.point(i,n),t.lineEnd(),t.lineStart(),t.point(c,n),t.point(l,n),r=0):i!==c&&u>=U&&(G(e-i)<H&&(e-=i*H),G(l-c)<H&&(l-=c*H),n=Vi(e,n,l,o),t.point(i,n),t.lineEnd(),t.lineStart(),t.point(c,n),r=0),t.point(e=l,n=o),i=c},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-r}}}function Vi(t,e,n,i){var r,l,o=K(t-n);return G(o)>H?Qn((K(e)*(l=X(i))*K(n)-K(i)*(r=X(e))*K(t))/(r*l*o)):(e+i)/2}function ji(t,e,n,i){var r;if(t==null)r=n*re,i.point(-U,r),i.point(0,r),i.point(U,r),i.point(U,0),i.point(U,-r),i.point(0,-r),i.point(-U,-r),i.point(-U,0),i.point(-U,r);else if(G(t[0]-e[0])>H){var l=t[0]<e[0]?U:-U;r=n*l/2,i.point(-l,r),i.point(0,r),i.point(l,r)}else i.point(e[0],e[1])}function Ui(t){var e=X(t),n=2*$,i=e>0,r=G(e)>H;function l(a,s,d,g){Ti(g,t,n,d,a,s)}function o(a,s){return X(a)*X(s)>e}function c(a){var s,d,g,y,p;return{lineStart:function(){y=g=!1,p=1},point:function(h,m){var v=[h,m],_,k=o(h,m),E=i?k?0:f(h,m):k?f(h+(h<0?U:-U),m):0;if(!s&&(y=g=k)&&a.lineStart(),k!==g&&(_=u(s,v),(!_||st(s,_)||st(v,_))&&(v[2]=1)),k!==g)p=0,k?(a.lineStart(),_=u(v,s),a.point(_[0],_[1])):(_=u(s,v),a.point(_[0],_[1],2),a.lineEnd()),s=_;else if(r&&s&&i^k){var I;!(E&d)&&(I=u(v,s,!0))&&(p=0,i?(a.lineStart(),a.point(I[0][0],I[0][1]),a.point(I[1][0],I[1][1]),a.lineEnd()):(a.point(I[1][0],I[1][1]),a.lineEnd(),a.lineStart(),a.point(I[0][0],I[0][1],3)))}k&&(!s||!st(s,v))&&a.point(v[0],v[1]),s=v,g=k,d=E},lineEnd:function(){g&&a.lineEnd(),s=null},clean:function(){return p|(y&&g)<<1}}}function u(a,s,d){var g=Oe(a),y=Oe(s),p=[1,0,0],h=ct(g,y),m=it(h,h),v=h[0],_=m-v*v;if(!_)return!d&&a;var k=e*m/_,E=-e*v/_,I=ct(p,h),D=rt(p,k),R=rt(h,E);yt(D,R);var A=I,j=it(D,A),N=it(A,A),J=j*j-N*(it(D,D)-1);if(!(J<0)){var W=Ve(J),z=rt(A,(-j-W)/N);if(yt(z,D),z=Mt(z),!d)return z;var C=a[0],V=s[0],Q=a[1],ee=s[1],ae;V<C&&(ae=C,C=V,V=ae);var qe=V-C,Se=G(qe-U)<H,Pe=Se||qe<H;if(!Se&&ee<Q&&(ae=Q,Q=ee,ee=ae),Pe?Se?Q+ee>0^z[1]<(G(z[0]-C)<H?Q:ee):Q<=z[1]&&z[1]<=ee:qe>U^(C<=z[0]&&z[0]<=V)){var ke=rt(A,(-j+W)/N);return yt(ke,D),[z,Mt(ke)]}}}function f(a,s){var d=i?t:U-t,g=0;return a<-d?g|=1:a>d&&(g|=2),s<-d?g|=4:s>d&&(g|=8),g}return ti(o,c,l,i?[0,-t]:[-U,t-U])}function zi(t,e,n,i,r,l){var o=t[0],c=t[1],u=e[0],f=e[1],a=0,s=1,d=u-o,g=f-c,y;if(y=n-o,!(!d&&y>0)){if(y/=d,d<0){if(y<a)return;y<s&&(s=y)}else if(d>0){if(y>s)return;y>a&&(a=y)}if(y=r-o,!(!d&&y<0)){if(y/=d,d<0){if(y>s)return;y>a&&(a=y)}else if(d>0){if(y<a)return;y<s&&(s=y)}if(y=i-c,!(!g&&y>0)){if(y/=g,g<0){if(y<a)return;y<s&&(s=y)}else if(g>0){if(y>s)return;y>a&&(a=y)}if(y=l-c,!(!g&&y<0)){if(y/=g,g<0){if(y>s)return;y>a&&(a=y)}else if(g>0){if(y<a)return;y<s&&(s=y)}return a>0&&(t[0]=o+a*d,t[1]=c+a*g),s<1&&(e[0]=o+s*d,e[1]=c+s*g),!0}}}}}var Ge=1e9,ot=-Ge;function Fi(t,e,n,i){function r(f,a){return t<=f&&f<=n&&e<=a&&a<=i}function l(f,a,s,d){var g=0,y=0;if(f==null||(g=o(f,s))!==(y=o(a,s))||u(f,a)<0^s>0)do d.point(g===0||g===3?t:n,g>1?i:e);while((g=(g+s+4)%4)!==y);else d.point(a[0],a[1])}function o(f,a){return G(f[0]-t)<H?a>0?0:3:G(f[0]-n)<H?a>0?2:1:G(f[1]-e)<H?a>0?1:0:a>0?3:2}function c(f,a){return u(f.x,a.x)}function u(f,a){var s=o(f,1),d=o(a,1);return s!==d?s-d:s===0?a[1]-f[1]:s===1?f[0]-a[0]:s===2?f[1]-a[1]:a[0]-f[0]}return function(f){var a=f,s=xn(),d,g,y,p,h,m,v,_,k,E,I,D={point:R,lineStart:J,lineEnd:W,polygonStart:j,polygonEnd:N};function R(C,V){r(C,V)&&a.point(C,V)}function A(){for(var C=0,V=0,Q=g.length;V<Q;++V)for(var ee=g[V],ae=1,qe=ee.length,Se=ee[0],Pe,ke,tt=Se[0],je=Se[1];ae<qe;++ae)Pe=tt,ke=je,Se=ee[ae],tt=Se[0],je=Se[1],ke<=i?je>i&&(tt-Pe)*(i-ke)>(je-ke)*(t-Pe)&&++C:je<=i&&(tt-Pe)*(i-ke)<(je-ke)*(t-Pe)&&--C;return C}function j(){a=s,d=[],g=[],I=!0}function N(){var C=A(),V=I&&C,Q=(d=Jn(d)).length;(V||Q)&&(f.polygonStart(),V&&(f.lineStart(),l(null,null,1,f),f.lineEnd()),Q&&ei(d,c,C,l,f),f.polygonEnd()),a=f,d=g=y=null}function J(){D.point=z,g&&g.push(y=[]),E=!0,k=!1,v=_=NaN}function W(){d&&(z(p,h),m&&k&&s.rejoin(),d.push(s.result())),D.point=R,k&&a.lineEnd()}function z(C,V){var Q=r(C,V);if(g&&y.push([C,V]),E)p=C,h=V,m=Q,E=!1,Q&&(a.lineStart(),a.point(C,V));else if(Q&&k)a.point(C,V);else{var ee=[v=Math.max(ot,Math.min(Ge,v)),_=Math.max(ot,Math.min(Ge,_))],ae=[C=Math.max(ot,Math.min(Ge,C)),V=Math.max(ot,Math.min(Ge,V))];zi(ee,ae,t,e,n,i)?(k||(a.lineStart(),a.point(ee[0],ee[1])),a.point(ae[0],ae[1]),Q||a.lineEnd(),I=!1):Q&&(a.lineStart(),a.point(C,V),I=!1)}v=C,_=V,k=Q}return D}}const Lt=t=>t;var Et=new Le,At=new Le,ni,ii,Vt,jt,Ce={point:ce,lineStart:ce,lineEnd:ce,polygonStart:function(){Ce.lineStart=Wi,Ce.lineEnd=Hi},polygonEnd:function(){Ce.lineStart=Ce.lineEnd=Ce.point=ce,Et.add(G(At)),At=new Le},result:function(){var t=Et/2;return Et=new Le,t}};function Wi(){Ce.point=Oi}function Oi(t,e){Ce.point=ri,ni=Vt=t,ii=jt=e}function ri(t,e){At.add(jt*t-Vt*e),Vt=t,jt=e}function Hi(){ri(ni,ii)}var He=1/0,ft=He,xe=-He,ht=xe,pt={point:qi,lineStart:ce,lineEnd:ce,polygonStart:ce,polygonEnd:ce,result:function(){var t=[[He,ft],[xe,ht]];return xe=ht=-(ft=He=1/0),t}};function qi(t,e){t<He&&(He=t),t>xe&&(xe=t),e<ft&&(ft=e),e>ht&&(ht=e)}var Ut=0,zt=0,Ye=0,dt=0,gt=0,Fe=0,Ft=0,Wt=0,Ze=0,li,oi,he,pe,ue={point:Ae,lineStart:ln,lineEnd:on,polygonStart:function(){ue.lineStart=Yi,ue.lineEnd=Zi},polygonEnd:function(){ue.point=Ae,ue.lineStart=ln,ue.lineEnd=on},result:function(){var t=Ze?[Ft/Ze,Wt/Ze]:Fe?[dt/Fe,gt/Fe]:Ye?[Ut/Ye,zt/Ye]:[NaN,NaN];return Ut=zt=Ye=dt=gt=Fe=Ft=Wt=Ze=0,t}};function Ae(t,e){Ut+=t,zt+=e,++Ye}function ln(){ue.point=Bi}function Bi(t,e){ue.point=Gi,Ae(he=t,pe=e)}function Gi(t,e){var n=t-he,i=e-pe,r=Ve(n*n+i*i);dt+=r*(he+t)/2,gt+=r*(pe+e)/2,Fe+=r,Ae(he=t,pe=e)}function on(){ue.point=Ae}function Yi(){ue.point=Xi}function Zi(){si(li,oi)}function Xi(t,e){ue.point=si,Ae(li=he=t,oi=pe=e)}function si(t,e){var n=t-he,i=e-pe,r=Ve(n*n+i*i);dt+=r*(he+t)/2,gt+=r*(pe+e)/2,Fe+=r,r=pe*t-he*e,Ft+=r*(he+t),Wt+=r*(pe+e),Ze+=r*3,Ae(he=t,pe=e)}function ai(t){this._context=t}ai.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,se);break}}},result:ce};var Ot=new Le,St,ui,ci,Xe,Ke,et={point:ce,lineStart:function(){et.point=Ki},lineEnd:function(){St&&fi(ui,ci),et.point=ce},polygonStart:function(){St=!0},polygonEnd:function(){St=null},result:function(){var t=+Ot;return Ot=new Le,t}};function Ki(t,e){et.point=fi,ui=Xe=t,ci=Ke=e}function fi(t,e){Xe-=t,Ke-=e,Ot.add(Ve(Xe*Xe+Ke*Ke)),Xe=t,Ke=e}let sn,vt,an,un;class cn{constructor(e){this._append=e==null?hi:Ji(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==an||this._append!==vt){const i=this._radius,r=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,an=i,vt=this._append,un=this._,this._=r}this._+=un;break}}}result(){const e=this._;return this._="",e.length?e:null}}function hi(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Ji(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return hi;if(e!==sn){const n=10**e;sn=e,vt=function(r){let l=1;this._+=r[0];for(const o=r.length;l<o;++l)this._+=Math.round(arguments[l]*n)/n+r[l]}}return vt}function _t(t,e){let n=3,i=4.5,r,l;function o(c){return c&&(typeof i=="function"&&l.pointRadius(+i.apply(this,arguments)),ze(c,r(l))),l.result()}return o.area=function(c){return ze(c,r(Ce)),Ce.result()},o.measure=function(c){return ze(c,r(et)),et.result()},o.bounds=function(c){return ze(c,r(pt)),pt.result()},o.centroid=function(c){return ze(c,r(ue)),ue.result()},o.projection=function(c){return arguments.length?(r=c==null?(t=null,Lt):(t=c).stream,o):t},o.context=function(c){return arguments.length?(l=c==null?(e=null,new cn(n)):new ai(e=c),typeof i!="function"&&l.pointRadius(i),o):e},o.pointRadius=function(c){return arguments.length?(i=typeof c=="function"?c:(l.pointRadius(+c),+c),o):i},o.digits=function(c){if(!arguments.length)return n;if(c==null)n=null;else{const u=Math.floor(c);if(!(u>=0))throw new RangeError(`invalid digits: ${c}`);n=u}return e===null&&(l=new cn(n)),o},o.projection(t).digits(n).context(e)}function Bt(t){return function(e){var n=new Ht;for(var i in t)n[i]=t[i];return n.stream=e,n}}function Ht(){}Ht.prototype={constructor:Ht,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Gt(t,e,n){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),i!=null&&t.clipExtent(null),ze(n,t.stream(pt)),e(pt.result()),i!=null&&t.clipExtent(i),t}function pi(t,e,n){return Gt(t,function(i){var r=e[1][0]-e[0][0],l=e[1][1]-e[0][1],o=Math.min(r/(i[1][0]-i[0][0]),l/(i[1][1]-i[0][1])),c=+e[0][0]+(r-o*(i[1][0]+i[0][0]))/2,u=+e[0][1]+(l-o*(i[1][1]+i[0][1]))/2;t.scale(150*o).translate([c,u])},n)}function Qi(t,e,n){return pi(t,[[0,0],e],n)}function $i(t,e,n){return Gt(t,function(i){var r=+e,l=r/(i[1][0]-i[0][0]),o=(r-l*(i[1][0]+i[0][0]))/2,c=-l*i[0][1];t.scale(150*l).translate([o,c])},n)}function xi(t,e,n){return Gt(t,function(i){var r=+e,l=r/(i[1][1]-i[0][1]),o=-l*i[0][0],c=(r-l*(i[1][1]+i[0][1]))/2;t.scale(150*l).translate([o,c])},n)}var fn=16,er=X(30*$);function hn(t,e){return+e?nr(t,e):tr(t)}function tr(t){return Bt({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function nr(t,e){function n(i,r,l,o,c,u,f,a,s,d,g,y,p,h){var m=f-i,v=a-r,_=m*m+v*v;if(_>4*e&&p--){var k=o+d,E=c+g,I=u+y,D=Ve(k*k+E*E+I*I),R=$e(I/=D),A=G(G(I)-1)<H||G(l-s)<H?(l+s)/2:Qe(E,k),j=t(A,R),N=j[0],J=j[1],W=N-i,z=J-r,C=v*W-m*z;(C*C/_>e||G((m*W+v*z)/_-.5)>.3||o*d+c*g+u*y<er)&&(n(i,r,l,o,c,u,N,J,A,k/=D,E/=D,I,p,h),h.point(N,J),n(N,J,A,k,E,I,f,a,s,d,g,y,p,h))}}return function(i){var r,l,o,c,u,f,a,s,d,g,y,p,h={point:m,lineStart:v,lineEnd:k,polygonStart:function(){i.polygonStart(),h.lineStart=E},polygonEnd:function(){i.polygonEnd(),h.lineStart=v}};function m(R,A){R=t(R,A),i.point(R[0],R[1])}function v(){s=NaN,h.point=_,i.lineStart()}function _(R,A){var j=Oe([R,A]),N=t(R,A);n(s,d,a,g,y,p,s=N[0],d=N[1],a=R,g=j[0],y=j[1],p=j[2],fn,i),i.point(s,d)}function k(){h.point=m,i.lineEnd()}function E(){v(),h.point=I,h.lineEnd=D}function I(R,A){_(r=R,A),l=s,o=d,c=g,u=y,f=p,h.point=_}function D(){n(s,d,a,g,y,p,l,o,r,c,u,f,fn,i),h.lineEnd=k,k()}return h}}var ir=Bt({point:function(t,e){this.stream.point(t*$,e*$)}});function rr(t){return Bt({point:function(e,n){var i=t(e,n);return this.stream.point(i[0],i[1])}})}function lr(t,e,n,i,r){function l(o,c){return o*=i,c*=r,[e+t*o,n-t*c]}return l.invert=function(o,c){return[(o-e)/t*i,(n-c)/t*r]},l}function pn(t,e,n,i,r,l){if(!l)return lr(t,e,n,i,r);var o=X(l),c=K(l),u=o*t,f=c*t,a=o/t,s=c/t,d=(c*n-o*e)/t,g=(c*e+o*n)/t;function y(p,h){return p*=i,h*=r,[u*p-f*h+e,n-f*p-u*h]}return y.invert=function(p,h){return[i*(a*p-s*h+d),r*(g-s*p-a*h)]},y}function or(t){return sr(function(){return t})()}function sr(t){var e,n=150,i=480,r=250,l=0,o=0,c=0,u=0,f=0,a,s=0,d=1,g=1,y=null,p=rn,h=null,m,v,_,k=Lt,E=.5,I,D,R,A,j;function N(C){return R(C[0]*$,C[1]*$)}function J(C){return C=R.invert(C[0],C[1]),C&&[C[0]*oe,C[1]*oe]}N.stream=function(C){return A&&j===C?A:A=ir(rr(a)(p(I(k(j=C)))))},N.preclip=function(C){return arguments.length?(p=C,y=void 0,z()):p},N.postclip=function(C){return arguments.length?(k=C,h=m=v=_=null,z()):k},N.clipAngle=function(C){return arguments.length?(p=+C?Ui(y=C*$):(y=null,rn),z()):y*oe},N.clipExtent=function(C){return arguments.length?(k=C==null?(h=m=v=_=null,Lt):Fi(h=+C[0][0],m=+C[0][1],v=+C[1][0],_=+C[1][1]),z()):h==null?null:[[h,m],[v,_]]},N.scale=function(C){return arguments.length?(n=+C,W()):n},N.translate=function(C){return arguments.length?(i=+C[0],r=+C[1],W()):[i,r]},N.center=function(C){return arguments.length?(l=C[0]%360*$,o=C[1]%360*$,W()):[l*oe,o*oe]},N.rotate=function(C){return arguments.length?(c=C[0]%360*$,u=C[1]%360*$,f=C.length>2?C[2]%360*$:0,W()):[c*oe,u*oe,f*oe]},N.angle=function(C){return arguments.length?(s=C%360*$,W()):s*oe},N.reflectX=function(C){return arguments.length?(d=C?-1:1,W()):d<0},N.reflectY=function(C){return arguments.length?(g=C?-1:1,W()):g<0},N.precision=function(C){return arguments.length?(I=hn(D,E=C*C),z()):Ve(E)},N.fitExtent=function(C,V){return pi(N,C,V)},N.fitSize=function(C,V){return Qi(N,C,V)},N.fitWidth=function(C,V){return $i(N,C,V)},N.fitHeight=function(C,V){return xi(N,C,V)};function W(){var C=pn(n,0,0,d,g,s).apply(null,e(l,o)),V=pn(n,i-C[0],r-C[1],d,g,s);return a=$n(c,u,f),D=Pt(e,V),R=Pt(a,D),I=hn(D,E),z()}function z(){return A=j=null,N}return function(){return e=t.apply(this,arguments),N.invert=e.invert&&J,W()}}function Yt(t,e){return[t,Di(Ri((re+e)/2))]}Yt.invert=function(t,e){return[t,2*Qn(Ci(e))-re]};function di(){return ar(Yt).scale(961/se)}function ar(t){var e=or(t),n=e.center,i=e.scale,r=e.translate,l=e.clipExtent,o=null,c,u,f;e.scale=function(s){return arguments.length?(i(s),a()):i()},e.translate=function(s){return arguments.length?(r(s),a()):r()},e.center=function(s){return arguments.length?(n(s),a()):n()},e.clipExtent=function(s){return arguments.length?(s==null?o=c=u=f=null:(o=+s[0][0],c=+s[0][1],u=+s[1][0],f=+s[1][1]),a()):o==null?null:[[o,c],[u,f]]};function a(){var s=U*i(),d=e(Mi(e.rotate()).invert([0,0]));return l(o==null?[[d[0]-s,d[1]-s],[d[0]+s,d[1]+s]]:t===Yt?[[Math.max(d[0]-s,o),c],[Math.min(d[0]+s,u),f]]:[[o,Math.max(d[1]-s,c)],[u,Math.min(d[1]+s,f)]])}return a()}function ur(t){return t}function cr(t){if(t==null)return ur;var e,n,i=t.scale[0],r=t.scale[1],l=t.translate[0],o=t.translate[1];return function(c,u){u||(e=n=0);var f=2,a=c.length,s=new Array(a);for(s[0]=(e+=c[0])*i+l,s[1]=(n+=c[1])*r+o;f<a;)s[f]=c[f],++f;return s}}function fr(t,e){for(var n,i=t.length,r=i-e;r<--i;)n=t[r],t[r++]=t[i],t[i]=n}function kt(t,e){return typeof e=="string"&&(e=t.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(n){return dn(t,n)})}:dn(t,e)}function dn(t,e){var n=e.id,i=e.bbox,r=e.properties==null?{}:e.properties,l=hr(t,e);return n==null&&i==null?{type:"Feature",properties:r,geometry:l}:i==null?{type:"Feature",id:n,properties:r,geometry:l}:{type:"Feature",id:n,bbox:i,properties:r,geometry:l}}function hr(t,e){var n=cr(t.transform),i=t.arcs;function r(a,s){s.length&&s.pop();for(var d=i[a<0?~a:a],g=0,y=d.length;g<y;++g)s.push(n(d[g],g));a<0&&fr(s,y)}function l(a){return n(a)}function o(a){for(var s=[],d=0,g=a.length;d<g;++d)r(a[d],s);return s.length<2&&s.push(s[0]),s}function c(a){for(var s=o(a);s.length<4;)s.push(s[0]);return s}function u(a){return a.map(c)}function f(a){var s=a.type,d;switch(s){case"GeometryCollection":return{type:s,geometries:a.geometries.map(f)};case"Point":d=l(a.coordinates);break;case"MultiPoint":d=a.coordinates.map(l);break;case"LineString":d=o(a.arcs);break;case"MultiLineString":d=a.arcs.map(o);break;case"Polygon":d=u(a.arcs);break;case"MultiPolygon":d=a.arcs.map(u);break;default:return null}return{type:s,coordinates:d}}return f(e)}const Ne=Kn(null),mt=Kn(null);function pr(t){let e,n,i,r,l;return{c(){e=q("circle"),this.h()},l(o){e=B(o,"circle",{class:!0,id:!0,r:!0,cx:!0,cy:!0}),M(e).forEach(S),this.h()},h(){w(e,"class","secondary svelte-tsyr9o"),w(e,"id",n=t[0]["Unmatched ID"]),w(e,"r",i=t[1]<=768?2.5:5),w(e,"cx",r=t[0].cx),w(e,"cy",l=t[0].cy)},m(o,c){L(o,e,c)},p(o,c){c&1&&n!==(n=o[0]["Unmatched ID"])&&w(e,"id",n),c&2&&i!==(i=o[1]<=768?2.5:5)&&w(e,"r",i),c&1&&r!==(r=o[0].cx)&&w(e,"cx",r),c&1&&l!==(l=o[0].cy)&&w(e,"cy",l)},d(o){o&&S(e)}}}function dr(t){let e,n,i,r,l,o,c,u,f,a,s,d,g,y,p,h,m,v,_;function k(D,R){return D[1]>768?vr:gr}let E=k(t),I=E(t);return{c(){e=q("line"),o=q("rect"),I.c(),f=q("foreignObject"),a=T("div"),s=T("video"),d=T("track"),g=T("source"),p=T("source"),m=te(`
                    Your browser does not support the video tag.`),this.h()},l(D){e=B(D,"line",{class:!0,x1:!0,y1:!0,x2:!0,y2:!0}),M(e).forEach(S),o=B(D,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,ry:!0}),M(o).forEach(S),I.l(D),f=B(D,"foreignObject",{x:!0,y:!0,width:!0,height:!0,class:!0});var R=M(f);a=P(R,"DIV",{class:!0});var A=M(a);s=P(A,"VIDEO",{"webkit-playsinline":!0,class:!0});var j=M(s);d=P(j,"TRACK",{kind:!0}),g=P(j,"SOURCE",{src:!0,type:!0}),p=P(j,"SOURCE",{src:!0,type:!0}),m=ne(j,`
                    Your browser does not support the video tag.`),j.forEach(S),A.forEach(S),R.forEach(S),this.h()},h(){w(e,"class","line svelte-tsyr9o"),w(e,"x1",n=t[0].cx-t[7]),w(e,"y1",i=t[0].cy-be),w(e,"x2",r=t[0].direction==="top"?t[0].cx-t[7]:t[0].cx+t[5]),w(e,"y2",l=t[0].cy-be+(t[0].direction==="top"?t[6]:0)),w(o,"class","box svelte-tsyr9o"),w(o,"x",c=t[0].cx+t[5]),w(o,"y",u=t[0].cy-be+t[6]-t[3]/2),w(o,"width",t[2]),w(o,"height",t[3]),w(o,"rx","10"),w(o,"ry","10"),w(d,"kind","captions"),nt(g.src,y="videos/"+t[0]["Reference Code"].trim()+".webm")||w(g,"src",y),w(g,"type","video/webm"),nt(p.src,h="videos/"+t[0]["Reference Code"].trim()+".mp4")||w(p,"src",h),w(p,"type","video/mp4"),s.autoplay=!0,s.loop=!0,s.muted=!0,w(s,"webkit-playsinline",""),s.playsInline=!0,w(s,"class","svelte-tsyr9o"),w(a,"class","svelte-tsyr9o"),w(f,"x",v=t[0].cx+t[5]),w(f,"y",_=t[0].cy-be+t[6]-t[3]/2),w(f,"width",t[2]),w(f,"height",t[3]),w(f,"class","svelte-tsyr9o")},m(D,R){L(D,e,R),L(D,o,R),I.m(D,R),L(D,f,R),b(f,a),b(a,s),b(s,d),b(s,g),b(s,p),b(s,m)},p(D,R){R&129&&n!==(n=D[0].cx-D[7])&&w(e,"x1",n),R&1&&i!==(i=D[0].cy-be)&&w(e,"y1",i),R&161&&r!==(r=D[0].direction==="top"?D[0].cx-D[7]:D[0].cx+D[5])&&w(e,"x2",r),R&65&&l!==(l=D[0].cy-be+(D[0].direction==="top"?D[6]:0))&&w(e,"y2",l),R&33&&c!==(c=D[0].cx+D[5])&&w(o,"x",c),R&73&&u!==(u=D[0].cy-be+D[6]-D[3]/2)&&w(o,"y",u),R&4&&w(o,"width",D[2]),R&8&&w(o,"height",D[3]),E===(E=k(D))&&I?I.p(D,R):(I.d(1),I=E(D),I&&(I.c(),I.m(f.parentNode,f))),R&1&&!nt(g.src,y="videos/"+D[0]["Reference Code"].trim()+".webm")&&w(g,"src",y),R&1&&!nt(p.src,h="videos/"+D[0]["Reference Code"].trim()+".mp4")&&w(p,"src",h),R&33&&v!==(v=D[0].cx+D[5])&&w(f,"x",v),R&73&&_!==(_=D[0].cy-be+D[6]-D[3]/2)&&w(f,"y",_),R&4&&w(f,"width",D[2]),R&8&&w(f,"height",D[3])},d(D){D&&(S(e),S(o),S(f)),I.d(D)}}}function gr(t){let e,n,i;return{c(){e=q("svg"),n=q("path"),i=q("circle"),this.h()},l(r){e=B(r,"svg",{x:!0,y:!0,width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var l=M(e);n=B(l,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0,class:!0}),M(n).forEach(S),i=B(l,"circle",{class:!0,cx:!0,cy:!0,fill:!0,stroke:!0}),M(i).forEach(S),l.forEach(S),this.h()},h(){w(n,"fill-rule","evenodd"),w(n,"clip-rule","evenodd"),w(n,"d","M20 0H0V15.6522L10 28.2609L20 15.6522V0ZM10 15.8967C13.1216 15.8967 15.6522 13.3266 15.6522 10.1562C15.6522 6.98586 13.1216 4.41576 10 4.41576C6.87839 4.41576 4.34783 6.98586 4.34783 10.1562C4.34783 13.3266 6.87839 15.8967 10 15.8967Z"),w(n,"fill","var(--primary-color)"),w(n,"class","svelte-tsyr9o"),w(i,"class","hide svelte-tsyr9o"),w(i,"cx","10"),w(i,"cy","10.1562"),w(i,"fill","var(--primary-color)"),w(i,"stroke","none"),w(e,"x",t[9]),w(e,"y",t[8]),w(e,"width","10"),w(e,"height","16"),w(e,"viewBox","0 0 20 29"),w(e,"fill","none"),w(e,"xmlns","http://www.w3.org/2000/svg"),w(e,"class","svelte-tsyr9o")},m(r,l){L(r,e,l),b(e,n),b(e,i)},p(r,l){l&512&&w(e,"x",r[9]),l&256&&w(e,"y",r[8])},d(r){r&&S(e)}}}function vr(t){let e,n,i;return{c(){e=q("svg"),n=q("path"),i=q("circle"),this.h()},l(r){e=B(r,"svg",{x:!0,y:!0,width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var l=M(e);n=B(l,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0,class:!0}),M(n).forEach(S),i=B(l,"circle",{class:!0,cx:!0,cy:!0,fill:!0,stroke:!0}),M(i).forEach(S),l.forEach(S),this.h()},h(){w(n,"fill-rule","evenodd"),w(n,"clip-rule","evenodd"),w(n,"d","M20 0H0V15.6522L10 28.2609L20 15.6522V0ZM10 15.8967C13.1216 15.8967 15.6522 13.3266 15.6522 10.1562C15.6522 6.98586 13.1216 4.41576 10 4.41576C6.87839 4.41576 4.34783 6.98586 4.34783 10.1562C4.34783 13.3266 6.87839 15.8967 10 15.8967Z"),w(n,"fill","var(--primary-color)"),w(n,"class","svelte-tsyr9o"),w(i,"class","hide svelte-tsyr9o"),w(i,"cx","10"),w(i,"cy","10.1562"),w(i,"fill","var(--primary-color)"),w(i,"stroke","none"),w(e,"x",t[9]),w(e,"y",t[8]),w(e,"width","15"),w(e,"height","24"),w(e,"viewBox","0 0 20 29"),w(e,"fill","none"),w(e,"xmlns","http://www.w3.org/2000/svg"),w(e,"class","svelte-tsyr9o")},m(r,l){L(r,e,l),b(e,n),b(e,i)},p(r,l){l&512&&w(e,"x",r[9]),l&256&&w(e,"y",r[8])},d(r){r&&S(e)}}}function _r(t){let e,n,i,r;function l(u,f){return u[0]["Reference Code"]&&u[0]["Show Tooltip"]=="TRUE"?dr:pr}let o=l(t),c=o(t);return{c(){e=q("g"),c.c(),this.h()},l(u){e=B(u,"g",{id:!0,class:!0});var f=M(e);c.l(f),f.forEach(S),this.h()},h(){w(e,"id",n=t[0]["Reference Code"]),w(e,"class","svelte-tsyr9o"),Rt(e,"selected",t[4])},m(u,f){L(u,e,f),c.m(e,null),i||(r=Re(e,"click",t[10]),i=!0)},p(u,[f]){o===(o=l(u))&&c?c.p(u,f):(c.d(1),c=o(u),c&&(c.c(),c.m(e,null))),f&1&&n!==(n=u[0]["Reference Code"])&&w(e,"id",n),f&16&&Rt(e,"selected",u[4])},i:le,o:le,d(u){u&&S(e),c.d(),i=!1,r()}}}let be=29;function mr(t,e,n){let i,r,l,o,c;at(t,mt,m=>n(12,o=m)),at(t,Ne,m=>n(11,c=m));let{point:u}=e,{w:f}=e,a=195,s=122,d="",g=0,y=0;function p(m){const v=u["Group ID"]||null,_=o.filter(k=>k["Group ID"]===v&&k["Unmatched ID"]!==u["Unmatched ID"]);Ne.set({...u,cx:u.cx,cy:u.cy,lat:u.lat,lon:u.lon,id:u["Unmatched ID"],related:_.map(k=>({...k,cx:k.cx,cy:k.cy,lat:k.lat,lon:k.lon,id:k["Unmatched ID"]}))}),h(m)}function h(m){let v;if(m instanceof Event&&(v=m.target.closest("g"),v&&v.parentNode&&v.parentNode.appendChild(v)),m!=null&&m["Unmatched ID"]){v=document.getElementById(u["Unmatched ID"]);const _=document.querySelector(".points");if(v&&v.parentNode){const k=v.parentNode;_.appendChild(k)}}}return t.$$set=m=>{"point"in m&&n(0,u=m.point),"w"in m&&n(1,f=m.w)},t.$$.update=()=>{t.$$.dirty&15&&(f<=768?(n(2,a=f/7.38),n(3,s=f/11.8),u.direction.startsWith("left")||u.direction.startsWith("right")?n(7,y=u.direction.startsWith("left")?1:9):n(7,y=5)):(n(2,a=195),n(3,s=122),u.direction.startsWith("left")||u.direction.startsWith("right")?n(7,y=u.direction.startsWith("left")?-4:9):n(7,y=2)),u.direction.startsWith("right")?u.direction==="right"?n(5,d=s/2):u.direction==="right-1"?n(5,d=s):u.direction==="right-2"&&n(5,d=s*2):u.direction.startsWith("left")?u.direction==="left"?n(5,d=-(a+s/2)):u.direction==="left-1"?n(5,d=-(a+s)):u.direction==="left-2"&&n(5,d=-(a+s*2)):u.direction==="top"&&(n(5,d=-(a/2)),n(6,g=-s/1.3))),t.$$.dirty&2049&&n(4,i=(c==null?void 0:c.cx)==u.cx&&(c==null?void 0:c.cy)==u.cy),t.$$.dirty&17&&i&&h(u),t.$$.dirty&1&&n(9,r=u.cx-10),t.$$.dirty&1&&n(8,l=u.cy-30)},[u,f,a,s,i,d,g,y,l,r,p,c]}class gi extends we{constructor(e){super(),Ee(this,e,mr,_r,ye,{point:0,w:1})}}function gn(t,e,n){const i=t.slice();return i[17]=e[n],i[19]=n,i}function vn(t,e,n){const i=t.slice();return i[17]=e[n],i[19]=n,i}function _n(t,e,n){const i=t.slice();return i[21]=e[n],i[19]=n,i}function mn(t,e,n){const i=t.slice();return i[21]=e[n],i[19]=n,i}function yn(t){let e,n,i,r,l,o=t[6].length>0&&wn(t),c=x(t[1]),u=[];for(let p=0;p<c.length;p+=1)u[p]=Sn(_n(t,c,p));let f=x(t[7]),a=[];for(let p=0;p<f.length;p+=1)a[p]=Cn(vn(t,f,p));const s=p=>O(a[p],1,1,()=>{a[p]=null});let d=x(t[8]),g=[];for(let p=0;p<d.length;p+=1)g[p]=bn(gn(t,d,p));const y=p=>O(g[p],1,1,()=>{g[p]=null});return{c(){e=q("svg"),o&&o.c(),n=q("g");for(let p=0;p<u.length;p+=1)u[p].c();i=q("g");for(let p=0;p<a.length;p+=1)a[p].c();r=Ie();for(let p=0;p<g.length;p+=1)g[p].c();this.h()},l(p){e=B(p,"svg",{width:!0,height:!0});var h=M(e);o&&o.l(h),n=B(h,"g",{class:!0});var m=M(n);for(let _=0;_<u.length;_+=1)u[_].l(m);m.forEach(S),i=B(h,"g",{class:!0});var v=M(i);for(let _=0;_<a.length;_+=1)a[_].l(v);r=Ie();for(let _=0;_<g.length;_+=1)g[_].l(v);v.forEach(S),h.forEach(S),this.h()},h(){w(n,"class","streets svelte-6cbwzm"),w(i,"class","points"),w(e,"width",t[3]),w(e,"height",t[4])},m(p,h){L(p,e,h),o&&o.m(e,null),b(e,n);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(n,null);b(e,i);for(let m=0;m<a.length;m+=1)a[m]&&a[m].m(i,null);b(i,r);for(let m=0;m<g.length;m+=1)g[m]&&g[m].m(i,null);l=!0},p(p,h){if(p[6].length>0?o?o.p(p,h):(o=wn(p),o.c(),o.m(e,n)):o&&(o.d(1),o=null),h&34){c=x(p[1]);let m;for(m=0;m<c.length;m+=1){const v=_n(p,c,m);u[m]?u[m].p(v,h):(u[m]=Sn(v),u[m].c(),u[m].m(n,null))}for(;m<u.length;m+=1)u[m].d(1);u.length=c.length}if(h&129){f=x(p[7]);let m;for(m=0;m<f.length;m+=1){const v=vn(p,f,m);a[m]?(a[m].p(v,h),F(a[m],1)):(a[m]=Cn(v),a[m].c(),F(a[m],1),a[m].m(i,r))}for(Me(),m=f.length;m<a.length;m+=1)s(m);Te()}if(h&257){d=x(p[8]);let m;for(m=0;m<d.length;m+=1){const v=gn(p,d,m);g[m]?(g[m].p(v,h),F(g[m],1)):(g[m]=bn(v),g[m].c(),F(g[m],1),g[m].m(i,null))}for(Me(),m=d.length;m<g.length;m+=1)y(m);Te()}(!l||h&8)&&w(e,"width",p[3]),(!l||h&16)&&w(e,"height",p[4])},i(p){if(!l){for(let h=0;h<f.length;h+=1)F(a[h]);for(let h=0;h<d.length;h+=1)F(g[h]);l=!0}},o(p){a=a.filter(Boolean);for(let h=0;h<a.length;h+=1)O(a[h]);g=g.filter(Boolean);for(let h=0;h<g.length;h+=1)O(g[h]);l=!1},d(p){p&&S(e),o&&o.d(),De(u,p),De(a,p),De(g,p)}}}function wn(t){let e,n=x(t[6]),i=[];for(let r=0;r<n.length;r+=1)i[r]=En(mn(t,n,r));return{c(){e=q("g");for(let r=0;r<i.length;r+=1)i[r].c();this.h()},l(r){e=B(r,"g",{class:!0});var l=M(e);for(let o=0;o<i.length;o+=1)i[o].l(l);l.forEach(S),this.h()},h(){w(e,"class","boundary svelte-6cbwzm")},m(r,l){L(r,e,l);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(e,null)},p(r,l){if(l&96){n=x(r[6]);let o;for(o=0;o<n.length;o+=1){const c=mn(r,n,o);i[o]?i[o].p(c,l):(i[o]=En(c),i[o].c(),i[o].m(e,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=n.length}},d(r){r&&S(e),De(i,r)}}}function En(t){let e,n;return{c(){e=q("path"),this.h()},l(i){e=B(i,"path",{d:!0,class:!0}),M(e).forEach(S),this.h()},h(){w(e,"d",n=t[5](t[21])),w(e,"class","boundary svelte-6cbwzm")},m(i,r){L(i,e,r)},p(i,r){r&96&&n!==(n=i[5](i[21]))&&w(e,"d",n)},d(i){i&&S(e)}}}function Sn(t){let e,n;return{c(){e=q("path"),this.h()},l(i){e=B(i,"path",{d:!0,class:!0}),M(e).forEach(S),this.h()},h(){w(e,"d",n=t[5](t[21])),w(e,"class","street")},m(i,r){L(i,e,r)},p(i,r){r&34&&n!==(n=i[5](i[21]))&&w(e,"d",n)},d(i){i&&S(e)}}}function kn(t){let e,n;return e=new gi({props:{point:t[17],w:t[0]}}),{c(){de(e.$$.fragment)},l(i){ge(e.$$.fragment,i)},m(i,r){ve(e,i,r),n=!0},p(i,r){const l={};r&128&&(l.point=i[17]),r&1&&(l.w=i[0]),e.$set(l)},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){O(e.$$.fragment,i),n=!1},d(i){_e(e,i)}}}function Cn(t){let e,n,i=t[17].cx&&t[17].cy&&kn(t);return{c(){i&&i.c(),e=Ie()},l(r){i&&i.l(r),e=Ie()},m(r,l){i&&i.m(r,l),L(r,e,l),n=!0},p(r,l){r[17].cx&&r[17].cy?i?(i.p(r,l),l&128&&F(i,1)):(i=kn(r),i.c(),F(i,1),i.m(e.parentNode,e)):i&&(Me(),O(i,1,1,()=>{i=null}),Te())},i(r){n||(F(i),n=!0)},o(r){O(i),n=!1},d(r){r&&S(e),i&&i.d(r)}}}function Dn(t){let e,n;return e=new gi({props:{point:t[17],w:t[0]}}),{c(){de(e.$$.fragment)},l(i){ge(e.$$.fragment,i)},m(i,r){ve(e,i,r),n=!0},p(i,r){const l={};r&256&&(l.point=i[17]),r&1&&(l.w=i[0]),e.$set(l)},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){O(e.$$.fragment,i),n=!1},d(i){_e(e,i)}}}function bn(t){let e,n,i=t[17].cx&&t[17].cy&&Dn(t);return{c(){i&&i.c(),e=Ie()},l(r){i&&i.l(r),e=Ie()},m(r,l){i&&i.m(r,l),L(r,e,l),n=!0},p(r,l){r[17].cx&&r[17].cy?i?(i.p(r,l),l&256&&F(i,1)):(i=Dn(r),i.c(),F(i,1),i.m(e.parentNode,e)):i&&(Me(),O(i,1,1,()=>{i=null}),Te())},i(r){n||(F(i),n=!0)},o(r){O(i),n=!1},d(r){r&&S(e),i&&i.d(r)}}}function yr(t){let e,n,i,r=t[1].length>0&&yn(t);return{c(){e=T("article"),r&&r.c(),this.h()},l(l){e=P(l,"ARTICLE",{class:!0});var o=M(e);r&&r.l(o),o.forEach(S),this.h()},h(){w(e,"class","map svelte-6cbwzm"),mi(()=>t[13].call(e))},m(l,o){L(l,e,o),r&&r.m(e,null),t[12](e),n=yi(e,t[13].bind(e)),i=!0},p(l,[o]){l[1].length>0?r?(r.p(l,o),o&2&&F(r,1)):(r=yn(l),r.c(),F(r,1),r.m(e,null)):r&&(Me(),O(r,1,1,()=>{r=null}),Te())},i(l){i||(F(r),i=!0)},o(l){O(r),i=!1},d(l){l&&S(e),r&&r.d(),t[12](null),n()}}}function wr(t,e,n){let i,r,l;at(t,mt,_=>n(11,l=_));let{data:o}=e,c,u,f=0,a=0,s,d,g=[],y=[],p=[];function h(_){s=di().rotate([-48,48]).scale(1).translate([0,0]);const E=_t().projection(s).bounds({type:"FeatureCollection",features:g}),I=E[1][0]-E[0][0],D=E[1][1]-E[0][1],R=(E[0][0]+E[1][0])/2;E[0][1]+E[1][1];const A=[100,10,20],j=(_-A[0])/I,N=[_/2-j*R,(-j-A[1])*E[0][1]+E[1][1]];s=s.scale(j).translate(N),n(5,d=_t().projection(s)),n(3,f=_),n(4,a=j*D+A[2]),wi(mt,l=p.map(J=>{const[W,z]=s([J.lon,J.lat]);return{...J,cx:W,cy:z}}),l)}function m(_){qt[_?"unshift":"push"](()=>{c=_,n(2,c)})}function v(){u=this.clientWidth,n(0,u)}return t.$$set=_=>{"data"in _&&n(9,o=_.data)},t.$$.update=()=>{t.$$.dirty&2&&g.length===0&&(fetch("boundary.json").then(_=>_.json()).then(_=>{n(6,y=kt(_,_.objects.boundary).features)}),fetch("streets.json").then(_=>_.json()).then(_=>{n(1,g=kt(_,_.objects.streets).features)}),fetch("buildings2.json").then(_=>_.json()).then(_=>{kt(_,_.objects.test1).features})),t.$$.dirty&512&&n(10,p=o.map(_=>({..._,direction:_.Direction?_.Direction:Math.random()>.5?"left":"right",date:_["Date of incident"]}))),t.$$.dirty&3&&u&&g.length>0&&h(u),t.$$.dirty&1025&&p&&h(u),t.$$.dirty&2048&&n(8,i=l?l.filter(_=>_["Reference Code"]):[]),t.$$.dirty&2048&&n(7,r=l?l.filter(_=>!_["Reference Code"]):[])},[u,g,c,f,a,d,y,r,i,o,p,l,m,v]}let Er=class extends we{constructor(e){super(),Ee(this,e,wr,yr,ye,{data:9})}};function Rn(t){let e,n,i="Date Posted",r,l,o=t[0]["Post date"]+"",c;return{c(){e=T("div"),n=T("h3"),n.textContent=i,r=Y(),l=T("p"),c=te(o),this.h()},l(u){e=P(u,"DIV",{class:!0});var f=M(e);n=P(f,"H3",{class:!0,"data-svelte-h":!0}),fe(n)!=="svelte-gk40gb"&&(n.textContent=i),r=Z(f),l=P(f,"P",{class:!0});var a=M(l);c=ne(a,o),a.forEach(S),f.forEach(S),this.h()},h(){w(n,"class","svelte-4qopg4"),w(l,"class","svelte-4qopg4"),w(e,"class","svelte-4qopg4")},m(u,f){L(u,e,f),b(e,n),b(e,r),b(e,l),b(l,c)},p(u,f){f&1&&o!==(o=u[0]["Post date"]+"")&&me(c,o)},d(u){u&&S(e)}}}function In(t){let e,n,i="Location",r,l,o=t[0].Location+"",c;return{c(){e=T("div"),n=T("h3"),n.textContent=i,r=Y(),l=T("p"),c=te(o),this.h()},l(u){e=P(u,"DIV",{class:!0});var f=M(e);n=P(f,"H3",{class:!0,"data-svelte-h":!0}),fe(n)!=="svelte-15gguv3"&&(n.textContent=i),r=Z(f),l=P(f,"P",{class:!0});var a=M(l);c=ne(a,o),a.forEach(S),f.forEach(S),this.h()},h(){w(n,"class","svelte-4qopg4"),w(l,"class","svelte-4qopg4"),w(e,"class","svelte-4qopg4")},m(u,f){L(u,e,f),b(e,n),b(e,r),b(e,l),b(l,c)},p(u,f){f&1&&o!==(o=u[0].Location+"")&&me(c,o)},d(u){u&&S(e)}}}function Mn(t){let e,n,i="Civilians Reported Killed",r,l,o=t[0]["Civilians reported killed"]+"",c;return{c(){e=T("div"),n=T("h3"),n.textContent=i,r=Y(),l=T("p"),c=te(o),this.h()},l(u){e=P(u,"DIV",{class:!0});var f=M(e);n=P(f,"H3",{class:!0,"data-svelte-h":!0}),fe(n)!=="svelte-lcsnd8"&&(n.textContent=i),r=Z(f),l=P(f,"P",{class:!0});var a=M(l);c=ne(a,o),a.forEach(S),f.forEach(S),this.h()},h(){w(n,"class","svelte-4qopg4"),w(l,"class","svelte-4qopg4"),w(e,"class","svelte-4qopg4")},m(u,f){L(u,e,f),b(e,n),b(e,r),b(e,l),b(l,c)},p(u,f){f&1&&o!==(o=u[0]["Civilians reported killed"]+"")&&me(c,o)},d(u){u&&S(e)}}}function Tn(t){let e,n,i="Source",r,l,o,c;return{c(){e=T("div"),n=T("h3"),n.textContent=i,r=Y(),l=T("a"),o=te("View Footage"),this.h()},l(u){e=P(u,"DIV",{class:!0});var f=M(e);n=P(f,"H3",{class:!0,"data-svelte-h":!0}),fe(n)!=="svelte-x8n8kl"&&(n.textContent=i),r=Z(f),l=P(f,"A",{href:!0,target:!0,class:!0});var a=M(l);o=ne(a,"View Footage"),a.forEach(S),f.forEach(S),this.h()},h(){w(n,"class","svelte-4qopg4"),w(l,"href",c=t[0]["Footage link"]),w(l,"target","_blank"),w(l,"class","svelte-4qopg4"),w(e,"class","svelte-4qopg4")},m(u,f){L(u,e,f),b(e,n),b(e,r),b(e,l),b(l,o)},p(u,f){f&1&&c!==(c=u[0]["Footage link"])&&w(l,"href",c)},d(u){u&&S(e)}}}function Sr(t){let e,n,i="×",r,l,o=(t[0].Title||"No Title")+"",c,u,f,a,s,d,g,y=t[0]["Post date"]&&Rn(t),p=t[0].Location&&In(t),h=t[0]["Civilians reported killed"]&&Mn(t),m=t[0]["Footage link"]&&Tn(t);return{c(){e=T("div"),n=T("div"),n.textContent=i,r=Y(),l=T("h1"),c=te(o),u=Y(),y&&y.c(),f=Y(),p&&p.c(),a=Y(),h&&h.c(),s=Y(),m&&m.c(),this.h()},l(v){e=P(v,"DIV",{class:!0});var _=M(e);n=P(_,"DIV",{class:!0,"data-svelte-h":!0}),fe(n)!=="svelte-1fkty7"&&(n.textContent=i),r=Z(_),l=P(_,"H1",{class:!0});var k=M(l);c=ne(k,o),k.forEach(S),u=Z(_),y&&y.l(_),f=Z(_),p&&p.l(_),a=Z(_),h&&h.l(_),s=Z(_),m&&m.l(_),_.forEach(S),this.h()},h(){w(n,"class","close svelte-4qopg4"),w(l,"class","svelte-4qopg4"),w(e,"class","detail-panel svelte-4qopg4")},m(v,_){L(v,e,_),b(e,n),b(e,r),b(e,l),b(l,c),b(e,u),y&&y.m(e,null),b(e,f),p&&p.m(e,null),b(e,a),h&&h.m(e,null),b(e,s),m&&m.m(e,null),d||(g=Re(n,"click",t[1]),d=!0)},p(v,[_]){_&1&&o!==(o=(v[0].Title||"No Title")+"")&&me(c,o),v[0]["Post date"]?y?y.p(v,_):(y=Rn(v),y.c(),y.m(e,f)):y&&(y.d(1),y=null),v[0].Location?p?p.p(v,_):(p=In(v),p.c(),p.m(e,a)):p&&(p.d(1),p=null),v[0]["Civilians reported killed"]?h?h.p(v,_):(h=Mn(v),h.c(),h.m(e,s)):h&&(h.d(1),h=null),v[0]["Footage link"]?m?m.p(v,_):(m=Tn(v),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},i:le,o:le,d(v){v&&S(e),y&&y.d(),p&&p.d(),h&&h.d(),m&&m.d(),d=!1,g()}}}function kr(t,e,n){let i=null;const r=()=>Ne.set(null);return t.$$.update=()=>{t.$$.dirty&1&&Ne.subscribe(l=>{n(0,i=l)})},[i,r]}class Cr extends we{constructor(e){super(),Ee(this,e,kr,Sr,ye,{})}}function Pn(t,e,n){const i=t.slice();return i[16]=e[n],i[18]=n,i}function Nn(t){let e,n,i;return n=new Cr({}),{c(){e=T("div"),de(n.$$.fragment),this.h()},l(r){e=P(r,"DIV",{class:!0});var l=M(e);ge(n.$$.fragment,l),l.forEach(S),this.h()},h(){w(e,"class","svelte-9cdnoy")},m(r,l){L(r,e,l),ve(n,e,null),t[12](e),i=!0},p:le,i(r){i||(F(n.$$.fragment,r),i=!0)},o(r){O(n.$$.fragment,r),i=!1},d(r){r&&S(e),_e(n),t[12](null)}}}function Ln(t){let e,n,i=(t[16].Title||t[16]["Reference Code"])+"",r,l,o,c;function u(){return t[13](t[16])}return{c(){e=T("div"),n=T("p"),r=te(i),l=Y(),this.h()},l(f){e=P(f,"DIV",{class:!0});var a=M(e);n=P(a,"P",{class:!0});var s=M(n);r=ne(s,i),s.forEach(S),l=Z(a),a.forEach(S),this.h()},h(){w(n,"class","svelte-9cdnoy"),w(e,"class","svelte-9cdnoy"),Rt(e,"gray-background",t[18]%2===1)},m(f,a){L(f,e,a),b(e,n),b(n,r),b(e,l),o||(c=Re(e,"click",u),o=!0)},p(f,a){t=f,a&8&&i!==(i=(t[16].Title||t[16]["Reference Code"])+"")&&me(r,i)},d(f){f&&S(e),o=!1,c()}}}function Dr(t){let e,n,i,r,l,o="Filter",c,u,f="Reset",a,s,d,g,y,p,h=t[1]&&Nn(t),m=x(t[3]),v=[];for(let _=0;_<m.length;_+=1)v[_]=Ln(Pn(t,m,_));return{c(){e=T("section"),n=T("div"),i=T("input"),r=Y(),l=T("button"),l.textContent=o,c=Y(),u=T("button"),u.textContent=f,a=Y(),h&&h.c(),s=Y(),d=T("div");for(let _=0;_<v.length;_+=1)v[_].c();this.h()},l(_){e=P(_,"SECTION",{class:!0});var k=M(e);n=P(k,"DIV",{class:!0});var E=M(n);i=P(E,"INPUT",{type:!0,placeholder:!0,class:!0}),r=Z(E),l=P(E,"BUTTON",{class:!0,"data-svelte-h":!0}),fe(l)!=="svelte-hqr4m8"&&(l.textContent=o),c=Z(E),u=P(E,"BUTTON",{class:!0,"data-svelte-h":!0}),fe(u)!=="svelte-c9xful"&&(u.textContent=f),E.forEach(S),a=Z(k),h&&h.l(k),s=Z(k),d=P(k,"DIV",{class:!0});var I=M(d);for(let D=0;D<v.length;D+=1)v[D].l(I);I.forEach(S),k.forEach(S),this.h()},h(){w(i,"type","text"),w(i,"placeholder","Search..."),w(i,"class","search-input svelte-9cdnoy"),w(l,"class","search-button svelte-9cdnoy"),w(u,"class","reset-button svelte-9cdnoy"),w(n,"class","search-container svelte-9cdnoy"),w(d,"class","list-container svelte-9cdnoy"),w(e,"class","svelte-9cdnoy")},m(_,k){L(_,e,k),b(e,n),b(n,i),Zt(i,t[0]),b(n,r),b(n,l),b(n,c),b(n,u),b(e,a),h&&h.m(e,null),b(e,s),b(e,d);for(let E=0;E<v.length;E+=1)v[E]&&v[E].m(d,null);g=!0,y||(p=[Re(i,"input",t[11]),Re(i,"keydown",t[4]),Re(l,"click",t[5]),Re(u,"click",t[6])],y=!0)},p(_,[k]){if(k&1&&i.value!==_[0]&&Zt(i,_[0]),_[1]?h?(h.p(_,k),k&2&&F(h,1)):(h=Nn(_),h.c(),F(h,1),h.m(e,s)):h&&(Me(),O(h,1,1,()=>{h=null}),Te()),k&136){m=x(_[3]);let E;for(E=0;E<m.length;E+=1){const I=Pn(_,m,E);v[E]?v[E].p(I,k):(v[E]=Ln(I),v[E].c(),v[E].m(d,null))}for(;E<v.length;E+=1)v[E].d(1);v.length=m.length}},i(_){g||(F(h),g=!0)},o(_){O(h),g=!1},d(_){_&&S(e),h&&h.d(),De(v,_),y=!1,Ei(p)}}}function br(t,e,n){let i;at(t,mt,_=>n(10,i=_));const r=Zn();let{data:l}=e,o=null,c=!1,u,f="",a=[];function s(_){_.key==="Enter"&&d()}function d(){r("updateFilteredData",a)}function g(){n(0,f=""),n(3,a=l),r("updateFilteredData",l)}Xn(()=>{document.addEventListener("click",y,!0)});function y(_){c&&u&&!u.contains(_.target)&&Ne.set(null)}function p(_){Ne.set(_)}function h(){f=this.value,n(0,f)}function m(_){qt[_?"unshift":"push"](()=>{u=_,n(2,u)})}const v=_=>p(_);return t.$$set=_=>{"data"in _&&n(8,l=_.data)},t.$$.update=()=>{t.$$.dirty&512&&Ne.subscribe(_=>{n(9,o=_),n(1,c=!!o)}),t.$$.dirty&1025&&n(3,a=i.filter(_=>(_.Title||_["Reference Code"]).toLowerCase().includes(f.toLowerCase())))},[f,c,u,a,s,d,g,p,l,o,i,h,m,v]}class Rr extends we{constructor(e){super(),Ee(this,e,br,Dr,ye,{data:8})}}function An(t,e,n){const i=t.slice();return i[18]=e[n],i[20]=n,i}function Vn(t,e,n){const i=t.slice();return i[21]=e[n],i[20]=n,i}function jn(t,e,n){const i=t.slice();return i[21]=e[n],i[20]=n,i}function Un(t){let e,n,i,r,l,o,c,u,f,a=x(t[2]),s=[];for(let h=0;h<a.length;h+=1)s[h]=zn(jn(t,a,h));let d=x(t[6]),g=[];for(let h=0;h<d.length;h+=1)g[h]=Fn(Vn(t,d,h));let y=x(t[3]),p=[];for(let h=0;h<y.length;h+=1)p[h]=On(An(t,y,h));return{c(){e=q("svg"),n=q("g");for(let h=0;h<s.length;h+=1)s[h].c();i=q("g");for(let h=0;h<g.length;h+=1)g[h].c();r=q("g");for(let h=0;h<p.length;h+=1)p[h].c();l=q("rect"),this.h()},l(h){e=B(h,"svg",{width:!0,height:!0});var m=M(e);n=B(m,"g",{class:!0});var v=M(n);for(let E=0;E<s.length;E+=1)s[E].l(v);v.forEach(S),i=B(m,"g",{class:!0});var _=M(i);for(let E=0;E<g.length;E+=1)g[E].l(_);_.forEach(S),r=B(m,"g",{class:!0});var k=M(r);for(let E=0;E<p.length;E+=1)p[E].l(k);k.forEach(S),l=B(m,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0,class:!0}),M(l).forEach(S),m.forEach(S),this.h()},h(){w(n,"class","boundary svelte-12vxr0s"),w(i,"class","streets svelte-12vxr0s"),w(r,"class","legend-points svelte-12vxr0s"),w(l,"x",o=t[7].x),w(l,"y",c=t[7].y),w(l,"width",u=t[7].width),w(l,"height",f=t[7].height),w(l,"fill","var(--primary-color)"),w(l,"stroke","red"),w(l,"stroke-width","0.5"),w(l,"class","svelte-12vxr0s"),w(e,"width",t[0]),w(e,"height",t[1])},m(h,m){L(h,e,m),b(e,n);for(let v=0;v<s.length;v+=1)s[v]&&s[v].m(n,null);b(e,i);for(let v=0;v<g.length;v+=1)g[v]&&g[v].m(i,null);b(e,r);for(let v=0;v<p.length;v+=1)p[v]&&p[v].m(r,null);b(e,l)},p(h,m){if(m&36){a=x(h[2]);let v;for(v=0;v<a.length;v+=1){const _=jn(h,a,v);s[v]?s[v].p(_,m):(s[v]=zn(_),s[v].c(),s[v].m(n,null))}for(;v<s.length;v+=1)s[v].d(1);s.length=a.length}if(m&96){d=x(h[6]);let v;for(v=0;v<d.length;v+=1){const _=Vn(h,d,v);g[v]?g[v].p(_,m):(g[v]=Fn(_),g[v].c(),g[v].m(i,null))}for(;v<g.length;v+=1)g[v].d(1);g.length=d.length}if(m&8){y=x(h[3]);let v;for(v=0;v<y.length;v+=1){const _=An(h,y,v);p[v]?p[v].p(_,m):(p[v]=On(_),p[v].c(),p[v].m(r,null))}for(;v<p.length;v+=1)p[v].d(1);p.length=y.length}m&128&&o!==(o=h[7].x)&&w(l,"x",o),m&128&&c!==(c=h[7].y)&&w(l,"y",c),m&128&&u!==(u=h[7].width)&&w(l,"width",u),m&128&&f!==(f=h[7].height)&&w(l,"height",f),m&1&&w(e,"width",h[0]),m&2&&w(e,"height",h[1])},d(h){h&&S(e),De(s,h),De(g,h),De(p,h)}}}function zn(t){let e,n;return{c(){e=q("path"),this.h()},l(i){e=B(i,"path",{d:!0,class:!0}),M(e).forEach(S),this.h()},h(){w(e,"d",n=t[5](t[21])),w(e,"class","boundary svelte-12vxr0s")},m(i,r){L(i,e,r)},p(i,r){r&36&&n!==(n=i[5](i[21]))&&w(e,"d",n)},d(i){i&&S(e)}}}function Fn(t){let e,n;return{c(){e=q("path"),this.h()},l(i){e=B(i,"path",{d:!0,class:!0}),M(e).forEach(S),this.h()},h(){w(e,"d",n=t[5](t[21])),w(e,"class","street")},m(i,r){L(i,e,r)},p(i,r){r&96&&n!==(n=i[5](i[21]))&&w(e,"d",n)},d(i){i&&S(e)}}}function Wn(t){let e,n,i;return{c(){e=q("circle"),this.h()},l(r){e=B(r,"circle",{cx:!0,cy:!0,r:!0,class:!0}),M(e).forEach(S),this.h()},h(){w(e,"cx",n=t[18].cx),w(e,"cy",i=t[18].cy),w(e,"r",1),w(e,"class","svelte-12vxr0s")},m(r,l){L(r,e,l)},p(r,l){l&8&&n!==(n=r[18].cx)&&w(e,"cx",n),l&8&&i!==(i=r[18].cy)&&w(e,"cy",i)},d(r){r&&S(e)}}}function On(t){let e,n=t[18].cx&&t[18].cy&&Wn(t);return{c(){n&&n.c(),e=Ie()},l(i){n&&n.l(i),e=Ie()},m(i,r){n&&n.m(i,r),L(i,e,r)},p(i,r){i[18].cx&&i[18].cy?n?n.p(i,r):(n=Wn(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(i){i&&S(e),n&&n.d(i)}}}function Ir(t){let e,n=t[2].length>0&&Un(t);return{c(){e=T("article"),n&&n.c(),this.h()},l(i){e=P(i,"ARTICLE",{class:!0});var r=M(e);n&&n.l(r),r.forEach(S),this.h()},h(){w(e,"class","map")},m(i,r){L(i,e,r),n&&n.m(e,null),t[13](e)},p(i,[r]){i[2].length>0?n?n.p(i,r):(n=Un(i),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},i:le,o:le,d(i){i&&S(e),n&&n.d(),t[13](null)}}}function Mr(t,e,n){let{data:i}=e,{windowWidth:r}=e,{scrollPercentage:l}=e,{containerHeight:o}=e,{viewportHeight:c}=e,u,f=r>800?100:50,a=r>800?300:150,s=0,d=0,g,y,p=[],h=[],m=[],v={};function _(E,I){g=di().rotate([-48,48]).scale(1).translate([0,0]);const R=_t().projection(g).bounds({type:"FeatureCollection",features:p}),A=R[1][0]-R[0][0],j=R[1][1]-R[0][1],N=(R[0][0]+R[1][0])/2,J=(R[0][1]+R[1][1])/2,W=[10,10],z=Math.min((E-W[0])/A,(I-W[1])/j),C=[E/2-z*N,I/2-z*J];g=g.scale(z).translate(C),n(5,y=_t().projection(g)),n(3,h=h.map(V=>{const[Q,ee]=g([V.lon,V.lat]);return{...V,cx:Q,cy:ee}})),n(0,s=E),n(1,d=I)}function k(E){qt[E?"unshift":"push"](()=>{u=E,n(4,u)})}return t.$$set=E=>{"data"in E&&n(8,i=E.data),"windowWidth"in E&&n(9,r=E.windowWidth),"scrollPercentage"in E&&n(10,l=E.scrollPercentage),"containerHeight"in E&&n(11,o=E.containerHeight),"viewportHeight"in E&&n(12,c=E.viewportHeight)},t.$$.update=()=>{if(t.$$.dirty&4&&p.length==0&&(fetch("boundary.geojson").then(E=>E.json()).then(E=>{n(2,p=E.features)}),fetch("streets.geojson").then(E=>E.json()).then(E=>{n(6,m=E.features)})),t.$$.dirty&256&&n(3,h=i.map(E=>({...E,direction:E.Direction?E.Direction:Math.random()>.5?"left":"right",date:E["Date of incident"]}))),t.$$.dirty&8&&h&&_(f,a),t.$$.dirty&4&&f&&p.length>0&&_(f,a),t.$$.dirty&7171&&d&&o){const E=d/o,I=c*E;n(7,v={x:0,y:(d-I)*(l/100),width:s,height:I})}},[s,d,p,h,u,y,m,v,i,r,l,o,c,k]}class Tr extends we{constructor(e){super(),Ee(this,e,Mr,Ir,ye,{data:8,windowWidth:9,scrollPercentage:10,containerHeight:11,viewportHeight:12})}}var Hn={},Ct={},Dt=34,Be=10,bt=13;function vi(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function Pr(t,e){var n=vi(t);return function(i,r){return e(n(i),r,t)}}function qn(t){var e=Object.create(null),n=[];return t.forEach(function(i){for(var r in i)r in e||n.push(e[r]=r)}),n}function ie(t,e){var n=t+"",i=n.length;return i<e?new Array(e-i+1).join(0)+n:n}function Nr(t){return t<0?"-"+ie(-t,6):t>9999?"+"+ie(t,6):ie(t,4)}function Lr(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),i=t.getUTCSeconds(),r=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":Nr(t.getUTCFullYear())+"-"+ie(t.getUTCMonth()+1,2)+"-"+ie(t.getUTCDate(),2)+(r?"T"+ie(e,2)+":"+ie(n,2)+":"+ie(i,2)+"."+ie(r,3)+"Z":i?"T"+ie(e,2)+":"+ie(n,2)+":"+ie(i,2)+"Z":n||e?"T"+ie(e,2)+":"+ie(n,2)+"Z":"")}function Ar(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function i(s,d){var g,y,p=r(s,function(h,m){if(g)return g(h,m-1);y=h,g=d?Pr(h,d):vi(h)});return p.columns=y||[],p}function r(s,d){var g=[],y=s.length,p=0,h=0,m,v=y<=0,_=!1;s.charCodeAt(y-1)===Be&&--y,s.charCodeAt(y-1)===bt&&--y;function k(){if(v)return Ct;if(_)return _=!1,Hn;var I,D=p,R;if(s.charCodeAt(D)===Dt){for(;p++<y&&s.charCodeAt(p)!==Dt||s.charCodeAt(++p)===Dt;);return(I=p)>=y?v=!0:(R=s.charCodeAt(p++))===Be?_=!0:R===bt&&(_=!0,s.charCodeAt(p)===Be&&++p),s.slice(D+1,I-1).replace(/""/g,'"')}for(;p<y;){if((R=s.charCodeAt(I=p++))===Be)_=!0;else if(R===bt)_=!0,s.charCodeAt(p)===Be&&++p;else if(R!==n)continue;return s.slice(D,I)}return v=!0,s.slice(D,y)}for(;(m=k())!==Ct;){for(var E=[];m!==Hn&&m!==Ct;)E.push(m),m=k();d&&(E=d(E,h++))==null||g.push(E)}return g}function l(s,d){return s.map(function(g){return d.map(function(y){return a(g[y])}).join(t)})}function o(s,d){return d==null&&(d=qn(s)),[d.map(a).join(t)].concat(l(s,d)).join(`
`)}function c(s,d){return d==null&&(d=qn(s)),l(s,d).join(`
`)}function u(s){return s.map(f).join(`
`)}function f(s){return s.map(a).join(t)}function a(s){return s==null?"":s instanceof Date?Lr(s):e.test(s+="")?'"'+s.replace(/"/g,'""')+'"':s}return{parse:i,parseRows:r,format:o,formatBody:c,formatRows:u,formatRow:f,formatValue:a}}var Vr=Ar(","),jr=Vr.parse;function Ur(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function zr(t,e){return fetch(t,e).then(Ur)}function Fr(t){return function(e,n,i){return arguments.length===2&&typeof n=="function"&&(i=n,n=void 0),zr(e,n).then(function(r){return t(r,i)})}}var Wr=Fr(jr);function Je(t,e,n){this.k=t,this.x=e,this.y=n}Je.prototype={constructor:Je,scale:function(t){return t===1?this:new Je(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Je(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Je.prototype;const We=t=>new Date(t),_i=t=>{const e=t.map(r=>We(r["Post Date"])).filter(r=>r instanceof Date&&!isNaN(r)),n=new Date(Math.min(...e.map(r=>r.getTime()))),i=new Date(Math.max(...e.map(r=>r.getTime())));return{min:n,max:i}};function Or(t){let e,n="Loading date range...";return{c(){e=T("p"),e.textContent=n,this.h()},l(i){e=P(i,"P",{class:!0,"data-svelte-h":!0}),fe(e)!=="svelte-1ibifh0"&&(e.textContent=n),this.h()},h(){w(e,"class","tiny svelte-1vv8vsv")},m(i,r){L(i,e,r)},p:le,d(i){i&&S(e)}}}function Hr(t){let e,n="Geolocated Israeli military strike footage in Gaza",i,r,l=t[0].min.toLocaleDateString("en-US",{month:"short",day:"numeric"})+"",o,c,u=t[0].max.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})+"",f;return{c(){e=T("p"),e.textContent=n,i=Y(),r=T("p"),o=te(l),c=te(` –
            `),f=te(u),this.h()},l(a){e=P(a,"P",{class:!0,"data-svelte-h":!0}),fe(e)!=="svelte-1d8yc0y"&&(e.textContent=n),i=Z(a),r=P(a,"P",{class:!0});var s=M(r);o=ne(s,l),c=ne(s,` –
            `),f=ne(s,u),s.forEach(S),this.h()},h(){w(e,"class","svelte-1vv8vsv"),w(r,"class","tiny svelte-1vv8vsv")},m(a,s){L(a,e,s),L(a,i,s),L(a,r,s),b(r,o),b(r,c),b(r,f)},p(a,s){s&1&&l!==(l=a[0].min.toLocaleDateString("en-US",{month:"short",day:"numeric"})+"")&&me(o,l),s&1&&u!==(u=a[0].max.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})+"")&&me(f,u)},d(a){a&&(S(e),S(i),S(r))}}}function qr(t){let e;function n(l,o){return l[0].min&&l[0].max?Hr:Or}let i=n(t),r=i(t);return{c(){e=T("div"),r.c()},l(l){e=P(l,"DIV",{});var o=M(e);r.l(o),o.forEach(S)},m(l,o){L(l,e,o),r.m(e,null)},p(l,[o]){i===(i=n(l))&&r?r.p(l,o):(r.d(1),r=i(l),r&&(r.c(),r.m(e,null)))},i:le,o:le,d(l){l&&S(e),r.d()}}}function Br(t,e,n){let{data:i=[]}=e,r={min:null,max:null};return t.$$set=l=>{"data"in l&&n(1,i=l.data)},t.$$.update=()=>{t.$$.dirty&2&&i.length&&n(0,r=_i(i))},[r,i]}class Gr extends we{constructor(e){super(),Ee(this,e,Br,qr,ye,{data:1})}}function Yr(t){var m;let e,n,i,r,l,o=((m=t[0])==null?void 0:m.length)+"",c,u,f,a=(t[1]?t[4](new Date(t[1])):t[4](new Date(t[3])))+"",s,d,g,y,p='<svg class="marker svelte-1ys8802" width=".8rem" height=".8rem" viewBox="0 0 20 29" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M20 0H0V15.6522L10 28.2609L20 15.6522V0ZM10 15.8967C13.1216 15.8967 15.6522 13.3266 15.6522 10.1562C15.6522 6.98586 13.1216 4.41576 10 4.41576C6.87839 4.41576 4.34783 6.98586 4.34783 10.1562C4.34783 13.3266 6.87839 15.8967 10 15.8967Z" fill="white" class="svelte-1ys8802"></path></svg> <p class="explore svelte-1ys8802">Strike footage matched with civilian harm allegation</p> <svg class="marker svelte-1ys8802" width=".8rem" height=".8rem" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><ellipse cx="10" cy="10" rx="4" ry="4" fill="white" class="svelte-1ys8802"></ellipse></svg> <p class="svelte-1ys8802">Geolocated Israeli military strike footage</p>',h;return i=new Gr({props:{data:t[2]}}),{c(){e=T("div"),n=T("div"),de(i.$$.fragment),r=Y(),l=T("div"),c=te(o),u=te(` incidents found from
        `),f=T("strong"),s=te(a),d=te(" onwards"),g=Y(),y=T("div"),y.innerHTML=p,this.h()},l(v){e=P(v,"DIV",{class:!0});var _=M(e);n=P(_,"DIV",{class:!0});var k=M(n);ge(i.$$.fragment,k),k.forEach(S),r=Z(_),l=P(_,"DIV",{class:!0});var E=M(l);c=ne(E,o),u=ne(E,` incidents found from
        `),f=P(E,"STRONG",{});var I=M(f);s=ne(I,a),I.forEach(S),d=ne(E," onwards"),E.forEach(S),g=Z(_),y=P(_,"DIV",{class:!0,"data-svelte-h":!0}),fe(y)!=="svelte-atfr35"&&(y.innerHTML=p),_.forEach(S),this.h()},h(){w(n,"class","svelte-1ys8802"),w(l,"class","centre-heading svelte-1ys8802"),w(y,"class","legend svelte-1ys8802"),w(e,"class","results svelte-1ys8802")},m(v,_){L(v,e,_),b(e,n),ve(i,n,null),b(e,r),b(e,l),b(l,c),b(l,u),b(l,f),b(f,s),b(l,d),b(e,g),b(e,y),h=!0},p(v,[_]){var E;const k={};_&4&&(k.data=v[2]),i.$set(k),(!h||_&1)&&o!==(o=((E=v[0])==null?void 0:E.length)+"")&&me(c,o),(!h||_&10)&&a!==(a=(v[1]?v[4](new Date(v[1])):v[4](new Date(v[3])))+"")&&me(s,a)},i(v){h||(F(i.$$.fragment,v),h=!0)},o(v){O(i.$$.fragment,v),h=!1},d(v){v&&S(e),_e(i)}}}function Zr(t,e,n){let{filteredData:i}=e,{selectedDate:r}=e,{data:l}=e,{minDate:o}=e;const c=u=>u.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return t.$$set=u=>{"filteredData"in u&&n(0,i=u.filteredData),"selectedDate"in u&&n(1,r=u.selectedDate),"data"in u&&n(2,l=u.data),"minDate"in u&&n(3,o=u.minDate)},[i,r,l,o,c]}class Xr extends we{constructor(e){super(),Ee(this,e,Zr,Yr,ye,{filteredData:0,selectedDate:1,data:2,minDate:3})}}function Bn(t,e,n){const i=t.slice();return i[12]=e[n],i[14]=n,i}function Gn(t){let e,n,i,r=We(t[12]).toLocaleDateString("en-US",{month:"short",day:"numeric"})+"",l,o,c,u,f;function a(...d){return t[9](t[12],...d)}function s(){return t[10](t[12])}return{c(){e=T("div"),n=T("div"),i=T("p"),l=te(r),o=Y(),this.h()},l(d){e=P(d,"DIV",{class:!0,style:!0,title:!0});var g=M(e);n=P(g,"DIV",{class:!0});var y=M(n);i=P(y,"P",{});var p=M(i);l=ne(p,r),p.forEach(S),y.forEach(S),o=Z(g),g.forEach(S),this.h()},h(){w(n,"class","count svelte-1aozgj1"),w(e,"class","bar svelte-1aozgj1"),Ue(e,"height",t[4][t[14]]*2+"px"),Ue(e,"background-color",t[5]===t[12]?"black":"var(--primary-color)"),Ue(e,"opacity",t[0].length===0||t[0].find(a)?1:.3),w(e,"title",c=t[12]+": "+t[4][t[14]]+" incidents")},m(d,g){L(d,e,g),b(e,n),b(n,i),b(i,l),b(e,o),u||(f=Re(e,"click",s),u=!0)},p(d,g){t=d,g&8&&r!==(r=We(t[12]).toLocaleDateString("en-US",{month:"short",day:"numeric"})+"")&&me(l,r),g&16&&Ue(e,"height",t[4][t[14]]*2+"px"),g&40&&Ue(e,"background-color",t[5]===t[12]?"black":"var(--primary-color)"),g&9&&Ue(e,"opacity",t[0].length===0||t[0].find(a)?1:.3),g&24&&c!==(c=t[12]+": "+t[4][t[14]]+" incidents")&&w(e,"title",c)},d(d){d&&S(e),u=!1,f()}}}function Kr(t){let e,n,i,r,l;n=new Xr({props:{filteredData:t[0],selectedDate:t[5],data:t[1],minDate:t[2]}});let o=x(t[3]),c=[];for(let u=0;u<o.length;u+=1)c[u]=Gn(Bn(t,o,u));return{c(){e=T("div"),de(n.$$.fragment),i=Y(),r=T("div");for(let u=0;u<c.length;u+=1)c[u].c();this.h()},l(u){e=P(u,"DIV",{class:!0});var f=M(e);ge(n.$$.fragment,f),i=Z(f),r=P(f,"DIV",{class:!0});var a=M(r);for(let s=0;s<c.length;s+=1)c[s].l(a);a.forEach(S),f.forEach(S),this.h()},h(){w(r,"class","chart svelte-1aozgj1"),w(e,"class","timeline-container svelte-1aozgj1")},m(u,f){L(u,e,f),ve(n,e,null),b(e,i),b(e,r);for(let a=0;a<c.length;a+=1)c[a]&&c[a].m(r,null);l=!0},p(u,[f]){const a={};if(f&1&&(a.filteredData=u[0]),f&32&&(a.selectedDate=u[5]),f&2&&(a.data=u[1]),f&4&&(a.minDate=u[2]),n.$set(a),f&121){o=x(u[3]);let s;for(s=0;s<o.length;s+=1){const d=Bn(u,o,s);c[s]?c[s].p(d,f):(c[s]=Gn(d),c[s].c(),c[s].m(r,null))}for(;s<c.length;s+=1)c[s].d(1);c.length=o.length}},i(u){l||(F(n.$$.fragment,u),l=!0)},o(u){O(n.$$.fragment,u),l=!1},d(u){u&&S(e),_e(n),De(c,u)}}}function Jr(t,e,n){let i,{data:r}=e,{filteredData:l=[]}=e;const o=Zn();let c,u,f={},a=[],s=[];function d(p){i===p?(n(0,l=r),n(5,i=null)):(n(0,l=r.filter(h=>{const m=We(h["Post Date"]);return m&&m.toISOString().split("T")[0]===p})),n(5,i=p)),o("filteredData",l)}const g=(p,h)=>{const m=We(h["Post Date"]);return m&&m.toISOString().split("T")[0]===p},y=p=>d(p);return t.$$set=p=>{"data"in p&&n(1,r=p.data),"filteredData"in p&&n(0,l=p.filteredData)},t.$$.update=()=>{if(t.$$.dirty&2&&n(2,{min:c,max:u}=_i(r),c,(n(7,u),n(1,r))),t.$$.dirty&258&&r.length){n(8,f={});for(let p of r){const h=We(p["Post Date"]);if(h&&!isNaN(h.getTime())){const m=h.toISOString().split("T")[0];n(8,f[m]=(f[m]||0)+1,f)}}}if(t.$$.dirty&412&&c&&u){n(3,a=[]),n(4,s=[]);for(let p=c.getTime();p<=u.getTime();p+=864e5){const h=new Date(p).toISOString().split("T")[0];a.push(h),s.push(f[h]||0)}}},n(5,i=null),[l,r,c,a,s,i,d,u,f,g,y]}class Qr extends we{constructor(e){super(),Ee(this,e,Jr,Kr,ye,{data:1,filteredData:0})}}function $r(t){let e,n,i,r,l,o,c,u,f,a,s,d,g=t[2]>800&&Yn(t);return l=new Er({props:{data:t[1].length>0?t[1]:t[0]}}),u=new Rr({props:{data:t[0]}}),u.$on("updateFilteredData",t[3]),s=new Qr({props:{data:t[0],filteredData:t[1]}}),s.$on("filteredData",t[3]),{c(){e=T("section"),n=T("section"),g&&g.c(),i=Y(),r=T("div"),de(l.$$.fragment),o=Y(),c=T("div"),de(u.$$.fragment),f=Y(),a=T("div"),de(s.$$.fragment),this.h()},l(y){e=P(y,"SECTION",{class:!0});var p=M(e);n=P(p,"SECTION",{});var h=M(n);g&&g.l(h),h.forEach(S),i=Z(p),r=P(p,"DIV",{class:!0});var m=M(r);ge(l.$$.fragment,m),m.forEach(S),o=Z(p),c=P(p,"DIV",{class:!0});var v=M(c);ge(u.$$.fragment,v),v.forEach(S),p.forEach(S),f=Z(y),a=P(y,"DIV",{class:!0});var _=M(a);ge(s.$$.fragment,_),_.forEach(S),this.h()},h(){w(r,"class","mapContainer svelte-brfycw"),w(c,"class","panel svelte-brfycw"),w(e,"class","top svelte-brfycw"),w(a,"class","timeline svelte-brfycw")},m(y,p){L(y,e,p),b(e,n),g&&g.m(n,null),b(e,i),b(e,r),ve(l,r,null),b(e,o),b(e,c),ve(u,c,null),L(y,f,p),L(y,a,p),ve(s,a,null),d=!0},p(y,p){y[2]>800?g?(g.p(y,p),p&4&&F(g,1)):(g=Yn(y),g.c(),F(g,1),g.m(n,null)):g&&(Me(),O(g,1,1,()=>{g=null}),Te());const h={};p&3&&(h.data=y[1].length>0?y[1]:y[0]),l.$set(h);const m={};p&1&&(m.data=y[0]),u.$set(m);const v={};p&1&&(v.data=y[0]),p&2&&(v.filteredData=y[1]),s.$set(v)},i(y){d||(F(g),F(l.$$.fragment,y),F(u.$$.fragment,y),F(s.$$.fragment,y),d=!0)},o(y){O(g),O(l.$$.fragment,y),O(u.$$.fragment,y),O(s.$$.fragment,y),d=!1},d(y){y&&(S(e),S(f),S(a)),g&&g.d(),_e(l),_e(u),_e(s)}}}function xr(t){let e,n="Loading...";return{c(){e=T("p"),e.textContent=n,this.h()},l(i){e=P(i,"P",{class:!0,"data-svelte-h":!0}),fe(e)!=="svelte-1m6gtj"&&(e.textContent=n),this.h()},h(){w(e,"class","loading svelte-brfycw")},m(i,r){L(i,e,r)},p:le,i:le,o:le,d(i){i&&S(e)}}}function Yn(t){let e,n,i;return n=new Tr({props:{data:t[1].length>0?t[1]:t[0],windowWidth:t[2]}}),{c(){e=T("div"),de(n.$$.fragment),this.h()},l(r){e=P(r,"DIV",{class:!0});var l=M(e);ge(n.$$.fragment,l),l.forEach(S),this.h()},h(){w(e,"class","small")},m(r,l){L(r,e,l),ve(n,e,null),i=!0},p(r,l){const o={};l&3&&(o.data=r[1].length>0?r[1]:r[0]),l&4&&(o.windowWidth=r[2]),n.$set(o)},i(r){i||(F(n.$$.fragment,r),i=!0)},o(r){O(n.$$.fragment,r),i=!1},d(r){r&&S(e),_e(n)}}}function el(t){let e,n,i,r;const l=[xr,$r],o=[];function c(u,f){return u[0].length===0?0:1}return n=c(t),i=o[n]=l[n](t),{c(){e=T("section"),i.c(),this.h()},l(u){e=P(u,"SECTION",{class:!0});var f=M(e);i.l(f),f.forEach(S),this.h()},h(){w(e,"class","map")},m(u,f){L(u,e,f),o[n].m(e,null),r=!0},p(u,[f]){let a=n;n=c(u),n===a?o[n].p(u,f):(Me(),O(o[a],1,1,()=>{o[a]=null}),Te(),i=o[n],i?i.p(u,f):(i=o[n]=l[n](u),i.c()),F(i,1),i.m(e,null))},i(u){r||(F(i),r=!0)},o(u){O(i),r=!1},d(u){u&&S(e),o[n].d()}}}function tl(t,e,n){let i=[],r=[],l=0;const o=()=>{n(2,l=window.innerWidth)},c=u=>{n(1,r=u==null?void 0:u.detail)};return Xn(async()=>{n(0,i=await Wr("https://docs.google.com/spreadsheets/d/e/2PACX-1vR2ixzurghRCd5eNEn15gsUC9wjAW2PoB2eIkxNvp89g2vIFjG-to5geUiBIN9yxJrJ_vZkIYesjKOW/pub?output=csv")),n(0,i=i.filter(f=>f["Add to Map"]=="TRUE")),o(),window.addEventListener("resize",o)}),[i,r,l,c]}class nl extends we{constructor(e){super(),Ee(this,e,tl,el,ye,{})}}function il(t){let e,n,i;return n=new nl({}),{c(){e=T("article"),de(n.$$.fragment),this.h()},l(r){e=P(r,"ARTICLE",{class:!0});var l=M(e);ge(n.$$.fragment,l),l.forEach(S),this.h()},h(){w(e,"class","svelte-1732do2")},m(r,l){L(r,e,l),ve(n,e,null),i=!0},p:le,i(r){i||(F(n.$$.fragment,r),i=!0)},o(r){O(n.$$.fragment,r),i=!1},d(r){r&&S(e),_e(n)}}}class al extends we{constructor(e){super(),Ee(this,e,null,il,ye,{})}}export{al as component};

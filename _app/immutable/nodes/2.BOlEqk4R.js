import{s as me,O as q,P as B,f as I,i as S,v as m,Q as Rt,k as L,R as We,n as le,o as at,e as P,t as te,d as T,h as ne,S as tt,l as R,F as mi,T as yi,p as Re,U as Ce,V as wi,x as qt,b as Q,W as De,j as $,m as _e,X as Zt,A as Ei,Y as Zn,r as Xn,w as nt}from"../chunks/scheduler.CFfJM9d-.js";import{S as ye,i as we,t as F,g as Me,a as z,c as Ie,b as pe,d as de,m as ge,e as ve}from"../chunks/index.vBYw-KPi.js";import{w as Kn}from"../chunks/index.B0GAXNr7.js";function x(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}class Ne{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const i=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){const l=i[r],s=e+l,c=Math.abs(e)<Math.abs(l)?e-(s-l):l-(s-e);c&&(i[n++]=c),e=s}return i[n]=e,this._n=n+1,this}valueOf(){const e=this._partials;let i=this._n,n,r,l,s=0;if(i>0){for(s=e[--i];i>0&&(n=s,r=e[--i],s=n+r,l=r-(s-n),!l););i>0&&(l<0&&e[i-1]<0||l>0&&e[i-1]>0)&&(r=l*2,n=s+r,r==n-s&&(s=n))}return s}}function*Si(t){for(const e of t)yield*e}function Jn(t){return Array.from(Si(t))}var O=1e-6,ki=1e-12,j=Math.PI,re=j/2,Xt=j/4,se=j*2,oe=180/j,J=j/180,G=Math.abs,Qn=Math.atan,Ke=Math.atan2,Y=Math.cos,Ci=Math.exp,Di=Math.log,Z=Math.sin,bi=Math.sign||function(t){return t>0?1:t<0?-1:0},Ae=Math.sqrt,Ri=Math.tan;function Mi(t){return t>1?0:t<-1?j:Math.acos(t)}function Je(t){return t>1?re:t<-1?-re:Math.asin(t)}function ce(){}function ut(t,e){t&&Jt.hasOwnProperty(t.type)&&Jt[t.type](t,e)}var Kt={Feature:function(t,e){ut(t.geometry,e)},FeatureCollection:function(t,e){for(var i=t.features,n=-1,r=i.length;++n<r;)ut(i[n].geometry,e)}},Jt={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)t=i[n],e.point(t[0],t[1],t[2])},LineString:function(t,e){Mt(t.coordinates,e,0)},MultiLineString:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)Mt(i[n],e,0)},Polygon:function(t,e){Qt(t.coordinates,e)},MultiPolygon:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)Qt(i[n],e)},GeometryCollection:function(t,e){for(var i=t.geometries,n=-1,r=i.length;++n<r;)ut(i[n],e)}};function Mt(t,e,i){var n=-1,r=t.length-i,l;for(e.lineStart();++n<r;)l=t[n],e.point(l[0],l[1],l[2]);e.lineEnd()}function Qt(t,e){var i=-1,n=t.length;for(e.polygonStart();++i<n;)Mt(t[i],e,1);e.polygonEnd()}function Ue(t,e){t&&Kt.hasOwnProperty(t.type)?Kt[t.type](t,e):ut(t,e)}function It(t){return[Ke(t[1],t[0]),Je(t[2])]}function Fe(t){var e=t[0],i=t[1],n=Y(i);return[n*Y(e),n*Z(e),Z(i)]}function it(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ct(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function yt(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function rt(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Pt(t){var e=Ae(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Tt(t,e){function i(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(i.invert=function(n,r){return n=e.invert(n,r),n&&t.invert(n[0],n[1])}),i}function Nt(t,e){return G(t)>j&&(t-=Math.round(t/se)*se),[t,e]}Nt.invert=Nt;function $n(t,e,i){return(t%=se)?e||i?Tt(xt(t),en(e,i)):xt(t):e||i?en(e,i):Nt}function $t(t){return function(e,i){return e+=t,G(e)>j&&(e-=Math.round(e/se)*se),[e,i]}}function xt(t){var e=$t(t);return e.invert=$t(-t),e}function en(t,e){var i=Y(t),n=Z(t),r=Y(e),l=Z(e);function s(c,u){var f=Y(u),a=Y(c)*f,o=Z(c)*f,h=Z(u),g=h*i+a*n;return[Ke(o*r-g*l,a*i-h*n),Je(g*r+o*l)]}return s.invert=function(c,u){var f=Y(u),a=Y(c)*f,o=Z(c)*f,h=Z(u),g=h*r-o*l;return[Ke(o*r+h*l,a*i+g*n),Je(g*i-a*n)]},s}function Ii(t){t=$n(t[0]*J,t[1]*J,t.length>2?t[2]*J:0);function e(i){return i=t(i[0]*J,i[1]*J),i[0]*=oe,i[1]*=oe,i}return e.invert=function(i){return i=t.invert(i[0]*J,i[1]*J),i[0]*=oe,i[1]*=oe,i},e}function Pi(t,e,i,n,r,l){if(i){var s=Y(e),c=Z(e),u=n*i;r==null?(r=e+n*se,l=e-u/2):(r=tn(s,r),l=tn(s,l),(n>0?r<l:r>l)&&(r+=n*se));for(var f,a=r;n>0?a>l:a<l;a-=u)f=It([s,-c*Y(a),-c*Z(a)]),t.point(f[0],f[1])}}function tn(t,e){e=Fe(e),e[0]-=t,Pt(e);var i=Mi(-e[1]);return((-e[2]<0?-i:i)+se-O)%se}function xn(){var t=[],e;return{point:function(i,n,r){e.push([i,n,r])},lineStart:function(){t.push(e=[])},lineEnd:ce,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var i=t;return t=[],e=null,i}}}function st(t,e){return G(t[0]-e[0])<O&&G(t[1]-e[1])<O}function lt(t,e,i,n){this.x=t,this.z=e,this.o=i,this.e=n,this.v=!1,this.n=this.p=null}function ei(t,e,i,n,r){var l=[],s=[],c,u;if(t.forEach(function(p){if(!((v=p.length-1)<=0)){var v,d=p[0],y=p[v],_;if(st(d,y)){if(!d[2]&&!y[2]){for(r.lineStart(),c=0;c<v;++c)r.point((d=p[c])[0],d[1]);r.lineEnd();return}y[0]+=2*O}l.push(_=new lt(d,p,null,!0)),s.push(_.o=new lt(d,null,_,!1)),l.push(_=new lt(y,p,null,!1)),s.push(_.o=new lt(y,null,_,!0))}}),!!l.length){for(s.sort(e),nn(l),nn(s),c=0,u=s.length;c<u;++c)s[c].e=i=!i;for(var f=l[0],a,o;;){for(var h=f,g=!0;h.v;)if((h=h.n)===f)return;a=h.z,r.lineStart();do{if(h.v=h.o.v=!0,h.e){if(g)for(c=0,u=a.length;c<u;++c)r.point((o=a[c])[0],o[1]);else n(h.x,h.n.x,1,r);h=h.n}else{if(g)for(a=h.p.z,c=a.length-1;c>=0;--c)r.point((o=a[c])[0],o[1]);else n(h.x,h.p.x,-1,r);h=h.p}h=h.o,a=h.z,g=!g}while(!h.v);r.lineEnd()}}}function nn(t){if(e=t.length){for(var e,i=0,n=t[0],r;++i<e;)n.n=r=t[i],r.p=n,n=r;n.n=r=t[0],r.p=n}}function wt(t){return G(t[0])<=j?t[0]:bi(t[0])*((G(t[0])+j)%se-j)}function Ti(t,e){var i=wt(e),n=e[1],r=Z(n),l=[Z(i),-Y(i),0],s=0,c=0,u=new Ne;r===1?n=re+O:r===-1&&(n=-re-O);for(var f=0,a=t.length;f<a;++f)if(h=(o=t[f]).length)for(var o,h,g=o[h-1],p=wt(g),v=g[1]/2+Xt,d=Z(v),y=Y(v),_=0;_<h;++_,p=C,d=M,y=D,g=w){var w=o[_],C=wt(w),E=w[1]/2+Xt,M=Z(E),D=Y(E),b=C-p,A=b>=0?1:-1,U=A*b,N=U>j,X=d*M;if(u.add(Ke(X*A*Z(U),y*D+X*Y(U))),s+=N?b+A*se:b,N^p>=i^C>=i){var H=ct(Fe(g),Fe(w));Pt(H);var W=ct(l,H);Pt(W);var k=(N^b>=0?-1:1)*Je(W[2]);(n>k||n===k&&(H[0]||H[1]))&&(c+=N^b>=0?1:-1)}}return(s<-O||s<O&&u<-ki)^c&1}function ti(t,e,i,n){return function(r){var l=e(r),s=xn(),c=e(s),u=!1,f,a,o,h={point:g,lineStart:v,lineEnd:d,polygonStart:function(){h.point=y,h.lineStart=_,h.lineEnd=w,a=[],f=[]},polygonEnd:function(){h.point=g,h.lineStart=v,h.lineEnd=d,a=Jn(a);var C=Ti(f,n);a.length?(u||(r.polygonStart(),u=!0),ei(a,Li,C,i,r)):C&&(u||(r.polygonStart(),u=!0),r.lineStart(),i(null,null,1,r),r.lineEnd()),u&&(r.polygonEnd(),u=!1),a=f=null},sphere:function(){r.polygonStart(),r.lineStart(),i(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function g(C,E){t(C,E)&&r.point(C,E)}function p(C,E){l.point(C,E)}function v(){h.point=p,l.lineStart()}function d(){h.point=g,l.lineEnd()}function y(C,E){o.push([C,E]),c.point(C,E)}function _(){c.lineStart(),o=[]}function w(){y(o[0][0],o[0][1]),c.lineEnd();var C=c.clean(),E=s.result(),M,D=E.length,b,A,U;if(o.pop(),f.push(o),o=null,!!D){if(C&1){if(A=E[0],(b=A.length-1)>0){for(u||(r.polygonStart(),u=!0),r.lineStart(),M=0;M<b;++M)r.point((U=A[M])[0],U[1]);r.lineEnd()}return}D>1&&C&2&&E.push(E.pop().concat(E.shift())),a.push(E.filter(Ni))}}return h}}function Ni(t){return t.length>1}function Li(t,e){return((t=t.x)[0]<0?t[1]-re-O:re-t[1])-((e=e.x)[0]<0?e[1]-re-O:re-e[1])}const rn=ti(function(){return!0},Ai,Ui,[-j,-re]);function Ai(t){var e=NaN,i=NaN,n=NaN,r;return{lineStart:function(){t.lineStart(),r=1},point:function(l,s){var c=l>0?j:-j,u=G(l-e);G(u-j)<O?(t.point(e,i=(i+s)/2>0?re:-re),t.point(n,i),t.lineEnd(),t.lineStart(),t.point(c,i),t.point(l,i),r=0):n!==c&&u>=j&&(G(e-n)<O&&(e-=n*O),G(l-c)<O&&(l-=c*O),i=Vi(e,i,l,s),t.point(n,i),t.lineEnd(),t.lineStart(),t.point(c,i),r=0),t.point(e=l,i=s),n=c},lineEnd:function(){t.lineEnd(),e=i=NaN},clean:function(){return 2-r}}}function Vi(t,e,i,n){var r,l,s=Z(t-i);return G(s)>O?Qn((Z(e)*(l=Y(n))*Z(i)-Z(n)*(r=Y(e))*Z(t))/(r*l*s)):(e+n)/2}function Ui(t,e,i,n){var r;if(t==null)r=i*re,n.point(-j,r),n.point(0,r),n.point(j,r),n.point(j,0),n.point(j,-r),n.point(0,-r),n.point(-j,-r),n.point(-j,0),n.point(-j,r);else if(G(t[0]-e[0])>O){var l=t[0]<e[0]?j:-j;r=i*l/2,n.point(-l,r),n.point(0,r),n.point(l,r)}else n.point(e[0],e[1])}function ji(t){var e=Y(t),i=2*J,n=e>0,r=G(e)>O;function l(a,o,h,g){Pi(g,t,i,h,a,o)}function s(a,o){return Y(a)*Y(o)>e}function c(a){var o,h,g,p,v;return{lineStart:function(){p=g=!1,v=1},point:function(d,y){var _=[d,y],w,C=s(d,y),E=n?C?0:f(d,y):C?f(d+(d<0?j:-j),y):0;if(!o&&(p=g=C)&&a.lineStart(),C!==g&&(w=u(o,_),(!w||st(o,w)||st(_,w))&&(_[2]=1)),C!==g)v=0,C?(a.lineStart(),w=u(_,o),a.point(w[0],w[1])):(w=u(o,_),a.point(w[0],w[1],2),a.lineEnd()),o=w;else if(r&&o&&n^C){var M;!(E&h)&&(M=u(_,o,!0))&&(v=0,n?(a.lineStart(),a.point(M[0][0],M[0][1]),a.point(M[1][0],M[1][1]),a.lineEnd()):(a.point(M[1][0],M[1][1]),a.lineEnd(),a.lineStart(),a.point(M[0][0],M[0][1],3)))}C&&(!o||!st(o,_))&&a.point(_[0],_[1]),o=_,g=C,h=E},lineEnd:function(){g&&a.lineEnd(),o=null},clean:function(){return v|(p&&g)<<1}}}function u(a,o,h){var g=Fe(a),p=Fe(o),v=[1,0,0],d=ct(g,p),y=it(d,d),_=d[0],w=y-_*_;if(!w)return!h&&a;var C=e*y/w,E=-e*_/w,M=ct(v,d),D=rt(v,C),b=rt(d,E);yt(D,b);var A=M,U=it(D,A),N=it(A,A),X=U*U-N*(it(D,D)-1);if(!(X<0)){var H=Ae(X),W=rt(A,(-U-H)/N);if(yt(W,D),W=It(W),!h)return W;var k=a[0],V=o[0],K=a[1],ee=o[1],ae;V<k&&(ae=k,k=V,V=ae);var ze=V-k,Ee=G(ze-j)<O,Pe=Ee||ze<O;if(!Ee&&ee<K&&(ae=K,K=ee,ee=ae),Pe?Ee?K+ee>0^W[1]<(G(W[0]-k)<O?K:ee):K<=W[1]&&W[1]<=ee:ze>j^(k<=W[0]&&W[0]<=V)){var Se=rt(A,(-U+H)/N);return yt(Se,D),[W,It(Se)]}}}function f(a,o){var h=n?t:j-t,g=0;return a<-h?g|=1:a>h&&(g|=2),o<-h?g|=4:o>h&&(g|=8),g}return ti(s,c,l,n?[0,-t]:[-j,t-j])}function Wi(t,e,i,n,r,l){var s=t[0],c=t[1],u=e[0],f=e[1],a=0,o=1,h=u-s,g=f-c,p;if(p=i-s,!(!h&&p>0)){if(p/=h,h<0){if(p<a)return;p<o&&(o=p)}else if(h>0){if(p>o)return;p>a&&(a=p)}if(p=r-s,!(!h&&p<0)){if(p/=h,h<0){if(p>o)return;p>a&&(a=p)}else if(h>0){if(p<a)return;p<o&&(o=p)}if(p=n-c,!(!g&&p>0)){if(p/=g,g<0){if(p<a)return;p<o&&(o=p)}else if(g>0){if(p>o)return;p>a&&(a=p)}if(p=l-c,!(!g&&p<0)){if(p/=g,g<0){if(p>o)return;p>a&&(a=p)}else if(g>0){if(p<a)return;p<o&&(o=p)}return a>0&&(t[0]=s+a*h,t[1]=c+a*g),o<1&&(e[0]=s+o*h,e[1]=c+o*g),!0}}}}}var qe=1e9,ot=-qe;function Fi(t,e,i,n){function r(f,a){return t<=f&&f<=i&&e<=a&&a<=n}function l(f,a,o,h){var g=0,p=0;if(f==null||(g=s(f,o))!==(p=s(a,o))||u(f,a)<0^o>0)do h.point(g===0||g===3?t:i,g>1?n:e);while((g=(g+o+4)%4)!==p);else h.point(a[0],a[1])}function s(f,a){return G(f[0]-t)<O?a>0?0:3:G(f[0]-i)<O?a>0?2:1:G(f[1]-e)<O?a>0?1:0:a>0?3:2}function c(f,a){return u(f.x,a.x)}function u(f,a){var o=s(f,1),h=s(a,1);return o!==h?o-h:o===0?a[1]-f[1]:o===1?f[0]-a[0]:o===2?f[1]-a[1]:a[0]-f[0]}return function(f){var a=f,o=xn(),h,g,p,v,d,y,_,w,C,E,M,D={point:b,lineStart:X,lineEnd:H,polygonStart:U,polygonEnd:N};function b(k,V){r(k,V)&&a.point(k,V)}function A(){for(var k=0,V=0,K=g.length;V<K;++V)for(var ee=g[V],ae=1,ze=ee.length,Ee=ee[0],Pe,Se,et=Ee[0],Ve=Ee[1];ae<ze;++ae)Pe=et,Se=Ve,Ee=ee[ae],et=Ee[0],Ve=Ee[1],Se<=n?Ve>n&&(et-Pe)*(n-Se)>(Ve-Se)*(t-Pe)&&++k:Ve<=n&&(et-Pe)*(n-Se)<(Ve-Se)*(t-Pe)&&--k;return k}function U(){a=o,h=[],g=[],M=!0}function N(){var k=A(),V=M&&k,K=(h=Jn(h)).length;(V||K)&&(f.polygonStart(),V&&(f.lineStart(),l(null,null,1,f),f.lineEnd()),K&&ei(h,c,k,l,f),f.polygonEnd()),a=f,h=g=p=null}function X(){D.point=W,g&&g.push(p=[]),E=!0,C=!1,_=w=NaN}function H(){h&&(W(v,d),y&&C&&o.rejoin(),h.push(o.result())),D.point=b,C&&a.lineEnd()}function W(k,V){var K=r(k,V);if(g&&p.push([k,V]),E)v=k,d=V,y=K,E=!1,K&&(a.lineStart(),a.point(k,V));else if(K&&C)a.point(k,V);else{var ee=[_=Math.max(ot,Math.min(qe,_)),w=Math.max(ot,Math.min(qe,w))],ae=[k=Math.max(ot,Math.min(qe,k)),V=Math.max(ot,Math.min(qe,V))];Wi(ee,ae,t,e,i,n)?(C||(a.lineStart(),a.point(ee[0],ee[1])),a.point(ae[0],ae[1]),K||a.lineEnd(),M=!1):K&&(a.lineStart(),a.point(k,V),M=!1)}_=k,w=V,C=K}return D}}const Lt=t=>t;var Et=new Ne,At=new Ne,ni,ii,Vt,Ut,ke={point:ce,lineStart:ce,lineEnd:ce,polygonStart:function(){ke.lineStart=Hi,ke.lineEnd=Oi},polygonEnd:function(){ke.lineStart=ke.lineEnd=ke.point=ce,Et.add(G(At)),At=new Ne},result:function(){var t=Et/2;return Et=new Ne,t}};function Hi(){ke.point=zi}function zi(t,e){ke.point=ri,ni=Vt=t,ii=Ut=e}function ri(t,e){At.add(Ut*t-Vt*e),Vt=t,Ut=e}function Oi(){ri(ni,ii)}var He=1/0,ft=He,Qe=-He,ht=Qe,pt={point:qi,lineStart:ce,lineEnd:ce,polygonStart:ce,polygonEnd:ce,result:function(){var t=[[He,ft],[Qe,ht]];return Qe=ht=-(ft=He=1/0),t}};function qi(t,e){t<He&&(He=t),t>Qe&&(Qe=t),e<ft&&(ft=e),e>ht&&(ht=e)}var jt=0,Wt=0,Be=0,dt=0,gt=0,je=0,Ft=0,Ht=0,Ge=0,li,oi,fe,he,ue={point:Le,lineStart:ln,lineEnd:on,polygonStart:function(){ue.lineStart=Yi,ue.lineEnd=Zi},polygonEnd:function(){ue.point=Le,ue.lineStart=ln,ue.lineEnd=on},result:function(){var t=Ge?[Ft/Ge,Ht/Ge]:je?[dt/je,gt/je]:Be?[jt/Be,Wt/Be]:[NaN,NaN];return jt=Wt=Be=dt=gt=je=Ft=Ht=Ge=0,t}};function Le(t,e){jt+=t,Wt+=e,++Be}function ln(){ue.point=Bi}function Bi(t,e){ue.point=Gi,Le(fe=t,he=e)}function Gi(t,e){var i=t-fe,n=e-he,r=Ae(i*i+n*n);dt+=r*(fe+t)/2,gt+=r*(he+e)/2,je+=r,Le(fe=t,he=e)}function on(){ue.point=Le}function Yi(){ue.point=Xi}function Zi(){si(li,oi)}function Xi(t,e){ue.point=si,Le(li=fe=t,oi=he=e)}function si(t,e){var i=t-fe,n=e-he,r=Ae(i*i+n*n);dt+=r*(fe+t)/2,gt+=r*(he+e)/2,je+=r,r=he*t-fe*e,Ft+=r*(fe+t),Ht+=r*(he+e),Ge+=r*3,Le(fe=t,he=e)}function ai(t){this._context=t}ai.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,se);break}}},result:ce};var zt=new Ne,St,ui,ci,Ye,Ze,$e={point:ce,lineStart:function(){$e.point=Ki},lineEnd:function(){St&&fi(ui,ci),$e.point=ce},polygonStart:function(){St=!0},polygonEnd:function(){St=null},result:function(){var t=+zt;return zt=new Ne,t}};function Ki(t,e){$e.point=fi,ui=Ye=t,ci=Ze=e}function fi(t,e){Ye-=t,Ze-=e,zt.add(Ae(Ye*Ye+Ze*Ze)),Ye=t,Ze=e}let sn,vt,an,un;class cn{constructor(e){this._append=e==null?hi:Ji(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,i){switch(this._point){case 0:{this._append`M${e},${i}`,this._point=1;break}case 1:{this._append`L${e},${i}`;break}default:{if(this._append`M${e},${i}`,this._radius!==an||this._append!==vt){const n=this._radius,r=this._;this._="",this._append`m0,${n}a${n},${n} 0 1,1 0,${-2*n}a${n},${n} 0 1,1 0,${2*n}z`,an=n,vt=this._append,un=this._,this._=r}this._+=un;break}}}result(){const e=this._;return this._="",e.length?e:null}}function hi(t){let e=1;this._+=t[0];for(const i=t.length;e<i;++e)this._+=arguments[e]+t[e]}function Ji(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return hi;if(e!==sn){const i=10**e;sn=e,vt=function(r){let l=1;this._+=r[0];for(const s=r.length;l<s;++l)this._+=Math.round(arguments[l]*i)/i+r[l]}}return vt}function _t(t,e){let i=3,n=4.5,r,l;function s(c){return c&&(typeof n=="function"&&l.pointRadius(+n.apply(this,arguments)),Ue(c,r(l))),l.result()}return s.area=function(c){return Ue(c,r(ke)),ke.result()},s.measure=function(c){return Ue(c,r($e)),$e.result()},s.bounds=function(c){return Ue(c,r(pt)),pt.result()},s.centroid=function(c){return Ue(c,r(ue)),ue.result()},s.projection=function(c){return arguments.length?(r=c==null?(t=null,Lt):(t=c).stream,s):t},s.context=function(c){return arguments.length?(l=c==null?(e=null,new cn(i)):new ai(e=c),typeof n!="function"&&l.pointRadius(n),s):e},s.pointRadius=function(c){return arguments.length?(n=typeof c=="function"?c:(l.pointRadius(+c),+c),s):n},s.digits=function(c){if(!arguments.length)return i;if(c==null)i=null;else{const u=Math.floor(c);if(!(u>=0))throw new RangeError(`invalid digits: ${c}`);i=u}return e===null&&(l=new cn(i)),s},s.projection(t).digits(i).context(e)}function Bt(t){return function(e){var i=new Ot;for(var n in t)i[n]=t[n];return i.stream=e,i}}function Ot(){}Ot.prototype={constructor:Ot,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Gt(t,e,i){var n=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),n!=null&&t.clipExtent(null),Ue(i,t.stream(pt)),e(pt.result()),n!=null&&t.clipExtent(n),t}function pi(t,e,i){return Gt(t,function(n){var r=e[1][0]-e[0][0],l=e[1][1]-e[0][1],s=Math.min(r/(n[1][0]-n[0][0]),l/(n[1][1]-n[0][1])),c=+e[0][0]+(r-s*(n[1][0]+n[0][0]))/2,u=+e[0][1]+(l-s*(n[1][1]+n[0][1]))/2;t.scale(150*s).translate([c,u])},i)}function Qi(t,e,i){return pi(t,[[0,0],e],i)}function $i(t,e,i){return Gt(t,function(n){var r=+e,l=r/(n[1][0]-n[0][0]),s=(r-l*(n[1][0]+n[0][0]))/2,c=-l*n[0][1];t.scale(150*l).translate([s,c])},i)}function xi(t,e,i){return Gt(t,function(n){var r=+e,l=r/(n[1][1]-n[0][1]),s=-l*n[0][0],c=(r-l*(n[1][1]+n[0][1]))/2;t.scale(150*l).translate([s,c])},i)}var fn=16,er=Y(30*J);function hn(t,e){return+e?nr(t,e):tr(t)}function tr(t){return Bt({point:function(e,i){e=t(e,i),this.stream.point(e[0],e[1])}})}function nr(t,e){function i(n,r,l,s,c,u,f,a,o,h,g,p,v,d){var y=f-n,_=a-r,w=y*y+_*_;if(w>4*e&&v--){var C=s+h,E=c+g,M=u+p,D=Ae(C*C+E*E+M*M),b=Je(M/=D),A=G(G(M)-1)<O||G(l-o)<O?(l+o)/2:Ke(E,C),U=t(A,b),N=U[0],X=U[1],H=N-n,W=X-r,k=_*H-y*W;(k*k/w>e||G((y*H+_*W)/w-.5)>.3||s*h+c*g+u*p<er)&&(i(n,r,l,s,c,u,N,X,A,C/=D,E/=D,M,v,d),d.point(N,X),i(N,X,A,C,E,M,f,a,o,h,g,p,v,d))}}return function(n){var r,l,s,c,u,f,a,o,h,g,p,v,d={point:y,lineStart:_,lineEnd:C,polygonStart:function(){n.polygonStart(),d.lineStart=E},polygonEnd:function(){n.polygonEnd(),d.lineStart=_}};function y(b,A){b=t(b,A),n.point(b[0],b[1])}function _(){o=NaN,d.point=w,n.lineStart()}function w(b,A){var U=Fe([b,A]),N=t(b,A);i(o,h,a,g,p,v,o=N[0],h=N[1],a=b,g=U[0],p=U[1],v=U[2],fn,n),n.point(o,h)}function C(){d.point=y,n.lineEnd()}function E(){_(),d.point=M,d.lineEnd=D}function M(b,A){w(r=b,A),l=o,s=h,c=g,u=p,f=v,d.point=w}function D(){i(o,h,a,g,p,v,l,s,r,c,u,f,fn,n),d.lineEnd=C,C()}return d}}var ir=Bt({point:function(t,e){this.stream.point(t*J,e*J)}});function rr(t){return Bt({point:function(e,i){var n=t(e,i);return this.stream.point(n[0],n[1])}})}function lr(t,e,i,n,r){function l(s,c){return s*=n,c*=r,[e+t*s,i-t*c]}return l.invert=function(s,c){return[(s-e)/t*n,(i-c)/t*r]},l}function pn(t,e,i,n,r,l){if(!l)return lr(t,e,i,n,r);var s=Y(l),c=Z(l),u=s*t,f=c*t,a=s/t,o=c/t,h=(c*i-s*e)/t,g=(c*e+s*i)/t;function p(v,d){return v*=n,d*=r,[u*v-f*d+e,i-f*v-u*d]}return p.invert=function(v,d){return[n*(a*v-o*d+h),r*(g-o*v-a*d)]},p}function or(t){return sr(function(){return t})()}function sr(t){var e,i=150,n=480,r=250,l=0,s=0,c=0,u=0,f=0,a,o=0,h=1,g=1,p=null,v=rn,d=null,y,_,w,C=Lt,E=.5,M,D,b,A,U;function N(k){return b(k[0]*J,k[1]*J)}function X(k){return k=b.invert(k[0],k[1]),k&&[k[0]*oe,k[1]*oe]}N.stream=function(k){return A&&U===k?A:A=ir(rr(a)(v(M(C(U=k)))))},N.preclip=function(k){return arguments.length?(v=k,p=void 0,W()):v},N.postclip=function(k){return arguments.length?(C=k,d=y=_=w=null,W()):C},N.clipAngle=function(k){return arguments.length?(v=+k?ji(p=k*J):(p=null,rn),W()):p*oe},N.clipExtent=function(k){return arguments.length?(C=k==null?(d=y=_=w=null,Lt):Fi(d=+k[0][0],y=+k[0][1],_=+k[1][0],w=+k[1][1]),W()):d==null?null:[[d,y],[_,w]]},N.scale=function(k){return arguments.length?(i=+k,H()):i},N.translate=function(k){return arguments.length?(n=+k[0],r=+k[1],H()):[n,r]},N.center=function(k){return arguments.length?(l=k[0]%360*J,s=k[1]%360*J,H()):[l*oe,s*oe]},N.rotate=function(k){return arguments.length?(c=k[0]%360*J,u=k[1]%360*J,f=k.length>2?k[2]%360*J:0,H()):[c*oe,u*oe,f*oe]},N.angle=function(k){return arguments.length?(o=k%360*J,H()):o*oe},N.reflectX=function(k){return arguments.length?(h=k?-1:1,H()):h<0},N.reflectY=function(k){return arguments.length?(g=k?-1:1,H()):g<0},N.precision=function(k){return arguments.length?(M=hn(D,E=k*k),W()):Ae(E)},N.fitExtent=function(k,V){return pi(N,k,V)},N.fitSize=function(k,V){return Qi(N,k,V)},N.fitWidth=function(k,V){return $i(N,k,V)},N.fitHeight=function(k,V){return xi(N,k,V)};function H(){var k=pn(i,0,0,h,g,o).apply(null,e(l,s)),V=pn(i,n-k[0],r-k[1],h,g,o);return a=$n(c,u,f),D=Tt(e,V),b=Tt(a,D),M=hn(D,E),W()}function W(){return A=U=null,N}return function(){return e=t.apply(this,arguments),N.invert=e.invert&&X,H()}}function Yt(t,e){return[t,Di(Ri((re+e)/2))]}Yt.invert=function(t,e){return[t,2*Qn(Ci(e))-re]};function di(){return ar(Yt).scale(961/se)}function ar(t){var e=or(t),i=e.center,n=e.scale,r=e.translate,l=e.clipExtent,s=null,c,u,f;e.scale=function(o){return arguments.length?(n(o),a()):n()},e.translate=function(o){return arguments.length?(r(o),a()):r()},e.center=function(o){return arguments.length?(i(o),a()):i()},e.clipExtent=function(o){return arguments.length?(o==null?s=c=u=f=null:(s=+o[0][0],c=+o[0][1],u=+o[1][0],f=+o[1][1]),a()):s==null?null:[[s,c],[u,f]]};function a(){var o=j*n(),h=e(Ii(e.rotate()).invert([0,0]));return l(s==null?[[h[0]-o,h[1]-o],[h[0]+o,h[1]+o]]:t===Yt?[[Math.max(h[0]-o,s),c],[Math.min(h[0]+o,u),f]]:[[s,Math.max(h[1]-o,c)],[u,Math.min(h[1]+o,f)]])}return a()}function ur(t){return t}function cr(t){if(t==null)return ur;var e,i,n=t.scale[0],r=t.scale[1],l=t.translate[0],s=t.translate[1];return function(c,u){u||(e=i=0);var f=2,a=c.length,o=new Array(a);for(o[0]=(e+=c[0])*n+l,o[1]=(i+=c[1])*r+s;f<a;)o[f]=c[f],++f;return o}}function fr(t,e){for(var i,n=t.length,r=n-e;r<--n;)i=t[r],t[r++]=t[n],t[n]=i}function kt(t,e){return typeof e=="string"&&(e=t.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(i){return dn(t,i)})}:dn(t,e)}function dn(t,e){var i=e.id,n=e.bbox,r=e.properties==null?{}:e.properties,l=hr(t,e);return i==null&&n==null?{type:"Feature",properties:r,geometry:l}:n==null?{type:"Feature",id:i,properties:r,geometry:l}:{type:"Feature",id:i,bbox:n,properties:r,geometry:l}}function hr(t,e){var i=cr(t.transform),n=t.arcs;function r(a,o){o.length&&o.pop();for(var h=n[a<0?~a:a],g=0,p=h.length;g<p;++g)o.push(i(h[g],g));a<0&&fr(o,p)}function l(a){return i(a)}function s(a){for(var o=[],h=0,g=a.length;h<g;++h)r(a[h],o);return o.length<2&&o.push(o[0]),o}function c(a){for(var o=s(a);o.length<4;)o.push(o[0]);return o}function u(a){return a.map(c)}function f(a){var o=a.type,h;switch(o){case"GeometryCollection":return{type:o,geometries:a.geometries.map(f)};case"Point":h=l(a.coordinates);break;case"MultiPoint":h=a.coordinates.map(l);break;case"LineString":h=s(a.arcs);break;case"MultiLineString":h=a.arcs.map(s);break;case"Polygon":h=u(a.arcs);break;case"MultiPolygon":h=a.arcs.map(u);break;default:return null}return{type:o,coordinates:h}}return f(e)}const Te=Kn(null),mt=Kn(null);function pr(t){let e,i,n,r,l;return{c(){e=q("circle"),this.h()},l(s){e=B(s,"circle",{class:!0,id:!0,r:!0,cx:!0,cy:!0}),I(e).forEach(S),this.h()},h(){m(e,"class","secondary svelte-tsyr9o"),m(e,"id",i=t[0]["Unmatched ID"]),m(e,"r",n=t[1]<=768?2.5:5),m(e,"cx",r=t[0].cx),m(e,"cy",l=t[0].cy)},m(s,c){L(s,e,c)},p(s,c){c&1&&i!==(i=s[0]["Unmatched ID"])&&m(e,"id",i),c&2&&n!==(n=s[1]<=768?2.5:5)&&m(e,"r",n),c&1&&r!==(r=s[0].cx)&&m(e,"cx",r),c&1&&l!==(l=s[0].cy)&&m(e,"cy",l)},d(s){s&&S(e)}}}function dr(t){let e,i,n,r,l,s,c,u,f,a,o,h,g,p,v,d,y,_,w;function C(D,b){return D[1]>768?vr:gr}let E=C(t),M=E(t);return{c(){e=q("line"),s=q("rect"),M.c(),f=q("foreignObject"),a=P("div"),o=P("video"),h=P("track"),g=P("source"),v=P("source"),y=te(`
                    Your browser does not support the video tag.`),this.h()},l(D){e=B(D,"line",{class:!0,x1:!0,y1:!0,x2:!0,y2:!0}),I(e).forEach(S),s=B(D,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,ry:!0}),I(s).forEach(S),M.l(D),f=B(D,"foreignObject",{x:!0,y:!0,width:!0,height:!0,class:!0});var b=I(f);a=T(b,"DIV",{class:!0});var A=I(a);o=T(A,"VIDEO",{"webkit-playsinline":!0,class:!0});var U=I(o);h=T(U,"TRACK",{kind:!0}),g=T(U,"SOURCE",{src:!0,type:!0}),v=T(U,"SOURCE",{src:!0,type:!0}),y=ne(U,`
                    Your browser does not support the video tag.`),U.forEach(S),A.forEach(S),b.forEach(S),this.h()},h(){m(e,"class","line svelte-tsyr9o"),m(e,"x1",i=t[0].cx-t[7]),m(e,"y1",n=t[0].cy-be),m(e,"x2",r=t[0].direction==="top"?t[0].cx-t[7]:t[0].cx+t[5]),m(e,"y2",l=t[0].cy-be+(t[0].direction==="top"?t[6]:0)),m(s,"class","box svelte-tsyr9o"),m(s,"x",c=t[0].cx+t[5]),m(s,"y",u=t[0].cy-be+t[6]-t[3]/2),m(s,"width",t[2]),m(s,"height",t[3]),m(s,"rx","10"),m(s,"ry","10"),m(h,"kind","captions"),tt(g.src,p="videos/"+t[0]["Reference Code"].trim()+".webm")||m(g,"src",p),m(g,"type","video/webm"),tt(v.src,d="videos/"+t[0]["Reference Code"].trim()+".mp4")||m(v,"src",d),m(v,"type","video/mp4"),o.autoplay=!0,o.loop=!0,o.muted=!0,m(o,"webkit-playsinline",""),o.playsInline=!0,m(o,"class","svelte-tsyr9o"),m(a,"class","svelte-tsyr9o"),m(f,"x",_=t[0].cx+t[5]),m(f,"y",w=t[0].cy-be+t[6]-t[3]/2),m(f,"width",t[2]),m(f,"height",t[3]),m(f,"class","svelte-tsyr9o")},m(D,b){L(D,e,b),L(D,s,b),M.m(D,b),L(D,f,b),R(f,a),R(a,o),R(o,h),R(o,g),R(o,v),R(o,y)},p(D,b){b&129&&i!==(i=D[0].cx-D[7])&&m(e,"x1",i),b&1&&n!==(n=D[0].cy-be)&&m(e,"y1",n),b&161&&r!==(r=D[0].direction==="top"?D[0].cx-D[7]:D[0].cx+D[5])&&m(e,"x2",r),b&65&&l!==(l=D[0].cy-be+(D[0].direction==="top"?D[6]:0))&&m(e,"y2",l),b&33&&c!==(c=D[0].cx+D[5])&&m(s,"x",c),b&73&&u!==(u=D[0].cy-be+D[6]-D[3]/2)&&m(s,"y",u),b&4&&m(s,"width",D[2]),b&8&&m(s,"height",D[3]),E===(E=C(D))&&M?M.p(D,b):(M.d(1),M=E(D),M&&(M.c(),M.m(f.parentNode,f))),b&1&&!tt(g.src,p="videos/"+D[0]["Reference Code"].trim()+".webm")&&m(g,"src",p),b&1&&!tt(v.src,d="videos/"+D[0]["Reference Code"].trim()+".mp4")&&m(v,"src",d),b&33&&_!==(_=D[0].cx+D[5])&&m(f,"x",_),b&73&&w!==(w=D[0].cy-be+D[6]-D[3]/2)&&m(f,"y",w),b&4&&m(f,"width",D[2]),b&8&&m(f,"height",D[3])},d(D){D&&(S(e),S(s),S(f)),M.d(D)}}}function gr(t){let e,i,n;return{c(){e=q("svg"),i=q("path"),n=q("circle"),this.h()},l(r){e=B(r,"svg",{x:!0,y:!0,width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var l=I(e);i=B(l,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0,class:!0}),I(i).forEach(S),n=B(l,"circle",{class:!0,cx:!0,cy:!0,fill:!0,stroke:!0}),I(n).forEach(S),l.forEach(S),this.h()},h(){m(i,"fill-rule","evenodd"),m(i,"clip-rule","evenodd"),m(i,"d","M20 0H0V15.6522L10 28.2609L20 15.6522V0ZM10 15.8967C13.1216 15.8967 15.6522 13.3266 15.6522 10.1562C15.6522 6.98586 13.1216 4.41576 10 4.41576C6.87839 4.41576 4.34783 6.98586 4.34783 10.1562C4.34783 13.3266 6.87839 15.8967 10 15.8967Z"),m(i,"fill","var(--primary-color)"),m(i,"class","svelte-tsyr9o"),m(n,"class","hide svelte-tsyr9o"),m(n,"cx","10"),m(n,"cy","10.1562"),m(n,"fill","var(--primary-color)"),m(n,"stroke","none"),m(e,"x",t[9]),m(e,"y",t[8]),m(e,"width","10"),m(e,"height","16"),m(e,"viewBox","0 0 20 29"),m(e,"fill","none"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"class","svelte-tsyr9o")},m(r,l){L(r,e,l),R(e,i),R(e,n)},p(r,l){l&512&&m(e,"x",r[9]),l&256&&m(e,"y",r[8])},d(r){r&&S(e)}}}function vr(t){let e,i,n;return{c(){e=q("svg"),i=q("path"),n=q("circle"),this.h()},l(r){e=B(r,"svg",{x:!0,y:!0,width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var l=I(e);i=B(l,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0,class:!0}),I(i).forEach(S),n=B(l,"circle",{class:!0,cx:!0,cy:!0,fill:!0,stroke:!0}),I(n).forEach(S),l.forEach(S),this.h()},h(){m(i,"fill-rule","evenodd"),m(i,"clip-rule","evenodd"),m(i,"d","M20 0H0V15.6522L10 28.2609L20 15.6522V0ZM10 15.8967C13.1216 15.8967 15.6522 13.3266 15.6522 10.1562C15.6522 6.98586 13.1216 4.41576 10 4.41576C6.87839 4.41576 4.34783 6.98586 4.34783 10.1562C4.34783 13.3266 6.87839 15.8967 10 15.8967Z"),m(i,"fill","var(--primary-color)"),m(i,"class","svelte-tsyr9o"),m(n,"class","hide svelte-tsyr9o"),m(n,"cx","10"),m(n,"cy","10.1562"),m(n,"fill","var(--primary-color)"),m(n,"stroke","none"),m(e,"x",t[9]),m(e,"y",t[8]),m(e,"width","15"),m(e,"height","24"),m(e,"viewBox","0 0 20 29"),m(e,"fill","none"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"class","svelte-tsyr9o")},m(r,l){L(r,e,l),R(e,i),R(e,n)},p(r,l){l&512&&m(e,"x",r[9]),l&256&&m(e,"y",r[8])},d(r){r&&S(e)}}}function _r(t){let e,i,n,r;function l(u,f){return u[0]["Reference Code"]&&u[0]["Show Tooltip"]=="TRUE"?dr:pr}let s=l(t),c=s(t);return{c(){e=q("g"),c.c(),this.h()},l(u){e=B(u,"g",{id:!0,class:!0});var f=I(e);c.l(f),f.forEach(S),this.h()},h(){m(e,"id",i=t[0]["Reference Code"]),m(e,"class","svelte-tsyr9o"),Rt(e,"selected",t[4])},m(u,f){L(u,e,f),c.m(e,null),n||(r=We(e,"click",t[10]),n=!0)},p(u,[f]){s===(s=l(u))&&c?c.p(u,f):(c.d(1),c=s(u),c&&(c.c(),c.m(e,null))),f&1&&i!==(i=u[0]["Reference Code"])&&m(e,"id",i),f&16&&Rt(e,"selected",u[4])},i:le,o:le,d(u){u&&S(e),c.d(),n=!1,r()}}}let be=29;function mr(t,e,i){let n,r,l,s,c;at(t,mt,y=>i(12,s=y)),at(t,Te,y=>i(11,c=y));let{point:u}=e,{w:f}=e,a=195,o=122,h="",g=0,p=0;function v(y){const _=u["Group ID"]||null,w=s.filter(C=>C["Group ID"]===_&&C["Unmatched ID"]!==u["Unmatched ID"]);Te.set({...u,cx:u.cx,cy:u.cy,lat:u.lat,lon:u.lon,id:u["Unmatched ID"],related:w.map(C=>({...C,cx:C.cx,cy:C.cy,lat:C.lat,lon:C.lon,id:C["Unmatched ID"]}))}),d(y)}function d(y){let _;if(y instanceof Event&&(_=y.target.closest("g"),_&&_.parentNode&&_.parentNode.appendChild(_)),y!=null&&y["Unmatched ID"]){_=document.getElementById(u["Unmatched ID"]);const w=document.querySelector(".points");if(_&&_.parentNode){const C=_.parentNode;w.appendChild(C)}}}return t.$$set=y=>{"point"in y&&i(0,u=y.point),"w"in y&&i(1,f=y.w)},t.$$.update=()=>{t.$$.dirty&15&&(f<=768?(i(2,a=f/7.38),i(3,o=f/11.8),u.direction.startsWith("left")||u.direction.startsWith("right")?i(7,p=u.direction.startsWith("left")?1:9):i(7,p=5)):(i(2,a=195),i(3,o=122),u.direction.startsWith("left")||u.direction.startsWith("right")?i(7,p=u.direction.startsWith("left")?-4:9):i(7,p=2)),u.direction.startsWith("right")?u.direction==="right"?i(5,h=o/2):u.direction==="right-1"?i(5,h=o):u.direction==="right-2"&&i(5,h=o*2):u.direction.startsWith("left")?u.direction==="left"?i(5,h=-(a+o/2)):u.direction==="left-1"?i(5,h=-(a+o)):u.direction==="left-2"&&i(5,h=-(a+o*2)):u.direction==="top"&&(i(5,h=-(a/2)),i(6,g=-o/1.3))),t.$$.dirty&2049&&i(4,n=(c==null?void 0:c.cx)==u.cx&&(c==null?void 0:c.cy)==u.cy),t.$$.dirty&17&&n&&d(u),t.$$.dirty&1&&i(9,r=u.cx-10),t.$$.dirty&1&&i(8,l=u.cy-30)},[u,f,a,o,n,h,g,p,l,r,v,c]}class gi extends ye{constructor(e){super(),we(this,e,mr,_r,me,{point:0,w:1})}}function gn(t,e,i){const n=t.slice();return n[17]=e[i],n[19]=i,n}function vn(t,e,i){const n=t.slice();return n[17]=e[i],n[19]=i,n}function _n(t,e,i){const n=t.slice();return n[21]=e[i],n[19]=i,n}function mn(t,e,i){const n=t.slice();return n[21]=e[i],n[19]=i,n}function yn(t){let e,i,n,r,l,s=t[6].length>0&&wn(t),c=x(t[1]),u=[];for(let v=0;v<c.length;v+=1)u[v]=Sn(_n(t,c,v));let f=x(t[7]),a=[];for(let v=0;v<f.length;v+=1)a[v]=Cn(vn(t,f,v));const o=v=>z(a[v],1,1,()=>{a[v]=null});let h=x(t[8]),g=[];for(let v=0;v<h.length;v+=1)g[v]=bn(gn(t,h,v));const p=v=>z(g[v],1,1,()=>{g[v]=null});return{c(){e=q("svg"),s&&s.c(),i=q("g");for(let v=0;v<u.length;v+=1)u[v].c();n=q("g");for(let v=0;v<a.length;v+=1)a[v].c();r=Re();for(let v=0;v<g.length;v+=1)g[v].c();this.h()},l(v){e=B(v,"svg",{width:!0,height:!0});var d=I(e);s&&s.l(d),i=B(d,"g",{class:!0});var y=I(i);for(let w=0;w<u.length;w+=1)u[w].l(y);y.forEach(S),n=B(d,"g",{class:!0});var _=I(n);for(let w=0;w<a.length;w+=1)a[w].l(_);r=Re();for(let w=0;w<g.length;w+=1)g[w].l(_);_.forEach(S),d.forEach(S),this.h()},h(){m(i,"class","streets svelte-6cbwzm"),m(n,"class","points"),m(e,"width",t[3]),m(e,"height",t[4])},m(v,d){L(v,e,d),s&&s.m(e,null),R(e,i);for(let y=0;y<u.length;y+=1)u[y]&&u[y].m(i,null);R(e,n);for(let y=0;y<a.length;y+=1)a[y]&&a[y].m(n,null);R(n,r);for(let y=0;y<g.length;y+=1)g[y]&&g[y].m(n,null);l=!0},p(v,d){if(v[6].length>0?s?s.p(v,d):(s=wn(v),s.c(),s.m(e,i)):s&&(s.d(1),s=null),d&34){c=x(v[1]);let y;for(y=0;y<c.length;y+=1){const _=_n(v,c,y);u[y]?u[y].p(_,d):(u[y]=Sn(_),u[y].c(),u[y].m(i,null))}for(;y<u.length;y+=1)u[y].d(1);u.length=c.length}if(d&129){f=x(v[7]);let y;for(y=0;y<f.length;y+=1){const _=vn(v,f,y);a[y]?(a[y].p(_,d),F(a[y],1)):(a[y]=Cn(_),a[y].c(),F(a[y],1),a[y].m(n,r))}for(Me(),y=f.length;y<a.length;y+=1)o(y);Ie()}if(d&257){h=x(v[8]);let y;for(y=0;y<h.length;y+=1){const _=gn(v,h,y);g[y]?(g[y].p(_,d),F(g[y],1)):(g[y]=bn(_),g[y].c(),F(g[y],1),g[y].m(n,null))}for(Me(),y=h.length;y<g.length;y+=1)p(y);Ie()}(!l||d&8)&&m(e,"width",v[3]),(!l||d&16)&&m(e,"height",v[4])},i(v){if(!l){for(let d=0;d<f.length;d+=1)F(a[d]);for(let d=0;d<h.length;d+=1)F(g[d]);l=!0}},o(v){a=a.filter(Boolean);for(let d=0;d<a.length;d+=1)z(a[d]);g=g.filter(Boolean);for(let d=0;d<g.length;d+=1)z(g[d]);l=!1},d(v){v&&S(e),s&&s.d(),Ce(u,v),Ce(a,v),Ce(g,v)}}}function wn(t){let e,i=x(t[6]),n=[];for(let r=0;r<i.length;r+=1)n[r]=En(mn(t,i,r));return{c(){e=q("g");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=B(r,"g",{class:!0});var l=I(e);for(let s=0;s<n.length;s+=1)n[s].l(l);l.forEach(S),this.h()},h(){m(e,"class","boundary svelte-6cbwzm")},m(r,l){L(r,e,l);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(e,null)},p(r,l){if(l&96){i=x(r[6]);let s;for(s=0;s<i.length;s+=1){const c=mn(r,i,s);n[s]?n[s].p(c,l):(n[s]=En(c),n[s].c(),n[s].m(e,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=i.length}},d(r){r&&S(e),Ce(n,r)}}}function En(t){let e,i;return{c(){e=q("path"),this.h()},l(n){e=B(n,"path",{d:!0,class:!0}),I(e).forEach(S),this.h()},h(){m(e,"d",i=t[5](t[21])),m(e,"class","boundary svelte-6cbwzm")},m(n,r){L(n,e,r)},p(n,r){r&96&&i!==(i=n[5](n[21]))&&m(e,"d",i)},d(n){n&&S(e)}}}function Sn(t){let e,i;return{c(){e=q("path"),this.h()},l(n){e=B(n,"path",{d:!0,class:!0}),I(e).forEach(S),this.h()},h(){m(e,"d",i=t[5](t[21])),m(e,"class","street")},m(n,r){L(n,e,r)},p(n,r){r&34&&i!==(i=n[5](n[21]))&&m(e,"d",i)},d(n){n&&S(e)}}}function kn(t){let e,i;return e=new gi({props:{point:t[17],w:t[0]}}),{c(){pe(e.$$.fragment)},l(n){de(e.$$.fragment,n)},m(n,r){ge(e,n,r),i=!0},p(n,r){const l={};r&128&&(l.point=n[17]),r&1&&(l.w=n[0]),e.$set(l)},i(n){i||(F(e.$$.fragment,n),i=!0)},o(n){z(e.$$.fragment,n),i=!1},d(n){ve(e,n)}}}function Cn(t){let e,i,n=t[17].cx&&t[17].cy&&kn(t);return{c(){n&&n.c(),e=Re()},l(r){n&&n.l(r),e=Re()},m(r,l){n&&n.m(r,l),L(r,e,l),i=!0},p(r,l){r[17].cx&&r[17].cy?n?(n.p(r,l),l&128&&F(n,1)):(n=kn(r),n.c(),F(n,1),n.m(e.parentNode,e)):n&&(Me(),z(n,1,1,()=>{n=null}),Ie())},i(r){i||(F(n),i=!0)},o(r){z(n),i=!1},d(r){r&&S(e),n&&n.d(r)}}}function Dn(t){let e,i;return e=new gi({props:{point:t[17],w:t[0]}}),{c(){pe(e.$$.fragment)},l(n){de(e.$$.fragment,n)},m(n,r){ge(e,n,r),i=!0},p(n,r){const l={};r&256&&(l.point=n[17]),r&1&&(l.w=n[0]),e.$set(l)},i(n){i||(F(e.$$.fragment,n),i=!0)},o(n){z(e.$$.fragment,n),i=!1},d(n){ve(e,n)}}}function bn(t){let e,i,n=t[17].cx&&t[17].cy&&Dn(t);return{c(){n&&n.c(),e=Re()},l(r){n&&n.l(r),e=Re()},m(r,l){n&&n.m(r,l),L(r,e,l),i=!0},p(r,l){r[17].cx&&r[17].cy?n?(n.p(r,l),l&256&&F(n,1)):(n=Dn(r),n.c(),F(n,1),n.m(e.parentNode,e)):n&&(Me(),z(n,1,1,()=>{n=null}),Ie())},i(r){i||(F(n),i=!0)},o(r){z(n),i=!1},d(r){r&&S(e),n&&n.d(r)}}}function yr(t){let e,i,n,r=t[1].length>0&&yn(t);return{c(){e=P("article"),r&&r.c(),this.h()},l(l){e=T(l,"ARTICLE",{class:!0});var s=I(e);r&&r.l(s),s.forEach(S),this.h()},h(){m(e,"class","map svelte-6cbwzm"),mi(()=>t[13].call(e))},m(l,s){L(l,e,s),r&&r.m(e,null),t[12](e),i=yi(e,t[13].bind(e)),n=!0},p(l,[s]){l[1].length>0?r?(r.p(l,s),s&2&&F(r,1)):(r=yn(l),r.c(),F(r,1),r.m(e,null)):r&&(Me(),z(r,1,1,()=>{r=null}),Ie())},i(l){n||(F(r),n=!0)},o(l){z(r),n=!1},d(l){l&&S(e),r&&r.d(),t[12](null),i()}}}function wr(t,e,i){let n,r,l;at(t,mt,w=>i(11,l=w));let{data:s}=e,c,u,f=0,a=0,o,h,g=[],p=[],v=[];function d(w){o=di().rotate([-48,48]).scale(1).translate([0,0]);const E=_t().projection(o).bounds({type:"FeatureCollection",features:g}),M=E[1][0]-E[0][0],D=E[1][1]-E[0][1],b=(E[0][0]+E[1][0])/2;E[0][1]+E[1][1];const A=[100,10,20],U=(w-A[0])/M,N=[w/2-U*b,(-U-A[1])*E[0][1]+E[1][1]];o=o.scale(U).translate(N),i(5,h=_t().projection(o)),i(3,f=w),i(4,a=U*D+A[2]),wi(mt,l=v.map(X=>{const[H,W]=o([X.lon,X.lat]);return{...X,cx:H,cy:W}}),l)}function y(w){qt[w?"unshift":"push"](()=>{c=w,i(2,c)})}function _(){u=this.clientWidth,i(0,u)}return t.$$set=w=>{"data"in w&&i(9,s=w.data)},t.$$.update=()=>{t.$$.dirty&2&&g.length===0&&(fetch("boundary.json").then(w=>w.json()).then(w=>{i(6,p=kt(w,w.objects.boundary).features)}),fetch("streets.json").then(w=>w.json()).then(w=>{i(1,g=kt(w,w.objects.streets).features)}),fetch("buildings2.json").then(w=>w.json()).then(w=>{kt(w,w.objects.test1).features})),t.$$.dirty&512&&i(10,v=s.map(w=>({...w,direction:w.Direction?w.Direction:Math.random()>.5?"left":"right",date:w["Date of incident"]}))),t.$$.dirty&3&&u&&g.length>0&&d(u),t.$$.dirty&1025&&v&&d(u),t.$$.dirty&2048&&i(8,n=l?l.filter(w=>w["Reference Code"]):[]),t.$$.dirty&2048&&i(7,r=l?l.filter(w=>!w["Reference Code"]):[])},[u,g,c,f,a,h,p,r,n,s,v,l,y,_]}let Er=class extends ye{constructor(e){super(),we(this,e,wr,yr,me,{data:9})}};function Rn(t){let e,i,n="Date Posted",r,l,s=t[0]["Post date"]+"",c;return{c(){e=P("div"),i=P("h3"),i.textContent=n,r=Q(),l=P("p"),c=te(s),this.h()},l(u){e=T(u,"DIV",{class:!0});var f=I(e);i=T(f,"H3",{class:!0,"data-svelte-h":!0}),De(i)!=="svelte-gk40gb"&&(i.textContent=n),r=$(f),l=T(f,"P",{class:!0});var a=I(l);c=ne(a,s),a.forEach(S),f.forEach(S),this.h()},h(){m(i,"class","svelte-4qopg4"),m(l,"class","svelte-4qopg4"),m(e,"class","svelte-4qopg4")},m(u,f){L(u,e,f),R(e,i),R(e,r),R(e,l),R(l,c)},p(u,f){f&1&&s!==(s=u[0]["Post date"]+"")&&_e(c,s)},d(u){u&&S(e)}}}function Mn(t){let e,i,n="Location",r,l,s=t[0].Location+"",c;return{c(){e=P("div"),i=P("h3"),i.textContent=n,r=Q(),l=P("p"),c=te(s),this.h()},l(u){e=T(u,"DIV",{class:!0});var f=I(e);i=T(f,"H3",{class:!0,"data-svelte-h":!0}),De(i)!=="svelte-15gguv3"&&(i.textContent=n),r=$(f),l=T(f,"P",{class:!0});var a=I(l);c=ne(a,s),a.forEach(S),f.forEach(S),this.h()},h(){m(i,"class","svelte-4qopg4"),m(l,"class","svelte-4qopg4"),m(e,"class","svelte-4qopg4")},m(u,f){L(u,e,f),R(e,i),R(e,r),R(e,l),R(l,c)},p(u,f){f&1&&s!==(s=u[0].Location+"")&&_e(c,s)},d(u){u&&S(e)}}}function In(t){let e,i,n="Civilians Reported Killed",r,l,s=t[0]["Civilians reported killed"]+"",c;return{c(){e=P("div"),i=P("h3"),i.textContent=n,r=Q(),l=P("p"),c=te(s),this.h()},l(u){e=T(u,"DIV",{class:!0});var f=I(e);i=T(f,"H3",{class:!0,"data-svelte-h":!0}),De(i)!=="svelte-lcsnd8"&&(i.textContent=n),r=$(f),l=T(f,"P",{class:!0});var a=I(l);c=ne(a,s),a.forEach(S),f.forEach(S),this.h()},h(){m(i,"class","svelte-4qopg4"),m(l,"class","svelte-4qopg4"),m(e,"class","svelte-4qopg4")},m(u,f){L(u,e,f),R(e,i),R(e,r),R(e,l),R(l,c)},p(u,f){f&1&&s!==(s=u[0]["Civilians reported killed"]+"")&&_e(c,s)},d(u){u&&S(e)}}}function Pn(t){let e,i,n="Source",r,l,s,c;return{c(){e=P("div"),i=P("h3"),i.textContent=n,r=Q(),l=P("a"),s=te("View Footage"),this.h()},l(u){e=T(u,"DIV",{class:!0});var f=I(e);i=T(f,"H3",{class:!0,"data-svelte-h":!0}),De(i)!=="svelte-x8n8kl"&&(i.textContent=n),r=$(f),l=T(f,"A",{href:!0,target:!0,class:!0});var a=I(l);s=ne(a,"View Footage"),a.forEach(S),f.forEach(S),this.h()},h(){m(i,"class","svelte-4qopg4"),m(l,"href",c=t[0]["Footage link"]),m(l,"target","_blank"),m(l,"class","svelte-4qopg4"),m(e,"class","svelte-4qopg4")},m(u,f){L(u,e,f),R(e,i),R(e,r),R(e,l),R(l,s)},p(u,f){f&1&&c!==(c=u[0]["Footage link"])&&m(l,"href",c)},d(u){u&&S(e)}}}function Sr(t){let e,i,n="×",r,l,s=(t[0].Title||"No Title")+"",c,u,f,a,o,h,g,p=t[0]["Post date"]&&Rn(t),v=t[0].Location&&Mn(t),d=t[0]["Civilians reported killed"]&&In(t),y=t[0]["Footage link"]&&Pn(t);return{c(){e=P("div"),i=P("div"),i.textContent=n,r=Q(),l=P("h1"),c=te(s),u=Q(),p&&p.c(),f=Q(),v&&v.c(),a=Q(),d&&d.c(),o=Q(),y&&y.c(),this.h()},l(_){e=T(_,"DIV",{class:!0});var w=I(e);i=T(w,"DIV",{class:!0,"data-svelte-h":!0}),De(i)!=="svelte-1fkty7"&&(i.textContent=n),r=$(w),l=T(w,"H1",{class:!0});var C=I(l);c=ne(C,s),C.forEach(S),u=$(w),p&&p.l(w),f=$(w),v&&v.l(w),a=$(w),d&&d.l(w),o=$(w),y&&y.l(w),w.forEach(S),this.h()},h(){m(i,"class","close svelte-4qopg4"),m(l,"class","svelte-4qopg4"),m(e,"class","detail-panel svelte-4qopg4")},m(_,w){L(_,e,w),R(e,i),R(e,r),R(e,l),R(l,c),R(e,u),p&&p.m(e,null),R(e,f),v&&v.m(e,null),R(e,a),d&&d.m(e,null),R(e,o),y&&y.m(e,null),h||(g=We(i,"click",t[1]),h=!0)},p(_,[w]){w&1&&s!==(s=(_[0].Title||"No Title")+"")&&_e(c,s),_[0]["Post date"]?p?p.p(_,w):(p=Rn(_),p.c(),p.m(e,f)):p&&(p.d(1),p=null),_[0].Location?v?v.p(_,w):(v=Mn(_),v.c(),v.m(e,a)):v&&(v.d(1),v=null),_[0]["Civilians reported killed"]?d?d.p(_,w):(d=In(_),d.c(),d.m(e,o)):d&&(d.d(1),d=null),_[0]["Footage link"]?y?y.p(_,w):(y=Pn(_),y.c(),y.m(e,null)):y&&(y.d(1),y=null)},i:le,o:le,d(_){_&&S(e),p&&p.d(),v&&v.d(),d&&d.d(),y&&y.d(),h=!1,g()}}}function kr(t,e,i){let n=null;const r=()=>Te.set(null);return t.$$.update=()=>{t.$$.dirty&1&&Te.subscribe(l=>{i(0,n=l)})},[n,r]}class Cr extends ye{constructor(e){super(),we(this,e,kr,Sr,me,{})}}function Tn(t,e,i){const n=t.slice();return n[13]=e[i],n[15]=i,n}function Nn(t){let e,i,n;return i=new Cr({}),{c(){e=P("div"),pe(i.$$.fragment),this.h()},l(r){e=T(r,"DIV",{class:!0});var l=I(e);de(i.$$.fragment,l),l.forEach(S),this.h()},h(){m(e,"class","svelte-17ubg0v")},m(r,l){L(r,e,l),ge(i,e,null),t[9](e),n=!0},p:le,i(r){n||(F(i.$$.fragment,r),n=!0)},o(r){z(i.$$.fragment,r),n=!1},d(r){r&&S(e),ve(i),t[9](null)}}}function Ln(t){let e,i,n=(t[13].Title||t[13]["Reference Code"])+"",r,l,s,c;function u(){return t[10](t[13])}return{c(){e=P("div"),i=P("p"),r=te(n),l=Q(),this.h()},l(f){e=T(f,"DIV",{class:!0});var a=I(e);i=T(a,"P",{class:!0});var o=I(i);r=ne(o,n),o.forEach(S),l=$(a),a.forEach(S),this.h()},h(){m(i,"class","svelte-17ubg0v"),m(e,"class","svelte-17ubg0v"),Rt(e,"gray-background",t[15]%2===1)},m(f,a){L(f,e,a),R(e,i),R(i,r),R(e,l),s||(c=We(e,"click",u),s=!0)},p(f,a){t=f,a&8&&n!==(n=(t[13].Title||t[13]["Reference Code"])+"")&&_e(r,n)},d(f){f&&S(e),s=!1,c()}}}function Dr(t){let e,i,n,r,l,s,c,u,f=t[1]&&Nn(t),a=x(t[3]),o=[];for(let h=0;h<a.length;h+=1)o[h]=Ln(Tn(t,a,h));return{c(){e=P("input"),i=Q(),n=P("section"),f&&f.c(),r=Q(),l=P("div");for(let h=0;h<o.length;h+=1)o[h].c();this.h()},l(h){e=T(h,"INPUT",{type:!0,placeholder:!0,class:!0}),i=$(h),n=T(h,"SECTION",{class:!0});var g=I(n);f&&f.l(g),r=$(g),l=T(g,"DIV",{class:!0});var p=I(l);for(let v=0;v<o.length;v+=1)o[v].l(p);p.forEach(S),g.forEach(S),this.h()},h(){m(e,"type","text"),m(e,"placeholder","Search..."),m(e,"class","search-input svelte-17ubg0v"),m(l,"class","list-container svelte-17ubg0v"),m(n,"class","svelte-17ubg0v")},m(h,g){L(h,e,g),Zt(e,t[0]),L(h,i,g),L(h,n,g),f&&f.m(n,null),R(n,r),R(n,l);for(let p=0;p<o.length;p+=1)o[p]&&o[p].m(l,null);s=!0,c||(u=[We(e,"input",t[8]),We(e,"keydown",t[4])],c=!0)},p(h,[g]){if(g&1&&e.value!==h[0]&&Zt(e,h[0]),h[1]?f?(f.p(h,g),g&2&&F(f,1)):(f=Nn(h),f.c(),F(f,1),f.m(n,r)):f&&(Me(),z(f,1,1,()=>{f=null}),Ie()),g&40){a=x(h[3]);let p;for(p=0;p<a.length;p+=1){const v=Tn(h,a,p);o[p]?o[p].p(v,g):(o[p]=Ln(v),o[p].c(),o[p].m(l,null))}for(;p<o.length;p+=1)o[p].d(1);o.length=a.length}},i(h){s||(F(f),s=!0)},o(h){z(f),s=!1},d(h){h&&(S(e),S(i),S(n)),f&&f.d(),Ce(o,h),c=!1,Ei(u)}}}function br(t,e,i){let n;at(t,mt,d=>i(7,n=d));const r=Zn();let l=null,s=!1,c,u="",f=[];function a(d){d.key==="Enter"&&r("updateFilteredData",f)}Xn(()=>{document.addEventListener("click",o,!0)});function o(d){s&&c&&!c.contains(d.target)&&Te.set(null)}function h(d){Te.set(d)}function g(){u=this.value,i(0,u)}function p(d){qt[d?"unshift":"push"](()=>{c=d,i(2,c)})}const v=d=>h(d);return t.$$.update=()=>{t.$$.dirty&64&&Te.subscribe(d=>{i(6,l=d),i(1,s=!!l)}),t.$$.dirty&129&&i(3,f=n.filter(d=>(d.Title||d["Reference Code"]).toLowerCase().includes(u.toLowerCase())))},[u,s,c,f,a,h,l,n,g,p,v]}class Rr extends ye{constructor(e){super(),we(this,e,br,Dr,me,{})}}function An(t,e,i){const n=t.slice();return n[18]=e[i],n[20]=i,n}function Vn(t,e,i){const n=t.slice();return n[21]=e[i],n[20]=i,n}function Un(t,e,i){const n=t.slice();return n[21]=e[i],n[20]=i,n}function jn(t){let e,i,n,r,l,s,c,u,f,a=x(t[2]),o=[];for(let d=0;d<a.length;d+=1)o[d]=Wn(Un(t,a,d));let h=x(t[6]),g=[];for(let d=0;d<h.length;d+=1)g[d]=Fn(Vn(t,h,d));let p=x(t[3]),v=[];for(let d=0;d<p.length;d+=1)v[d]=zn(An(t,p,d));return{c(){e=q("svg"),i=q("g");for(let d=0;d<o.length;d+=1)o[d].c();n=q("g");for(let d=0;d<g.length;d+=1)g[d].c();r=q("g");for(let d=0;d<v.length;d+=1)v[d].c();l=q("rect"),this.h()},l(d){e=B(d,"svg",{width:!0,height:!0});var y=I(e);i=B(y,"g",{class:!0});var _=I(i);for(let E=0;E<o.length;E+=1)o[E].l(_);_.forEach(S),n=B(y,"g",{class:!0});var w=I(n);for(let E=0;E<g.length;E+=1)g[E].l(w);w.forEach(S),r=B(y,"g",{class:!0});var C=I(r);for(let E=0;E<v.length;E+=1)v[E].l(C);C.forEach(S),l=B(y,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0,class:!0}),I(l).forEach(S),y.forEach(S),this.h()},h(){m(i,"class","boundary svelte-12vxr0s"),m(n,"class","streets svelte-12vxr0s"),m(r,"class","legend-points svelte-12vxr0s"),m(l,"x",s=t[7].x),m(l,"y",c=t[7].y),m(l,"width",u=t[7].width),m(l,"height",f=t[7].height),m(l,"fill","var(--primary-color)"),m(l,"stroke","red"),m(l,"stroke-width","0.5"),m(l,"class","svelte-12vxr0s"),m(e,"width",t[0]),m(e,"height",t[1])},m(d,y){L(d,e,y),R(e,i);for(let _=0;_<o.length;_+=1)o[_]&&o[_].m(i,null);R(e,n);for(let _=0;_<g.length;_+=1)g[_]&&g[_].m(n,null);R(e,r);for(let _=0;_<v.length;_+=1)v[_]&&v[_].m(r,null);R(e,l)},p(d,y){if(y&36){a=x(d[2]);let _;for(_=0;_<a.length;_+=1){const w=Un(d,a,_);o[_]?o[_].p(w,y):(o[_]=Wn(w),o[_].c(),o[_].m(i,null))}for(;_<o.length;_+=1)o[_].d(1);o.length=a.length}if(y&96){h=x(d[6]);let _;for(_=0;_<h.length;_+=1){const w=Vn(d,h,_);g[_]?g[_].p(w,y):(g[_]=Fn(w),g[_].c(),g[_].m(n,null))}for(;_<g.length;_+=1)g[_].d(1);g.length=h.length}if(y&8){p=x(d[3]);let _;for(_=0;_<p.length;_+=1){const w=An(d,p,_);v[_]?v[_].p(w,y):(v[_]=zn(w),v[_].c(),v[_].m(r,null))}for(;_<v.length;_+=1)v[_].d(1);v.length=p.length}y&128&&s!==(s=d[7].x)&&m(l,"x",s),y&128&&c!==(c=d[7].y)&&m(l,"y",c),y&128&&u!==(u=d[7].width)&&m(l,"width",u),y&128&&f!==(f=d[7].height)&&m(l,"height",f),y&1&&m(e,"width",d[0]),y&2&&m(e,"height",d[1])},d(d){d&&S(e),Ce(o,d),Ce(g,d),Ce(v,d)}}}function Wn(t){let e,i;return{c(){e=q("path"),this.h()},l(n){e=B(n,"path",{d:!0,class:!0}),I(e).forEach(S),this.h()},h(){m(e,"d",i=t[5](t[21])),m(e,"class","boundary svelte-12vxr0s")},m(n,r){L(n,e,r)},p(n,r){r&36&&i!==(i=n[5](n[21]))&&m(e,"d",i)},d(n){n&&S(e)}}}function Fn(t){let e,i;return{c(){e=q("path"),this.h()},l(n){e=B(n,"path",{d:!0,class:!0}),I(e).forEach(S),this.h()},h(){m(e,"d",i=t[5](t[21])),m(e,"class","street")},m(n,r){L(n,e,r)},p(n,r){r&96&&i!==(i=n[5](n[21]))&&m(e,"d",i)},d(n){n&&S(e)}}}function Hn(t){let e,i,n;return{c(){e=q("circle"),this.h()},l(r){e=B(r,"circle",{cx:!0,cy:!0,r:!0,class:!0}),I(e).forEach(S),this.h()},h(){m(e,"cx",i=t[18].cx),m(e,"cy",n=t[18].cy),m(e,"r",1),m(e,"class","svelte-12vxr0s")},m(r,l){L(r,e,l)},p(r,l){l&8&&i!==(i=r[18].cx)&&m(e,"cx",i),l&8&&n!==(n=r[18].cy)&&m(e,"cy",n)},d(r){r&&S(e)}}}function zn(t){let e,i=t[18].cx&&t[18].cy&&Hn(t);return{c(){i&&i.c(),e=Re()},l(n){i&&i.l(n),e=Re()},m(n,r){i&&i.m(n,r),L(n,e,r)},p(n,r){n[18].cx&&n[18].cy?i?i.p(n,r):(i=Hn(n),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null)},d(n){n&&S(e),i&&i.d(n)}}}function Mr(t){let e,i=t[2].length>0&&jn(t);return{c(){e=P("article"),i&&i.c(),this.h()},l(n){e=T(n,"ARTICLE",{class:!0});var r=I(e);i&&i.l(r),r.forEach(S),this.h()},h(){m(e,"class","map")},m(n,r){L(n,e,r),i&&i.m(e,null),t[13](e)},p(n,[r]){n[2].length>0?i?i.p(n,r):(i=jn(n),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},i:le,o:le,d(n){n&&S(e),i&&i.d(),t[13](null)}}}function Ir(t,e,i){let{data:n}=e,{windowWidth:r}=e,{scrollPercentage:l}=e,{containerHeight:s}=e,{viewportHeight:c}=e,u,f=r>800?100:50,a=r>800?300:150,o=0,h=0,g,p,v=[],d=[],y=[],_={};function w(E,M){g=di().rotate([-48,48]).scale(1).translate([0,0]);const b=_t().projection(g).bounds({type:"FeatureCollection",features:v}),A=b[1][0]-b[0][0],U=b[1][1]-b[0][1],N=(b[0][0]+b[1][0])/2,X=(b[0][1]+b[1][1])/2,H=[10,10],W=Math.min((E-H[0])/A,(M-H[1])/U),k=[E/2-W*N,M/2-W*X];g=g.scale(W).translate(k),i(5,p=_t().projection(g)),i(3,d=d.map(V=>{const[K,ee]=g([V.lon,V.lat]);return{...V,cx:K,cy:ee}})),i(0,o=E),i(1,h=M)}function C(E){qt[E?"unshift":"push"](()=>{u=E,i(4,u)})}return t.$$set=E=>{"data"in E&&i(8,n=E.data),"windowWidth"in E&&i(9,r=E.windowWidth),"scrollPercentage"in E&&i(10,l=E.scrollPercentage),"containerHeight"in E&&i(11,s=E.containerHeight),"viewportHeight"in E&&i(12,c=E.viewportHeight)},t.$$.update=()=>{if(t.$$.dirty&4&&v.length==0&&(fetch("boundary.geojson").then(E=>E.json()).then(E=>{i(2,v=E.features)}),fetch("streets.geojson").then(E=>E.json()).then(E=>{i(6,y=E.features)})),t.$$.dirty&256&&i(3,d=n.map(E=>({...E,direction:E.Direction?E.Direction:Math.random()>.5?"left":"right",date:E["Date of incident"]}))),t.$$.dirty&8&&d&&w(f,a),t.$$.dirty&4&&f&&v.length>0&&w(f,a),t.$$.dirty&7171&&h&&s){const E=h/s,M=c*E;i(7,_={x:0,y:(h-M)*(l/100),width:o,height:M})}},[o,h,v,d,u,p,y,_,n,r,l,s,c,C]}class Pr extends ye{constructor(e){super(),we(this,e,Ir,Mr,me,{data:8,windowWidth:9,scrollPercentage:10,containerHeight:11,viewportHeight:12})}}var On={},Ct={},Dt=34,Oe=10,bt=13;function vi(t){return new Function("d","return {"+t.map(function(e,i){return JSON.stringify(e)+": d["+i+'] || ""'}).join(",")+"}")}function Tr(t,e){var i=vi(t);return function(n,r){return e(i(n),r,t)}}function qn(t){var e=Object.create(null),i=[];return t.forEach(function(n){for(var r in n)r in e||i.push(e[r]=r)}),i}function ie(t,e){var i=t+"",n=i.length;return n<e?new Array(e-n+1).join(0)+i:i}function Nr(t){return t<0?"-"+ie(-t,6):t>9999?"+"+ie(t,6):ie(t,4)}function Lr(t){var e=t.getUTCHours(),i=t.getUTCMinutes(),n=t.getUTCSeconds(),r=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":Nr(t.getUTCFullYear())+"-"+ie(t.getUTCMonth()+1,2)+"-"+ie(t.getUTCDate(),2)+(r?"T"+ie(e,2)+":"+ie(i,2)+":"+ie(n,2)+"."+ie(r,3)+"Z":n?"T"+ie(e,2)+":"+ie(i,2)+":"+ie(n,2)+"Z":i||e?"T"+ie(e,2)+":"+ie(i,2)+"Z":"")}function Ar(t){var e=new RegExp('["'+t+`
\r]`),i=t.charCodeAt(0);function n(o,h){var g,p,v=r(o,function(d,y){if(g)return g(d,y-1);p=d,g=h?Tr(d,h):vi(d)});return v.columns=p||[],v}function r(o,h){var g=[],p=o.length,v=0,d=0,y,_=p<=0,w=!1;o.charCodeAt(p-1)===Oe&&--p,o.charCodeAt(p-1)===bt&&--p;function C(){if(_)return Ct;if(w)return w=!1,On;var M,D=v,b;if(o.charCodeAt(D)===Dt){for(;v++<p&&o.charCodeAt(v)!==Dt||o.charCodeAt(++v)===Dt;);return(M=v)>=p?_=!0:(b=o.charCodeAt(v++))===Oe?w=!0:b===bt&&(w=!0,o.charCodeAt(v)===Oe&&++v),o.slice(D+1,M-1).replace(/""/g,'"')}for(;v<p;){if((b=o.charCodeAt(M=v++))===Oe)w=!0;else if(b===bt)w=!0,o.charCodeAt(v)===Oe&&++v;else if(b!==i)continue;return o.slice(D,M)}return _=!0,o.slice(D,p)}for(;(y=C())!==Ct;){for(var E=[];y!==On&&y!==Ct;)E.push(y),y=C();h&&(E=h(E,d++))==null||g.push(E)}return g}function l(o,h){return o.map(function(g){return h.map(function(p){return a(g[p])}).join(t)})}function s(o,h){return h==null&&(h=qn(o)),[h.map(a).join(t)].concat(l(o,h)).join(`
`)}function c(o,h){return h==null&&(h=qn(o)),l(o,h).join(`
`)}function u(o){return o.map(f).join(`
`)}function f(o){return o.map(a).join(t)}function a(o){return o==null?"":o instanceof Date?Lr(o):e.test(o+="")?'"'+o.replace(/"/g,'""')+'"':o}return{parse:n,parseRows:r,format:s,formatBody:c,formatRows:u,formatRow:f,formatValue:a}}var Vr=Ar(","),Ur=Vr.parse;function jr(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Wr(t,e){return fetch(t,e).then(jr)}function Fr(t){return function(e,i,n){return arguments.length===2&&typeof i=="function"&&(n=i,i=void 0),Wr(e,i).then(function(r){return t(r,n)})}}var Hr=Fr(Ur);function Xe(t,e,i){this.k=t,this.x=e,this.y=i}Xe.prototype={constructor:Xe,scale:function(t){return t===1?this:new Xe(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Xe(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Xe.prototype;const xe=t=>new Date(t),_i=t=>{const e=t.map(r=>xe(r["Post Date"])).filter(r=>r instanceof Date&&!isNaN(r)),i=new Date(Math.min(...e.map(r=>r.getTime()))),n=new Date(Math.max(...e.map(r=>r.getTime())));return{min:i,max:n}};function zr(t){let e,i="Loading date range...";return{c(){e=P("p"),e.textContent=i,this.h()},l(n){e=T(n,"P",{class:!0,"data-svelte-h":!0}),De(e)!=="svelte-1ibifh0"&&(e.textContent=i),this.h()},h(){m(e,"class","tiny svelte-1vv8vsv")},m(n,r){L(n,e,r)},p:le,d(n){n&&S(e)}}}function Or(t){let e,i="Geolocated Israeli military strike footage in Gaza",n,r,l=t[0].min.toLocaleDateString("en-US",{month:"short",day:"numeric"})+"",s,c,u=t[0].max.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})+"",f;return{c(){e=P("p"),e.textContent=i,n=Q(),r=P("p"),s=te(l),c=te(` –
            `),f=te(u),this.h()},l(a){e=T(a,"P",{class:!0,"data-svelte-h":!0}),De(e)!=="svelte-1d8yc0y"&&(e.textContent=i),n=$(a),r=T(a,"P",{class:!0});var o=I(r);s=ne(o,l),c=ne(o,` –
            `),f=ne(o,u),o.forEach(S),this.h()},h(){m(e,"class","svelte-1vv8vsv"),m(r,"class","tiny svelte-1vv8vsv")},m(a,o){L(a,e,o),L(a,n,o),L(a,r,o),R(r,s),R(r,c),R(r,f)},p(a,o){o&1&&l!==(l=a[0].min.toLocaleDateString("en-US",{month:"short",day:"numeric"})+"")&&_e(s,l),o&1&&u!==(u=a[0].max.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})+"")&&_e(f,u)},d(a){a&&(S(e),S(n),S(r))}}}function qr(t){let e;function i(l,s){return l[0].min&&l[0].max?Or:zr}let n=i(t),r=n(t);return{c(){e=P("div"),r.c()},l(l){e=T(l,"DIV",{});var s=I(e);r.l(s),s.forEach(S)},m(l,s){L(l,e,s),r.m(e,null)},p(l,[s]){n===(n=i(l))&&r?r.p(l,s):(r.d(1),r=n(l),r&&(r.c(),r.m(e,null)))},i:le,o:le,d(l){l&&S(e),r.d()}}}function Br(t,e,i){let{data:n=[]}=e,r={min:null,max:null};return t.$$set=l=>{"data"in l&&i(1,n=l.data)},t.$$.update=()=>{t.$$.dirty&2&&n.length&&i(0,r=_i(n))},[r,n]}class Gr extends ye{constructor(e){super(),we(this,e,Br,qr,me,{data:1})}}function Yr(t){var y;let e,i,n,r,l,s=((y=t[0])==null?void 0:y.length)+"",c,u,f,a=(t[1]?t[4](new Date(t[1])):t[4](new Date(t[3])))+"",o,h,g,p,v='<svg class="marker svelte-1ys8802" width=".8rem" height=".8rem" viewBox="0 0 20 29" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M20 0H0V15.6522L10 28.2609L20 15.6522V0ZM10 15.8967C13.1216 15.8967 15.6522 13.3266 15.6522 10.1562C15.6522 6.98586 13.1216 4.41576 10 4.41576C6.87839 4.41576 4.34783 6.98586 4.34783 10.1562C4.34783 13.3266 6.87839 15.8967 10 15.8967Z" fill="white" class="svelte-1ys8802"></path></svg> <p class="explore svelte-1ys8802">Strike footage matched with civilian harm allegation</p> <svg class="marker svelte-1ys8802" width=".8rem" height=".8rem" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><ellipse cx="10" cy="10" rx="4" ry="4" fill="white" class="svelte-1ys8802"></ellipse></svg> <p class="svelte-1ys8802">Geolocated Israeli military strike footage</p>',d;return n=new Gr({props:{data:t[2]}}),{c(){e=P("div"),i=P("div"),pe(n.$$.fragment),r=Q(),l=P("div"),c=te(s),u=te(` incidents found from
        `),f=P("strong"),o=te(a),h=te(" onwards"),g=Q(),p=P("div"),p.innerHTML=v,this.h()},l(_){e=T(_,"DIV",{class:!0});var w=I(e);i=T(w,"DIV",{class:!0});var C=I(i);de(n.$$.fragment,C),C.forEach(S),r=$(w),l=T(w,"DIV",{class:!0});var E=I(l);c=ne(E,s),u=ne(E,` incidents found from
        `),f=T(E,"STRONG",{});var M=I(f);o=ne(M,a),M.forEach(S),h=ne(E," onwards"),E.forEach(S),g=$(w),p=T(w,"DIV",{class:!0,"data-svelte-h":!0}),De(p)!=="svelte-atfr35"&&(p.innerHTML=v),w.forEach(S),this.h()},h(){m(i,"class","svelte-1ys8802"),m(l,"class","centre-heading svelte-1ys8802"),m(p,"class","legend svelte-1ys8802"),m(e,"class","results svelte-1ys8802")},m(_,w){L(_,e,w),R(e,i),ge(n,i,null),R(e,r),R(e,l),R(l,c),R(l,u),R(l,f),R(f,o),R(l,h),R(e,g),R(e,p),d=!0},p(_,[w]){var E;const C={};w&4&&(C.data=_[2]),n.$set(C),(!d||w&1)&&s!==(s=((E=_[0])==null?void 0:E.length)+"")&&_e(c,s),(!d||w&10)&&a!==(a=(_[1]?_[4](new Date(_[1])):_[4](new Date(_[3])))+"")&&_e(o,a)},i(_){d||(F(n.$$.fragment,_),d=!0)},o(_){z(n.$$.fragment,_),d=!1},d(_){_&&S(e),ve(n)}}}function Zr(t,e,i){let{filteredData:n}=e,{selectedDate:r}=e,{data:l}=e,{minDate:s}=e;const c=u=>u.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return t.$$set=u=>{"filteredData"in u&&i(0,n=u.filteredData),"selectedDate"in u&&i(1,r=u.selectedDate),"data"in u&&i(2,l=u.data),"minDate"in u&&i(3,s=u.minDate)},[n,r,l,s,c]}class Xr extends ye{constructor(e){super(),we(this,e,Zr,Yr,me,{filteredData:0,selectedDate:1,data:2,minDate:3})}}function Bn(t,e,i){const n=t.slice();return n[11]=e[i],n[13]=i,n}function Gn(t){let e,i,n,r=xe(t[11]).toLocaleDateString("en-US",{month:"short",day:"numeric"})+"",l,s,c,u,f;function a(){return t[9](t[11])}return{c(){e=P("div"),i=P("div"),n=P("p"),l=te(r),s=Q(),this.h()},l(o){e=T(o,"DIV",{class:!0,style:!0,title:!0});var h=I(e);i=T(h,"DIV",{class:!0});var g=I(i);n=T(g,"P",{});var p=I(n);l=ne(p,r),p.forEach(S),g.forEach(S),s=$(h),h.forEach(S),this.h()},h(){m(i,"class","count svelte-yofwpe"),m(e,"class","bar svelte-yofwpe"),nt(e,"height",t[3][t[13]]*2+"px"),nt(e,"background-color",t[5]===t[11]?"black":"var(--primary-color)"),m(e,"title",c=t[11]+": "+t[3][t[13]]+" incidents")},m(o,h){L(o,e,h),R(e,i),R(i,n),R(n,l),R(e,s),u||(f=We(e,"click",a),u=!0)},p(o,h){t=o,h&4&&r!==(r=xe(t[11]).toLocaleDateString("en-US",{month:"short",day:"numeric"})+"")&&_e(l,r),h&8&&nt(e,"height",t[3][t[13]]*2+"px"),h&36&&nt(e,"background-color",t[5]===t[11]?"black":"var(--primary-color)"),h&12&&c!==(c=t[11]+": "+t[3][t[13]]+" incidents")&&m(e,"title",c)},d(o){o&&S(e),u=!1,f()}}}function Kr(t){let e,i,n,r,l;i=new Xr({props:{filteredData:t[4],selectedDate:t[5],data:t[0],minDate:t[1]}});let s=x(t[2]),c=[];for(let u=0;u<s.length;u+=1)c[u]=Gn(Bn(t,s,u));return{c(){e=P("div"),pe(i.$$.fragment),n=Q(),r=P("div");for(let u=0;u<c.length;u+=1)c[u].c();this.h()},l(u){e=T(u,"DIV",{class:!0});var f=I(e);de(i.$$.fragment,f),n=$(f),r=T(f,"DIV",{class:!0});var a=I(r);for(let o=0;o<c.length;o+=1)c[o].l(a);a.forEach(S),f.forEach(S),this.h()},h(){m(r,"class","chart svelte-yofwpe"),m(e,"class","timeline-container svelte-yofwpe")},m(u,f){L(u,e,f),ge(i,e,null),R(e,n),R(e,r);for(let a=0;a<c.length;a+=1)c[a]&&c[a].m(r,null);l=!0},p(u,[f]){const a={};if(f&16&&(a.filteredData=u[4]),f&32&&(a.selectedDate=u[5]),f&1&&(a.data=u[0]),f&2&&(a.minDate=u[1]),i.$set(a),f&108){s=x(u[2]);let o;for(o=0;o<s.length;o+=1){const h=Bn(u,s,o);c[o]?c[o].p(h,f):(c[o]=Gn(h),c[o].c(),c[o].m(r,null))}for(;o<c.length;o+=1)c[o].d(1);c.length=s.length}},i(u){l||(F(i.$$.fragment,u),l=!0)},o(u){z(i.$$.fragment,u),l=!1},d(u){u&&S(e),ve(i),Ce(c,u)}}}function Jr(t,e,i){let n,{data:r=[]}=e;const l=Zn();let s,c,u=r,f={},a=[],o=[];function h(p){n===p?(i(4,u=r),i(5,n=null)):(i(4,u=r.filter(v=>{const d=xe(v["Post Date"]);return d&&d.toISOString().split("T")[0]===p})),i(5,n=p)),l("filteredData",u)}const g=p=>h(p);return t.$$set=p=>{"data"in p&&i(0,r=p.data)},t.$$.update=()=>{if(t.$$.dirty&1&&i(1,{min:s,max:c}=_i(r),s,(i(7,c),i(0,r))),t.$$.dirty&257&&r.length){i(8,f={});for(let p of r){const v=xe(p["Post Date"]);if(v&&!isNaN(v.getTime())){const d=v.toISOString().split("T")[0];i(8,f[d]=(f[d]||0)+1,f)}}}if(t.$$.dirty&398&&s&&c){i(2,a=[]),i(3,o=[]);for(let p=s.getTime();p<=c.getTime();p+=864e5){const v=new Date(p).toISOString().split("T")[0];a.push(v),o.push(f[v]||0)}}},i(5,n=null),[r,s,a,o,u,n,h,c,f,g]}class Qr extends ye{constructor(e){super(),we(this,e,Jr,Kr,me,{data:0})}}function $r(t){let e,i,n,r,l,s,c,u,f,a,o,h,g=t[2]>800&&Yn(t);return l=new Er({props:{data:t[1].length>0?t[1]:t[0]}}),u=new Rr({props:{data:t[0]}}),u.$on("updateFilteredData",t[3]),o=new Qr({props:{data:t[0]}}),o.$on("filteredData",t[3]),{c(){e=P("section"),i=P("section"),g&&g.c(),n=Q(),r=P("div"),pe(l.$$.fragment),s=Q(),c=P("div"),pe(u.$$.fragment),f=Q(),a=P("div"),pe(o.$$.fragment),this.h()},l(p){e=T(p,"SECTION",{class:!0});var v=I(e);i=T(v,"SECTION",{});var d=I(i);g&&g.l(d),d.forEach(S),n=$(v),r=T(v,"DIV",{class:!0});var y=I(r);de(l.$$.fragment,y),y.forEach(S),s=$(v),c=T(v,"DIV",{class:!0});var _=I(c);de(u.$$.fragment,_),_.forEach(S),v.forEach(S),f=$(p),a=T(p,"DIV",{class:!0});var w=I(a);de(o.$$.fragment,w),w.forEach(S),this.h()},h(){m(r,"class","mapContainer svelte-brfycw"),m(c,"class","panel svelte-brfycw"),m(e,"class","top svelte-brfycw"),m(a,"class","timeline svelte-brfycw")},m(p,v){L(p,e,v),R(e,i),g&&g.m(i,null),R(e,n),R(e,r),ge(l,r,null),R(e,s),R(e,c),ge(u,c,null),L(p,f,v),L(p,a,v),ge(o,a,null),h=!0},p(p,v){p[2]>800?g?(g.p(p,v),v&4&&F(g,1)):(g=Yn(p),g.c(),F(g,1),g.m(i,null)):g&&(Me(),z(g,1,1,()=>{g=null}),Ie());const d={};v&3&&(d.data=p[1].length>0?p[1]:p[0]),l.$set(d);const y={};v&1&&(y.data=p[0]),u.$set(y);const _={};v&1&&(_.data=p[0]),o.$set(_)},i(p){h||(F(g),F(l.$$.fragment,p),F(u.$$.fragment,p),F(o.$$.fragment,p),h=!0)},o(p){z(g),z(l.$$.fragment,p),z(u.$$.fragment,p),z(o.$$.fragment,p),h=!1},d(p){p&&(S(e),S(f),S(a)),g&&g.d(),ve(l),ve(u),ve(o)}}}function xr(t){let e,i="Loading...";return{c(){e=P("p"),e.textContent=i,this.h()},l(n){e=T(n,"P",{class:!0,"data-svelte-h":!0}),De(e)!=="svelte-1m6gtj"&&(e.textContent=i),this.h()},h(){m(e,"class","loading svelte-brfycw")},m(n,r){L(n,e,r)},p:le,i:le,o:le,d(n){n&&S(e)}}}function Yn(t){let e,i,n;return i=new Pr({props:{data:t[1].length>0?t[1]:t[0],windowWidth:t[2]}}),{c(){e=P("div"),pe(i.$$.fragment),this.h()},l(r){e=T(r,"DIV",{class:!0});var l=I(e);de(i.$$.fragment,l),l.forEach(S),this.h()},h(){m(e,"class","small")},m(r,l){L(r,e,l),ge(i,e,null),n=!0},p(r,l){const s={};l&3&&(s.data=r[1].length>0?r[1]:r[0]),l&4&&(s.windowWidth=r[2]),i.$set(s)},i(r){n||(F(i.$$.fragment,r),n=!0)},o(r){z(i.$$.fragment,r),n=!1},d(r){r&&S(e),ve(i)}}}function el(t){let e,i,n,r;const l=[xr,$r],s=[];function c(u,f){return u[0].length===0?0:1}return i=c(t),n=s[i]=l[i](t),{c(){e=P("section"),n.c(),this.h()},l(u){e=T(u,"SECTION",{class:!0});var f=I(e);n.l(f),f.forEach(S),this.h()},h(){m(e,"class","map")},m(u,f){L(u,e,f),s[i].m(e,null),r=!0},p(u,[f]){let a=i;i=c(u),i===a?s[i].p(u,f):(Me(),z(s[a],1,1,()=>{s[a]=null}),Ie(),n=s[i],n?n.p(u,f):(n=s[i]=l[i](u),n.c()),F(n,1),n.m(e,null))},i(u){r||(F(n),r=!0)},o(u){z(n),r=!1},d(u){u&&S(e),s[i].d()}}}function tl(t,e,i){let n=[],r=[],l=0;const s=()=>{i(2,l=window.innerWidth)},c=u=>{i(1,r=u==null?void 0:u.detail)};return Xn(async()=>{i(0,n=await Hr("https://docs.google.com/spreadsheets/d/e/2PACX-1vR2ixzurghRCd5eNEn15gsUC9wjAW2PoB2eIkxNvp89g2vIFjG-to5geUiBIN9yxJrJ_vZkIYesjKOW/pub?output=csv")),i(0,n=n.filter(f=>f["Add to Map"]=="TRUE")),s(),window.addEventListener("resize",s)}),[n,r,l,c]}class nl extends ye{constructor(e){super(),we(this,e,tl,el,me,{})}}function il(t){let e,i,n;return i=new nl({}),{c(){e=P("article"),pe(i.$$.fragment),this.h()},l(r){e=T(r,"ARTICLE",{class:!0});var l=I(e);de(i.$$.fragment,l),l.forEach(S),this.h()},h(){m(e,"class","svelte-1732do2")},m(r,l){L(r,e,l),ge(i,e,null),n=!0},p:le,i(r){n||(F(i.$$.fragment,r),n=!0)},o(r){z(i.$$.fragment,r),n=!1},d(r){r&&S(e),ve(i)}}}class al extends ye{constructor(e){super(),we(this,e,null,il,me,{})}}export{al as component};
